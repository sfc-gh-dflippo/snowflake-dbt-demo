---
auto_generated: true
description: SQL Server
last_scraped: '2026-01-14T16:54:01.467185+00:00'
scraper_version: 1.1.0
source_url: https://docs.snowflake.com/en/migrations/snowconvert-docs/translation-references/transact/transact-built-in-functions
title: SnowConvert AI - SQL Server-Azure Synapse - Built-in functions | Snowflake
  Documentation
---

1. [Overview](../../../../guides/README.md)
2. [Snowflake Horizon Catalog](../../../../user-guide/snowflake-horizon.md)
4. [Applications and tools for connecting to Snowflake](../../../../guides/overview-connecting.md)
6. [Virtual warehouses](../../../../user-guide/warehouses.md)
7. [Databases, Tables, & Views](../../../../guides/overview-db.md)
8. [Data types](../../../../data-types.md)
10. Data Integration

    - [Snowflake Openflow](../../../../user-guide/data-integration/openflow/about.md)
    - Apache Iceberg™

      - [Apache Iceberg™ Tables](../../../../user-guide/tables-iceberg.md)
      - [Snowflake Open Catalog](../../../../user-guide/opencatalog/overview.md)
11. Data engineering

    - [Data loading](../../../../guides/overview-loading-data.md)
    - [Dynamic Tables](../../../../user-guide/dynamic-tables-about.md)
    - [Streams and Tasks](../../../../user-guide/data-pipelines-intro.md)
    - [dbt Projects on Snowflake](../../../../user-guide/data-engineering/dbt-projects-on-snowflake.md)
    - [Data Unloading](../../../../guides/overview-unloading-data.md)
12. [Storage Lifecycle Policies](../../../../user-guide/storage-management/storage-lifecycle-policies.md)
13. [Migrations](../../../README.md)

    * Tools

      * [SnowConvert AI](../../overview.md)

        + General

          + [About](../../general/about.md)
          + [Getting Started](../../general/getting-started/README.md)
          + [Terms And Conditions](../../general/terms-and-conditions/README.md)
          + [Release Notes](../../general/release-notes/release-notes/README.md)
          + User Guide

            + [SnowConvert AI](../../general/user-guide/snowconvert/README.md)
            + [Project Creation](../../general/user-guide/project-creation.md)
            + [Extraction](../../general/user-guide/extraction.md)
            + [Deployment](../../general/user-guide/deployment.md)
            + [Data Migration](../../general/user-guide/data-migration.md)
            + [Data Validation](../../general/user-guide/data-validation.md)
            + [Power BI Repointing](../../general/user-guide/power-bi-repointing-general.md)
            + [ETL Migration](../../general/user-guide/etl-migration-replatform.md)
          + [Technical Documentation](../../general/technical-documentation/README.md)
          + [Contact Us](../../general/contact-us.md)
          + Others

            + [Using SnowConvert AI In A Ubuntu Docker Image](../../general/others/using-snowconvert-in-a-ubuntu-docker-image.md)
          + [Frequently Asked Questions (FAQ)](../../general/frequently-asked-questions-faq.md)")
        + Translation References

          + [General](../general/README.md)
          + [Teradata](../teradata/README.md)
          + [Oracle](../oracle/README.md)
          + [SQL Server-Azure Synapse](README.md)

            - [ANSI NULLS](transact-ansi-nulls.md)
            - [QUOTED\_IDENTIFIER](transact-quoted-identifier.md)
            - [Built-in Functions](transact-built-in-functions.md)
            - [Built-in Procedures](transact-built-in-procedures.md)
            - Data Definition Language

              - [ALTER TABLE](transact-alter-statement.md)
              - [CONTINUE HANDLER](transact-continue-handler.md)
              - [EXIT HANDLER](transact-exit-handler.md)
              - [CREATE FUNCTION](transact-create-function.md)
              - [CREATE INDEX](transact-create-index.md)
              - [CREATE MATERIALIZED VIEW](transact-create-materialized-view.md)
              - [CREATE PROCEDURE (JavaScript)](transact-create-procedure.md)")
              - [CREATE PROCEDURE (Snowflake Scripting)](transact-create-procedure-snow-script.md)")
              - [CREATE TABLE](transact-create-table.md)
              - [CREATE VIEW](transact-create-view.md)
            - [Data Types](transact-data-types.md)
            - [Data Manipulation Language](transact-dmls.md)
            - [General Statements](transact-general-statements.md)
            - [SELECT](transact-select.md)
            - [SYSTEM TABLES](transact-system-tables.md)
            - ETL And BI Repointing

              - [Power BI Transact and Synapse Repointing](etl-bi-repointing/power-bi-transact-repointing.md)
          + [Sybase IQ](../sybase/README.md)
          + [Hive-Spark-Databricks SQL](../hive/README.md)
          + [Redshift](../redshift/README.md)
          + [PostgreSQL-Greenplum-Netezza](../postgres/README.md)
          + [BigQuery](../bigquery/README.md)
          + [Vertica](../vertica/README.md)
          + [IBM DB2](../db2/README.md)
          + [SSIS](../ssis/README.md)
        + [Migration Assistant](../../migration-assistant/README.md)
        + [Data Validation CLI](../../data-validation-cli/index.md)
        + [AI Verification](../../snowconvert-ai-verification.md)
      * [Snowpark Migration Accelerator](../../../sma-docs/README.md)
    * Guides

      * [Teradata](../../../guides/teradata.md)
      * [Databricks](../../../guides/databricks.md)
      * [SQL Server](../../../guides/sqlserver.md)
      * [Amazon Redshift](../../../guides/redshift.md)
      * [Oracle](../../../guides/oracle.md)
      * [Azure Synapse](../../../guides/azuresynapse.md)
15. [Queries](../../../../guides/overview-queries.md)
16. [Listings](../../../../collaboration/collaboration-listings-about.md)
17. [Collaboration](../../../../guides/overview-sharing.md)
19. [Snowflake AI & ML](../../../../guides/overview-ai-features.md)
21. [Snowflake Postgres](../../../../user-guide/snowflake-postgres/about.md)
23. [Alerts & Notifications](../../../../guides/overview-alerts.md)
25. [Security](../../../../guides/overview-secure.md)
26. [Data Governance](../../../../guides/overview-govern.md)
27. [Privacy](../../../../guides/overview-privacy.md)
29. [Organizations & Accounts](../../../../guides/overview-manage.md)
30. [Business continuity & data recovery](../../../../user-guide/replication-intro.md)
32. [Performance optimization](../../../../guides/overview-performance.md)
33. [Cost & Billing](../../../../guides/overview-cost.md)

[Guides](../../../../guides/README.md)[Migrations](../../../README.md)Tools[SnowConvert AI](../../overview.md)Translation References[SQL Server-Azure Synapse](README.md)Built-in Functions

# SnowConvert AI - SQL Server-Azure Synapse - Built-in functions[¶](#snowconvert-ai-sql-server-azure-synapse-built-in-functions "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

For more information about built-in functions and their Snowflake equivalents, also see [Common built-in functions](../general/built-in-functions).

## Aggregate[¶](#aggregate "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| TransactSQL | Snowflake | Notes |
| APPROX\_COUNT\_DISTINCT | APPROX\_COUNT\_DISTINCT |  |
| AVG​ | AVG |  |
| CHECKSUM\_AGG | *\*to be defined* |  |
| COUNT | COUNT |  |
| COUNT\_BIG | *\*to be defined* |  |
| GROUPING | GROUPING |  |
| GROUPING\_ID | GROUPING\_ID |  |
| MAX | MAX |  |
| MIN | MIN |  |
| STDEV | STDDEV, STDEV\_SAMP |  |
| STDEVP | STDDEV\_POP |  |
| SUM | SUM |  |
| VAR | VAR\_SAMP |  |
| VARP | VAR\_POP​ |  |

## Analytic[¶](#analytic "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| CUME\_DIST | CUME\_DIST |  |
| FIRST\_VALUE | FIRST\_VALUE |  |
| LAG | LAG |  |
| LAST\_VALUE | LAST\_VALUE |  |
| LEAD | LEAD |  |
| PERCENTILE\_CONT | PERCENTILE\_CONT |  |
| PERCENTILE\_DISC | PERCENTILE\_DISC |  |
| PERCENT\_RANK | PERCENT\_RANK |  |

## Collation[¶](#collation "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| COLLATIONPROPERTY | *\*to be defined* |  |
| TERTIARY\_WEIGHTS | *\*to be defined* |  |

## Configuration[¶](#configuration "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| ​@@DBTS | *\*to be defined* |  |
| @@LANGID | *\*to be defined* |  |
| @@LANGUAGE | *\*to be defined* |  |
| @@LOCK\_TIMEOUT | *\*to be defined* |  |
| @@MAX\_CONNECTIONS | *\*to be defined* |  |
| @@MAX\_PRECISION | *\*to be defined* |  |
| @@NESTLEVEL | *\*to be defined* |  |
| @@OPTIONS | *\*to be defined* |  |
| @@REMSERVER | *\*to be defined* |  |
| @@SERVERNAME | CONCAT(’[app.snowflake.com](http://app.snowflake.com/)’, CURRENT\_ACCOUNT( )) |  |
| @@SERVICENAME | *\*to be defined* |  |
| @@SPID | *\*to be defined* |  |
| @@TEXTSIZE | *\*to be defined* |  |
| @@VERSION | *\*to be defined* | Can be mimicked by using CURRENT\_VERSION |

## Conversion[¶](#conversion "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| CAST | CAST | Returns NULL if the value isn’t a number, otherwise returns the numeric value as its. When using operators such as <, >, =, <> then must be follow by a NULL |
| CONVERT | Check [CONVERT](#convert) | Same behavior as CAST |
| PARSE | *\*to be defined* |  |
| TRY\_CAST | TRY\_CAST | Returns NULL if the value isn’t a number, otherwise returns the numeric value as its. When using operators such as <, >, =, <> then must be follow by a NULL |
| [TRY\_CONVERT](#try-convert) | *\*to be defined* | Same behavior as TRY\_CAST |
| TRY\_PARSE | TRY\_CAST | Behavior may be different when parsing an integer as date or timestamp. |

## Cryptographic[¶](#cryptographic "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| ASYMKEY\_ID | *\*to be defined* |  |
| ASYMKEYPROPERTY | *\*to be defined* |  |
| CERTENCODED | *\*to be defined* |  |
| CERTPRIVATEKEY | *\*to be defined* |  |
| DECRYPTBYASYMKEY | *\*to be defined* |  |
| DECRYPTBYCERT | *\*to be defined* |  |
| DECRYPTBYKEY | *\*to be defined* |  |
| DECRYPTBYKEYAUTOASYMKEY | *\*to be defined* |  |
| DECRYPTBYKEYAUTOCERT | *\*to be defined* |  |
| DECRYPTBYPASSPHRASE | \_\*to be defined\_​ | Can be mimicked by using DENCRYPT\_RAW |
| ENCRYPTBYASYMKEY | *\*to be defined* |  |
| ENCRYPTBYCERT | *\*to be defined* |  |
| ENCRYPTBYKEY | *\*to be defined* |  |
| ENCRYPTBYPASSPHRASE | *\*to be defined* | Can be mimicked by using ENCRYPT\_RAW |
| HASHBYTES | **MD5, SHA1, SHA2** | Currently only supported separated hash. Use proper one according to the required algorithm  **MD5**, is a 32-character hex-encoded  **SHA1**, has a 40-character hex-encoded string containing the 160-bit  **SHA2**, a hex-encoded string containing the N-bit SHA-2 message digest. Sizes are:  224 = SHA-224  256 = SHA-256 (Default)  384 = SHA-384  512 = SHA-512 |
| IS\_OBJECTSIGNED | *\*to be defined* |  |
| KEY\_GUID | *\*to be defined* |  |
| KEY\_ID | *\*to be defined* |  |
| KEY\_NAME | *\*to be defined* |  |
| SIGNBYASYMKEY | *\*to be defined* |  |
| SIGNBYCERT | *\*to be defined* |  |
| SYMKEYPROPERTY | *\*to be defined* |  |
| VERIGYSIGNEDBYCERT | *\*to be defined* |  |

## Cursor[¶](#cursor "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| @@CURSOR\_ROWS | *\*to be defined* | ​ |
| @@FETCH\_STATUS | *\*to be defined* |  |
| CURSOR\_STATUS | *\*to be defined* |  |

## Data type[¶](#data-type "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| DATALENGTH | OCTET\_LENGTH | ​Snowflake doesn’t use fractional bytes so length is always calculated as 8 \* OCTET\_LENGTH |
| IDENT\_SEED | *\*to be defined* |  |
| IDENT\_CURRENT | *\*to be defined* |  |
| IDENTITY | *\*to be defined* |  |
| IDENT\_INCR | *\*to be defined* |  |
| SQL\_VARIANT\_PROPERTY | *\*to be defined* |  |

## Date & Time[¶](#date-time "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| @@DATEFIRST | *\*to be defined* |  |
| @@LANGUAGE | *\*to be defined* |  |
| CURRENT\_TIMESTAMP | CURRENT\_TIMESTAMP |  |
| CURRENT\_TIMEZONE | *\*to be defined* |  |
| DATEADD | DATEADD |  |
| DATEDIFF | DATEDIFF |  |
| DATEDIFF\_BIG | *\*to be defined* |  |
| DATEFROMPARTS | DATE\_FROM\_PARTS |  |
| DATENAME | *\*to be defined* | This function receives two arguments: a datepart and date. It returns a string. Here are the supported dateparts from TSQL to Snowflake  **year, yyyy, yy** -> DATE\_PART(YEAR, “$date”) **quarter, qq, q** -> DATE\_PART(QUARTER, “$date”) **month, mm, m** -> **MONTHNAME**( “$date”), thou only providing a three-letter english month name **dayofyear, dy, y** -> DATE\_PART(DAYOFYEAR, “$date”) **day, dd, d** -> DATE\_PART(DAY, “$date”) **week, wk, ww** -> DATE\_PART(WEEK, “$date”)  **weekday, dw** -> **DAYNAME**(“$date”), thou only providing an three-letter english day name **hour, hh** -> DATE\_PART(HOUR, “$date”) **minute, n** -> DATE\_PART(MINUTE, “$date”) **second, ss, s** -> DATE\_PART(SECOND, “$date”) **millisecond, ms** -> DATE\_PART(MS, “$date”) **microsecond, mcs** -> DATE\_PART(US, “$date”) **nanosecond, ns** -> DATE\_PART(NS, “$date”) **TZoffset, tz** -> needs a special implementation to get the time offset |
| DATEPART | DATE\_PART |  |
| DATETIME2FROMPARTS | *\*to be defined* |  |
| DATETIMEFROMPARTS | *\*to be defined* | ​Can be mimicked by using a combination of **DATE\_FROM\_PARTS and TIME\_FROM\_PARTS** |
| DATETIMEOFFSETFROMPARTS | *\*to be defined* |  |
| DAY | DAY |  |
| EOMONTH | *\*to be defined* | Can be mimicked by using **LAST\_DAY** |
| GETDATE | GETDATE |  |
| GETUTCDATE | *\*to be defined* | Can be mimicked by using **CONVERT\_TIMEZONE** |
| ISDATE | *\*to be defined* | Can be mimicked by using **TRY\_TO\_DATE**  Returns NULL if the value isn’t a **date**, otherwise returns the date value as its. When using operators such as <, >, =, <> then must be follow by a NULL |
| MONTH | MONTH |  |
| SMALLDATETIMEFROMPARTS | *\*to be defined* | ​​Can be mimicked by using a combination of **DATE\_FROM\_PARTS and TIME\_FROM\_PARTS** |
| SWITCHOFFSET | *\*to be defined* | ​Can be mimicked by using **CONVERT\_TIMEZONE** |
| SYSDATETIME | LOCALTIME |  |
| SYSDATETIMEOFFSET | *\*to be defined* | ​Can be mimicked by using **CONVERT\_TIMEZONE and LOCALTIME** |
| SYSUTCDATETIME | *\*to be defined* | ​​Can be mimicked by using **CONVERT\_TIMEZONE and LOCALTIME** |
| TIMEFROMPARTS | TIME\_FROM\_PARTS | ​ |
| TODATETIMEOFFSET | *\*to be defined* | ​Can be mimicked by using **CONVERT\_TIMEZONE** |
| YEAR | YEAR |  |

## JSON[¶](#json "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| ISJSON | CHECK\_JSON | ​This is a ‘preview feature’ in Snowflake |
| JSON\_VALUE | *\*to be defined* | Can be mimic by using  TO\_VARCHAR(GET\_PATH(PARSE\_JSON(JSON), PATH)) |
| JSON\_QUERY | *\*to be defined* |  |
| JSON\_MODIFY | *\*to be defined* |  |

## Mathematical[¶](#mathematical "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| ABS | ABS |  |
| ACOS | ACOS |  |
| ASIN | ASIN |  |
| ATAN | ATAN |  |
| ATN2 | ATAN2 |  |
| CEILING | CEIL |  |
| COS | COS |  |
| COT | COT |  |
| DEGREES | DEGREES |  |
| EXP | EXP |  |
| FLOOR | FLOOR |  |
| LOG | LN |  |
| LOG10 | LOG |  |
| PI | PI |  |
| POWER | POWER |  |
| RADIANS | RADIANS |  |
| RAND | RANDOM |  |
| ROUND | ROUND |  |
| SIGN | SIGN |  |
| SIN | SIN |  |
| SQRT | SQRT |  |
| SQUARE | SQUARE |  |

## Logical[¶](#logical "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| CHOOSE | *\*to be defined* | Can be mimic by using DECODE |
| GREATEST | GREATEST |  |
| IIF | IIF |  |
| LEAST | LEAST |  |
| NULLIF | NULLIF |  |

## Metadata[¶](#metadata "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| TransactSQL | Snowflake | Notes |
| @@PROCID | *\*to be defined* |  |
| APP\_NAME | *\*to be defined* |  |
| APPLOCK\_MODE | *\*to be defined* |  |
| APPLOCK\_TEST | *\*to be defined* |  |
| ASSEMBLYPROPERTY | *\*to be defined* |  |
| COL\_LENGTH | A UDF named COL\_LENGTH\_UDF is provided to retrieve this information. This UDF works only with VARCHAR types, as specified in the Transact-SQL documentation. For other data types, it returns NULL. |  |
| COL\_NAME | *\*to be defined* |  |
| COLUMNPROPERTY | *\*to be defined* |  |
| DATABASE\_PRINCIPAL\_ID | *\*to be defined* | Maps to CURRENT\_USER when no args |
| DATABASEPROPERTYEX | *\*to be defined* |  |
| DB\_ID | *\*to be defined* | We recommend changing to CURRENT\_DATABASE(). If there is a need to emulate this functionality.  SELECT DATE\_PART(EPOCH,CREATED) FROM INFORMATION\_SCHEMA.DATABASES WHERE DATABASE\_NAME = ‘DB’ ;  Can achieve something similar |
| DB\_NAME | *\*to be defined* | Mostly used in the procedurename mentioned above |
| FILE\_ID | *\*to be defined* |  |
| FILE\_IDEX | *\*to be defined* |  |
| FILE\_NAME | *\*to be defined* |  |
| FILEGROUP\_ID | *\*to be defined* |  |
| FILEGROUP\_NAME | *\*to be defined* |  |
| FILEGROUPPROPERTY | *\*to be defined* |  |
| FILEPROPERTY | *\*to be defined* |  |
| FULLTEXTCATALOGPROPERTY | *\*to be defined* |  |
| FULLTEXTSERVICEPROPERTY | *\*to be defined* |  |
| INDEX\_COL | *\*to be defined* |  |
| INDEXKEY\_PROPERTY | *\*to be defined* |  |
| INDEXPROPERTY | *\*to be defined* |  |
| NEXT VALUE FOR | *\*to be defined* |  |
| OBJECT\_DEFINITION | *\*to be defined* |  |
| OBJECT\_ID | *\*to be defined* | In most cases can be replaced. Most cases are like: IF OBJECT\_ID(‘dbo.TABLE’) IS NOT NULL DROP TABLE dbo.Table which can be replaced by a DROP TABLE IF EXISTS (this syntax is also supported in SQL SERVER). If the object\_id needs to be replicated, a UDF is added depending on the second parameter of the function call. |
| OBJECT\_NAME | *\*to be defined* | Can be replaced by: CREATE OR REPLACE PROCEDURE FOO() RETURNS STRING LANGUAGE JAVASCRIPT AS ‘ var rs = snowflake.execute({sqlText:`SELECT CURRENT_DATABASE() | '.' | ?`, binds:[arguments.callee.name]}); rs.next(); var procname = rs.getColumnValue(1); return procname; ‘; |
| OBJECT\_NAME(@@PROCID) | ‘ObjectName’ | This transformation only occurs when it is inside a DeclareStatement.  ObjectName is the name of the TopLevelObject that contains the Function. |
| OBJECT\_SCHEMA\_NAME | *\*to be defined* |  |
| OBJECT\_SCHEMA\_NAME(@@PROCID) | :OBJECT\_SCHEMA\_NAME | This transformation only occurs when it is inside a DeclareStatement. |
| OBJECTPROPERTY | *\*to be defined* |  |
| OBJECTPROPERTYEX | *\*to be defined* |  |
| ORIGINAL\_DB\_NAME | *\*to be defined* |  |
| PARSENAME | PARSENAME\_UDF | It creates a UDF to emulate the same behavior of Parsename function. |
| *\*to be defined* |  |  |
| SCHEMA\_NAME | *\*to be defined* |  |
| SCOPE\_IDENTITY | *\*to be defined* | It this is needed I would recommend to use sequences, and capture the value before insert |
| SERVERPROPERTY | *\*to be defined* |  |
| STATS\_DATE | *\*to be defined* |  |
| TYPE\_ID | *\*to be defined* |  |
| TYPE\_NAME | *\*to be defined* |  |
| TYPEPROPERTY | *\*to be defined* |  |
| VERSION | *\*to be defined* |  |

## Ranking[¶](#ranking "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| DENSE\_RANK | DENSE\_RANK |  |
| NTILE | NTILE |  |
| RANK | RANK |  |
| ROW\_NUMBER | ROW\_NUMBER |  |

## Replication[¶](#replication "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| PUBLISHINGSERVERNAME | *\*to be defined* |  |

## Rowset[¶](#rowset "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| OPENDATASOURCE | *\*to be defined* |  |
| OPENJSON | *\*to be defined* |  |
| QPENQUERY | *\*to be defined* |  |
| OPENROWSET | *\*to be defined* |  |
| OPENXML | OPENXML\_UDF | User-defined function used as a equivalent behavior in Snowflake. |
| STRING\_SPLIT | SPLIT\_TO\_TABLE | The enable\_ordinal flag in Transact-SQL’s STRING\_SPLIT is not directly supported by Snowflake’s SPLIT\_TO\_TABLE function. If the ordinal column is required, a user-defined function (UDF) named STRING\_SPLIT\_UDF will be generated to replicate this behavior. Without the ordinal column, note that STRING\_SPLIT returns a single column named value, while SPLIT\_TO\_TABLE returns three columns: value, index (equivalent to ordinal), and seq. For additional details, see the [SPLIT\_TO\_TABLE documentation](https://docs.snowflake.com/en/sql-reference/functions/split_to_table). |

## Security[¶](#security "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| CERTENCODED | *\*to be defined* |  |
| CERTPRIVATEKEY | *\*to be defined* |  |
| CURRENT\_USER | CURRENT\_USER |  |
| DATABASE\_PRINCIPAL\_ID | *\*to be defined* |  |
| HAS\_PERMS\_BY\_NAME | *\*to be defined* |  |
| IS\_MEMBER | *\*to be defined* | Change to query INFORMATION\_SCHEMA although the client might require defining new roles |
| IS\_ROLEMEMBER | *\*to be defined* | Snowflake’s a similar function  **IS\_ROLE\_IN\_SESSION** |
| IS\_SRVROLEMEMBER | *\*to be defined* |  |
| LOGINPROPERTY | *\*to be defined* |  |
| ORIGINAL\_LOGIN | *\*to be defined* |  |
| PERMISSIONS | *\*to be defined* |  |
| PWDCOMPARE | *\*to be defined* |  |
| PWDENCRYPT | *\*to be defined* |  |
| SCHEMA\_ID | *\*to be defined* |  |
| SCHEMA\_NAME | *\*to be defined* |  |
| SESSION\_USER | *\*to be defined* |  |
| SUSER\_ID | *\*to be defined* |  |
| SUSER\_NAME | *\*to be defined* |  |
| SUSER\_SID | *\*to be defined* |  |
| SUSER\_SNAME | *\*to be defined* |  |
| sys.fn\_builtin\_permissions | *\*to be defined* |  |
| sys.fn\_get\_audit\_file | *\*to be defined* |  |
| sys.fn\_my\_permissions | *\*to be defined* |  |
| SYSTEM\_USER | *\*to be defined* |  |
| USER\_ID | *\*to be defined* |  |
| USER\_NAME | *\*to be defined* | Maps to CURRENT\_USER |

## String[¶](#string "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| ASCII | ASCII |  |
| CHAR | CHR, CHAR |  |
| CHARINDEX | CHARINDEX |  |
| CONCAT | CONCAT |  |
| CONCAT\_WS | CONCAT\_WS |  |
| COALESCE | COALESCE |  |
| DIFFERENCE | *\*to be defined* |  |
| FORMAT | TO\_CHAR | The SSC-EWI-0006 or SSC-FDM-0036 could be generated when the format (numeric or date time) is not fully supported. |
| LEFT | LEFT |  |
| LEN | LEN |  |
| LOWER | LOWER |  |
| LTRIM | LTRIM |  |
| NCHAR | *\*to be defined* |  |
| PATINDEX | *\*to be defined* | Map to REGEXP\_INSTR |
| QUOTENAME | QUOTENAME\_UDF | It creates a UDF to emulate the same behavior of Quotename function |
| REPLACE | REPLACE |  |
| REPLICATE | REPEAT |  |
| REVERSE | REVERSE |  |
| RIGHT | RIGHT |  |
| RTRIM | RTRIM |  |
| SOUNDEX | SOUNDEX |  |
| SPACE | *\*to be defined* |  |
| STR | *\*to be defined* |  |
| STRING\_AGG | *\*to be defined* |  |
| STRING\_ESCAPE | *\*to be defined* |  |
| STRING\_SPLIT | SPLIT\_TO\_TABLE |  |
| STUFF | *\*to be defined* | CREATE OR REPLACE FUNCTION STUFF(S string, STARTPOS int, LENGTH int, NEWSTRING string) RETURNS string LANGUAGE SQL AS ‘ left(S, STARTPOS) |
| SUBSTRING | SUBSTRING |  |
| TRANSLATE | TRANSLATE |  |
| TRIM | TRIM |  |
| UNICODE | UNICODE |  |
| UPPER | UPPER |  |

## System[¶](#system "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| $PARTITION | *\*to be defined* |  |
| @@ERROR | *\*to be defined* |  |
| @@IDENTITY | *\*to be defined* | It this is needed I would recommend to use sequences, and capture the value before insert |
| @@PACK\_RECEIVED | *\*to be defined* |  |
| @@ROWCOUNT | *\*to be defined* |  |
| @@TRANCOUNT | *\*to be defined* |  |
| BINARY\_CHECKSUM | *\*to be defined* |  |
| CHECKSUM | *\*to be defined* |  |
| COMPRESS | COMPRESS | ​Snowflake’s version has a method argument to indicate the compression method. These are the valid values: **SNAPPY, ZLIB, ZSTD, BZ2**  The compression level is specified in parentheses and must be a non-negative integer |
| CONNECTIONPROPERTY | *\*to be defined* |  |
| CONTEXT\_INFO | *\*to be defined* |  |
| CURRENT\_REQUEST\_ID | *\*to be defined* |  |
| CURRENT\_TRANSACTION\_ID | *\*to be defined* |  |
| DECOMPRESS | *\*to be defined* | Snowflake has two functions for these: **DECOMPRESS\_BINARY** and **DECOMPRESS\_STRING**​ |
| ERROR\_LINE | *\*to be defined* | SnowScript: Not supported in Snowflake with **[SSC-EWI-0040](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI)**.  JavaScript: Will map to **ERROR\_LINE** helper. EXEC helper will capture the Exception line property from the stack trace. |
| ERROR\_MESSAGE | SQLERRM | Added **SSC-FDM-TS0023** returned error message could be different in Snowflake. |
| ERROR\_NUMBER | *\*to be defined* | SnowScript: Not supported in Snowflake with **[SSC-EWI-0040](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI)**.  JavaScript: Will map to **ERROR\_NUMBER** helper. EXEC helper will capture the Exception code property. |
| ERROR\_PROCEDURE | *Mapped* | SnowScript: Use current procedure name, added **SSC-FDM-TS0023** result value is based on the stored procedure where the function is called instead of where the exception occurs.  JavaScript: Will map to **ERROR\_PROCEDURE** helper, taken from the `arguments.callee.name` procedure property |
| ERROR\_SEVERITY | *\*to be defined* | SnowScript: Not supported in Snowflake with **[SSC-EWI-0040](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI)**. |
| ERROR\_STATE | SQLSTATE | SnowScript: Converted to **SQLSTATE** snowflake property, added **SSC-FDM-TS0023** returned value could be different in Snowflake.  JavaScript: Helper will capture Exception state property |
| FORMATMESSAGE | FORMATEMESSAGE\_UDF | It creates a UDF to emulate the same behavior of FORMATMESSAGE function but with some limitations. |
| GET\_FILESTREAM\_TRANSACTION\_CONTEXT | *\*to be defined* |  |
| GETANSINULL | *\*to be defined* |  |
| HOST\_ID | *\*to be defined* |  |
| HOST\_NAME | *\*to be defined* |  |
| ISNULL | NVL |  |
| ISNUMERIC | *\*to be defined* | No direct equivalent but can be mapped to a custom UDF, returning the same values as in TSQL. |
| MIN\_ACTIVE\_ROWVERSION | *\*to be defined* | ​ |
| NEWID | *\*to be defined* | ​Maps to UUID\_STRING |
| NEWSEQUENTIALID | *\*to be defined* | ​ |
| ROWCOUNT\_BIG | *\*to be defined* | ​ |
| SESSION\_CONTEXT | *\*to be defined* | ​ |
| SESSION\_ID | *\*to be defined* | ​ |
| XACT\_STATE | *\*to be defined* | ​ |

## System Statistical[¶](#system-statistical "Link to this heading")

| TransactSql | Snowflake | Notes |
| --- | --- | --- |
| @@CONNECTIONS | *\*to be defined* | ​Snowflake’s a similar function: **LOGIN\_HISTORY.**  Returns login events within a specified time range |
| @@PACK\_RECEIVED | *\*to be defined* |  |
| @@CPU\_BUSY | *\*to be defined* |  |
| @@PACK\_SENT | *\*to be defined* |  |
| @@TIMETICKS | *\*to be defined* |  |
| @@IDLE | *\*to be defined* |  |
| @@TOTAL\_ERRORS | *\*to be defined* |  |
| @@IO\_BUSY | *\*to be defined* |  |
| @@TOTAL\_READ | *\*to be defined* |  |
| @@PACKET\_ERRORS | *\*to be defined* |  |
| @@TOTAL\_WRITE | *\*to be defined* |  |

## Text & Image[¶](#text-image "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| TEXTPTR | *\*to be defined* |  |
| TEXTVALID | *\*to be defined* |  |

## Trigger[¶](#trigger "Link to this heading")

| TransactSQL | Snowflake | Notes |
| --- | --- | --- |
| COLUMNS\_UPDATED | *\*to be defined* |  |
| EVENTDATA | *\*to be defined* |  |
| TRIGGER\_NESTLEVEL | *\*to be defined* |  |
| UPDATE | *\*to be defined* |  |

# System functions[¶](#system-functions "Link to this heading")

This section describes the functional equivalents of system functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to the creation of UDFs in Snowflake.

## ISNULL[¶](#isnull "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#description "Link to this heading")

Replaces NULL with the specified replacement value. ([ISNULL in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/isnull-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#sample-source-pattern "Link to this heading")

#### Syntax[¶](#syntax "Link to this heading")

##### SQL Server[¶](#sql-server "Link to this heading")

```
ISNULL ( check_expression , replacement_value )
```

Copy

##### Snowflake SQL[¶](#snowflake-sql "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/nvl.html)

```
NVL( <expr1> , <expr2> )
```

Copy

### Examples[¶](#examples "Link to this heading")

#### SQL Server[¶](#id1 "Link to this heading")

```
SELECT ISNULL(NULL, 'SNOWFLAKE') AS COMPANYNAME;
```

Copy

**Result:**

| COMPANYNAME |
| --- |
| SNOWFLAKE |

##### Snowflake SQL[¶](#id2 "Link to this heading")

```
SELECT
NVL(NULL, 'SNOWFLAKE') AS COMPANYNAME;
```

Copy

**Result:**

| COMPANYNAME |
| --- |
| SNOWFLAKE |

## NEWID[¶](#newid "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id3 "Link to this heading")

Creates a unique value of type uniqueidentifier. ([NEWID in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/newid-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id4 "Link to this heading")

#### Syntax[¶](#id5 "Link to this heading")

##### SQL Server[¶](#id6 "Link to this heading")

```
NEWID ( )
```

Copy

##### Snowflake SQL[¶](#id7 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/nvl.html)

```
UUID_STRING()
```

Copy

### Examples[¶](#id8 "Link to this heading")

Warning

Outputs may differ because it generates a unique ID in runtime

#### SQL Server[¶](#id9 "Link to this heading")

```
SELECT NEWID ( ) AS ID;
```

Copy

**Result:**

| ID |
| --- |
| 47549DDF-837D-41D2-A59C-A6BC63DF7910 |

##### Snowflake SQL[¶](#id10 "Link to this heading")

```
SELECT
UUID_STRING( ) AS ID;
```

Copy

**Result:**

| ID |
| --- |
| 6fd4312a-7925-4ad9-85d8-e039efd82089 |

## NULLIF[¶](#nullif "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id11 "Link to this heading")

Returns a null value if the two specified expressions are equal.

### Sample Source Pattern[¶](#id12 "Link to this heading")

#### Syntax[¶](#id13 "Link to this heading")

##### SQL Server[¶](#id14 "Link to this heading")

```
NULLIF ( check_expression , replacement_value )
```

Copy

##### Snowflake SQL[¶](#id15 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/nullif.html)

```
NULLIF( <expr1> , <expr2> )
```

Copy

### Examples[¶](#id16 "Link to this heading")

#### SQL Server[¶](#id17 "Link to this heading")

```
SELECT NULLIF(6,9) AS RESULT1, NULLIF(5,5) AS RESULT2;
```

Copy

**Result:**

| RESULT1 | RESULT2 |
| --- | --- |
| 6 | null |

##### Snowflake SQL[¶](#id18 "Link to this heading")

```
SELECT
NULLIF(6,9) AS RESULT1,
NULLIF(5,5) AS RESULT2;
```

Copy

**Result:**

| RESULT1 | RESULT2 |
| --- | --- |
| 6 | null |

## @@ROWCOUNT[¶](#rowcount "Link to this heading")

Applies to

* SQL Server

### Description[¶](#id19 "Link to this heading")

Returns the number of rows affected by the last statement. ([@@ROWCOUNT in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/rowcount-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id20 "Link to this heading")

#### Syntax[¶](#id21 "Link to this heading")

##### SQL Server[¶](#id22 "Link to this heading")

```
@@ROWCOUNT
```

Copy

##### Snowflake SQL[¶](#id23 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/developer-guide/snowflake-scripting/dml-status)

```
SQLROWCOUNT
```

Copy

### Examples[¶](#id24 "Link to this heading")

#### SQL Server[¶](#id25 "Link to this heading")

```
CREATE TABLE table1
(
    column1 INT
);

CREATE PROCEDURE procedure1
AS
BEGIN
    declare @addCount int = 0;

    INSERT INTO table1 (column1) VALUES (1),(2),(3);
    set @addCount = @addCount + @@ROWCOUNT

   select @addCount
END
;
GO

EXEC procedure1;
```

Copy

**Result:**

|  |
| --- |
| 3 |

##### Snowflake SQL[¶](#id26 "Link to this heading")

```
CREATE OR REPLACE TABLE table1
(
    column1 INT
)
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "11/13/2024",  "domain": "test" }}'
;

CREATE OR REPLACE PROCEDURE procedure1 ()
RETURNS TABLE()
LANGUAGE SQL
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "11/13/2024",  "domain": "test" }}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        ADDCOUNT INT := 0;
        ProcedureResultSet RESULTSET;
    BEGIN
         

        INSERT INTO table1 (column1) VALUES (1),(2),(3);
        ADDCOUNT := :ADDCOUNT + SQLROWCOUNT;
        ProcedureResultSet := (

       select
            :ADDCOUNT);
        RETURN TABLE(ProcedureResultSet);
    END;
$$;

CALL procedure1();
```

Copy

**Result:**

| :ADDCOUNT |
| --- |
| 3 |

## FORMATMESSAGE[¶](#formatmessage "Link to this heading")

Applies to

* SQL Server

### Description[¶](#id27 "Link to this heading")

Constructs a message from an existing message in sys.messages or from a provided string. ([FORMATMESSAGE in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/formatmessage-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id28 "Link to this heading")

Since Snowflake does not support `FORMATMESSAGE` function, the [FORMATMESSAGE\_UDF](#formatmessage-udf) is added to simulate its behavior.

### Syntax[¶](#id29 "Link to this heading")

#### SQL Server[¶](#id30 "Link to this heading")

```
FORMATMESSAGE ( { msg_number  | ' msg_string ' | @msg_variable} , [ param_value [ ,...n ] ] )
```

Copy

### Examples[¶](#id31 "Link to this heading")

#### SQL Server[¶](#id32 "Link to this heading")

```
SELECT FORMATMESSAGE('This is the %s and this is the %s.', 'first variable', 'second variable') AS RESULT;
```

Copy

**Result:**

| RESULT |
| --- |
| This is the first variable and this is the second variable. |

#### Snowflake[¶](#snowflake "Link to this heading")

```
SELECT
--** SSC-FDM-TS0008 - FORMATMESSAGE WAS CONVERTED TO CUSTOM UDF FORMATMESSAGE_UDF AND IT MIGHT HAVE A DIFFERENT BEHAVIOR. **
FORMATMESSAGE_UDF('This is the %s and this is the %s.', ARRAY_CONSTRUCT('first variable', 'second variable')) AS RESULT;
```

Copy

**Result:**

| RESULT |
| --- |
| This is the first variable and this is the second variable. |

### Related EWIs[¶](#related-ewis "Link to this heading")

1. [SSC-FDM-TS0008](../../general/technical-documentation/issues-and-troubleshooting/functional-difference/sqlServerFDM.html#ssc-fdm-ts0008): FORMATMESSAGE function was converted to UDF.

## FORMATMESSAGE\_UDF[¶](#formatmessage-udf "Link to this heading")

Snowflake does not have a function with the functionality of `FORMATMESSAGE`. SnowConvert AI generates the following Python UDF to emulate the behavior of `FORMATMESSAGE`.

```
CREATE OR REPLACE FUNCTION FORMATMESSAGE_UDF(MESSAGE STRING, ARGS ARRAY)
RETURNS STRING
LANGUAGE python
IMMUTABLE
RUNTIME_VERSION = '3.8'
HANDLER = 'format_py'
as
$$
def format_py(message,args):
  return message % (*args,)
$$;
```

Copy

This UDF may not work correctly on some cases:

* Using the `%I64d` placeholder will throw an error.
* If the number of substitution arguments is different than the number of place holders, it will throw an error.
* Some unsigned placeholders like `%u` or `%X` will not behave properly when formatting the value.
* It cannot handle message\_ids.

## String functions[¶](#string-functions "Link to this heading")

This section describes the functional equivalents of string functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to the creation of UDFs in Snowflake.

## CHAR[¶](#char "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id33 "Link to this heading")

Returns a single-byte character with the integer sent as a parameter on the ASCII table ([CHAR in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/char-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id34 "Link to this heading")

#### Syntax[¶](#id35 "Link to this heading")

##### SQL Server[¶](#id36 "Link to this heading")

```
CHAR( expression )
```

Copy

##### Snowflake SQL[¶](#id37 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/chr.html)

```
{CHR | CHAR} ( <input> )
```

Copy

##### JavaScript[¶](#javascript "Link to this heading")

[JavaScript complete documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode)

```
String.fromCharCode( expression1, ... , expressionN )
```

Copy

### Examples[¶](#id38 "Link to this heading")

#### SQL Server[¶](#id39 "Link to this heading")

```
SELECT CHAR(170) AS SMALLEST_A
```

Copy

**Output:**

| SMALLEST\_A |
| --- |
| ª |

##### Snowflake SQL[¶](#id40 "Link to this heading")

```
SELECT
CHAR(170) AS SMALLEST_A;
```

Copy

**Result:**

| SMALLEST\_A |
| --- |
| ª |

##### JavaScript[¶](#id41 "Link to this heading")

```
CREATE OR REPLACE FUNCTION get_char(expression float)
RETURNS string
LANGUAGE JAVASCRIPT
AS
$$
  return String.fromCharCode( EXPRESSION );
$$;

SELECT GET_CHAR(170) SMALLEST_A;
```

Copy

**Result:**

| SMALLEST\_A |
| --- |
| ª |

## CHARINDEX[¶](#charindex "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id42 "Link to this heading")

Returns the index of the first occurrence of the specified value sent as a parameter when it matches ([CHARINDEX in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/charindex-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id43 "Link to this heading")

#### Syntax[¶](#id44 "Link to this heading")

##### SQL Server[¶](#id45 "Link to this heading")

```
CHARINDEX( expression_to_find, expression_to_search [, start] )
```

Copy

##### Snowflake SQL[¶](#id46 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/charindex.html)

```
CHARINDEX( <expr1>, <expr2> [ , <start_pos> ] )
```

Copy

##### JavaScript[¶](#id47 "Link to this heading")

[JavaScript complete documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf)

```
String.indexOf( search_value [, index] )
```

Copy

### Examples[¶](#id48 "Link to this heading")

#### SQL Server[¶](#id49 "Link to this heading")

```
SELECT CHARINDEX('t', 'Customer') AS MatchPosition;
```

Copy

**Result:**

| INDEX |
| --- |
| 33 |

##### Snowflake SQL[¶](#id50 "Link to this heading")

```
SELECT
CHARINDEX('t', 'Customer') AS MatchPosition;
```

Copy

**Result:**

| INDEX |
| --- |
| 33 |

##### JavaScript[¶](#id51 "Link to this heading")

Note

Indexes in Transact start at 1, instead of JavaScript which start at 0.

```
CREATE OR REPLACE FUNCTION get_index
(
  expression_to_find varchar, 
  expression_to_search varchar, 
  start_index  float
)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
  return EXPRESSION_TO_SEARCH.indexOf(EXPRESSION_TO_FIND, START_INDEX)+1;
$$;

SELECT GET_INDEX('and', 'Give your heart and soul to me, and life will always be la vie en rose', 20) AS INDEX;
```

Copy

**Result:**

| INDEX |
| --- |
| 33 |

## COALESCE[¶](#coalesce "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id52 "Link to this heading")

Evaluates the arguments in order and returns the current value of the first expression that initially doesn’t evaluate to NULL. For example,SELECT COALESCE(NULL, NULL, ‘third\_value’, ‘fourth\_value’); returns the third value because the third value is the first value that isn’t null. ([COALESCE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/language-elements/coalesce-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id53 "Link to this heading")

#### Syntax[¶](#id54 "Link to this heading")

##### SQL Server[¶](#id55 "Link to this heading")

```
COALESCE ( expression [ ,...n ] )
```

Copy

##### Snowflake SQL[¶](#id56 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/coalesce.html)

```
COALESCE( <expr1> , <expr2> [ , ... , <exprN> ] )
```

Copy

### Examples[¶](#id57 "Link to this heading")

#### SQL Server[¶](#id58 "Link to this heading")

```
SELECT TOP 10 StartDate, 
COALESCE(EndDate,'2000-01-01') AS FIRST_NOT_NULL 
FROM HumanResources.EmployeeDepartmentHistory
```

Copy

**Result:**

| StartDate | FIRST\_NOT\_NULL |
| --- | --- |
| 2009-01-14 | 2000-01-01 |
| 2008-01-31 | 2000-01-01 |
| 2007-11-11 | 2000-01-01 |
| 2007-12-05 | 2010-05-30 |
| 2010-05-31 | 2000-01-01 |
| 2008-01-06 | 2000-01-01 |
| 2008-01-24 | 2000-01-01 |
| 2009-02-08 | 2000-01-01 |
| 2008-12-29 | 2000-01-01 |
| 2009-01-16 | 2000-01-01 |

##### Snowflake SQL[¶](#id59 "Link to this heading")

```
SELECT TOP 10
StartDate,
COALESCE(EndDate,'2000-01-01') AS FIRST_NOT_NULL
FROM
HumanResources.EmployeeDepartmentHistory;
```

Copy

**Result:**

| StartDate | FIRST\_NOT\_NULL |
| --- | --- |
| 2009-01-14 | 2000-01-01 |
| 2008-01-31 | 2000-01-01 |
| 2007-11-11 | 2000-01-01 |
| 2007-12-05 | 2010-05-30 |
| 2010-05-31 | 2000-01-01 |
| 2008-01-06 | 2000-01-01 |
| 2008-01-24 | 2000-01-01 |
| 2009-02-08 | 2000-01-01 |
| 2008-12-29 | 2000-01-01 |
| 2009-01-16 | 2000-01-01 |

## CONCAT[¶](#concat "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id60 "Link to this heading")

Makes a concatenation of string values with others. ([CONCAT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/concat-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id61 "Link to this heading")

#### Syntax[¶](#id62 "Link to this heading")

##### SQL Server[¶](#id63 "Link to this heading")

```
CONCAT ( string_value1, string_value2 [, string_valueN ] )
```

Copy

##### Snowflake SQL[¶](#id64 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/concat.html)

```
CONCAT( <expr1> [ , <exprN> ... ] )

<expr1> || <expr2> [ || <exprN> ... ]
```

Copy

##### JavaScript[¶](#id65 "Link to this heading")

[JavaScript complete documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/concat)

```
 String.concat( expression1, ..., expressionN )
```

Copy

### Examples[¶](#id66 "Link to this heading")

#### SQL Server[¶](#id67 "Link to this heading")

```
SELECT CONCAT('Ray',' ','of',' ','Light') AS TITLE;
```

Copy

**Output:**

| TITLE |
| --- |
| Ray of Light |

##### Snowflake SQL[¶](#id68 "Link to this heading")

```
SELECT
CONCAT('Ray',' ','of',' ','Light') AS TITLE;
```

Copy

**Output:**

| TITLE |
| --- |
| Ray of Light |

##### JavaScript[¶](#id69 "Link to this heading")

```
CREATE OR REPLACE FUNCTION concatenate_strs(strings array)
RETURNS string
LANGUAGE JAVASCRIPT
AS
$$
  var result = ""
  STRINGS.forEach(element => result = result.concat(element));
  return result;
$$;
SELECT concatenate_strs(array_construct('Ray',' ','of',' ','Light')) TITLE;
```

Copy

**Output:**

```
   TITLE|
```

Copy

————|
Ray of Light|

## LEFT[¶](#left "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id70 "Link to this heading")

Returns the right part of a character string with the specified number of characters. ([RIGHT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/right-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id71 "Link to this heading")

#### Syntax[¶](#id72 "Link to this heading")

##### SQL Server[¶](#id73 "Link to this heading")

```
LEFT ( character_expression , integer_expression )
```

Copy

##### Snowflake SQL[¶](#id74 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/left.html)

```
LEFT ( <expr> , <length_expr> )
```

Copy

##### JavaScript[¶](#id75 "Link to this heading")

Function used to emulate the behavior

```
function LEFT(string, index){
    if(index < 0){
        throw new RangeError('Invalid INDEX on LEFT function');
    }
    return string.slice( 0, index);
  }
return LEFT(STR, INDEX);
```

Copy

### Examples[¶](#id76 "Link to this heading")

#### SQL Server[¶](#id77 "Link to this heading")

```
SELECT LEFT('John Smith', 5) AS FIRST_NAME;
```

Copy

**Output:**

| FIRST\_NAME |
| --- |
| John |

##### Snowflake SQL[¶](#id78 "Link to this heading")

```
SELECT LEFT('John Smith', 5) AS FIRST_NAME;
```

Copy

**Output:**

| FIRST\_NAME |
| --- |
| John |

##### JavaScript[¶](#id79 "Link to this heading")

```
CREATE OR REPLACE FUNCTION left_str(str varchar, index float)
RETURNS string
LANGUAGE JAVASCRIPT
AS
$$
    function LEFT(string, index){
      if(index < 0){
          throw new RangeError('Invalid INDEX on LEFT function');
      }
      return string.slice( 0, index);
    }
  return LEFT(STR, INDEX);
$$;
SELECT LEFT_STR('John Smith', 5) AS FIRST_NAME;
```

Copy

**Output:**

| FIRST\_NAME |
| --- |
| John |

## LEN[¶](#len "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id80 "Link to this heading")

Returns the length of a string ([LEN in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/len-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id81 "Link to this heading")

#### Syntax[¶](#id82 "Link to this heading")

##### SQL Server[¶](#id83 "Link to this heading")

```
LEN( string_expression )
```

Copy

##### Snowflake SQL[¶](#id84 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/length.html)

```
LENGTH( <expression> )
LEN( <expression> )
```

Copy

##### JavaScript[¶](#id85 "Link to this heading")

[JavaScript SQL complete documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/String/length)

```
 string.length
```

Copy

### Examples[¶](#id86 "Link to this heading")

#### SQL Server[¶](#id87 "Link to this heading")

```
SELECT LEN('Sample text') AS [LEN];
```

Copy

**Output:**

| LEN |
| --- |
| 11 |

##### Snowflake SQL[¶](#id88 "Link to this heading")

```
SELECT LEN('Sample text') AS LEN;
```

Copy

**Output:**

| LEN |
| --- |
| 11 |

##### JavaScript[¶](#id89 "Link to this heading")

```
CREATE OR REPLACE FUNCTION get_len(str varchar)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  return STR.length;
$$;
SELECT GET_LEN('Sample text') LEN;
```

Copy

**Output:**

| LEN |
| --- |
| 11 |

## LOWER[¶](#lower "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id90 "Link to this heading")

Converts a string to lowercase ([LOWER in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/lower-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id91 "Link to this heading")

#### Syntax[¶](#id92 "Link to this heading")

##### SQL Server[¶](#id93 "Link to this heading")

```
LOWER ( character_expression )
```

Copy

##### Snowflake SQL[¶](#id94 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/lower.html)

```
LOWER( <expr> )
```

Copy

##### JavaScript[¶](#id95 "Link to this heading")

[JavaScript SQL complete documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase)

```
 String.toLowerCase( )
```

Copy

### Examples[¶](#id96 "Link to this heading")

#### SQL Server[¶](#id97 "Link to this heading")

```
SELECT LOWER('YOU ARE A PREDICTION OF THE GOOD ONES') AS LOWERCASE;
```

Copy

**Output:**

| LOWERCASE |
| --- |
| you are a prediction of the good ones |

##### Snowflake SQL[¶](#id98 "Link to this heading")

```
SELECT LOWER('YOU ARE A PREDICTION OF THE GOOD ONES') AS LOWERCASE;
```

Copy

**Output:**

| LOWERCASE |
| --- |
| you are a prediction of the good ones |

##### JavaScript[¶](#id99 "Link to this heading")

```
CREATE OR REPLACE FUNCTION to_lower(str varchar)
RETURNS string
LANGUAGE JAVASCRIPT
AS
$$
  return STR.toLowerCase();
$$;

SELECT TO_LOWER('YOU ARE A PREDICTION OF THE GOOD ONES') LOWERCASE;
```

Copy

**Output:**

| LOWERCASE |
| --- |
| you are a prediction of the good ones |

## NCHAR[¶](#nchar "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id100 "Link to this heading")

Returns the UNICODE character of an integer sent as a parameter ([NCHAR in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/nchar-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id101 "Link to this heading")

#### Syntax[¶](#id102 "Link to this heading")

```
NCHAR( expression )
```

Copy

##### Arguments[¶](#arguments "Link to this heading")

`expression`: Integer expression.

##### Return Type[¶](#return-type "Link to this heading")

String value, it depends on the input received.

### Examples[¶](#id103 "Link to this heading")

#### Query[¶](#query "Link to this heading")

```
SELECT NCHAR(170);
```

Copy

##### Result[¶](#result "Link to this heading")

|  |
| --- |
| ª |

Note

The equivalence for this function in JavaScript is documented in [CHAR](#char).

## REPLACE[¶](#replace "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id104 "Link to this heading")

Replaces all occurrences of a specified string value with another string value. ([REPLACE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/replace-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id105 "Link to this heading")

#### Syntax[¶](#id106 "Link to this heading")

##### SQL Server[¶](#id107 "Link to this heading")

```
REPLACE ( string_expression , string_pattern , string_replacement )
```

Copy

##### Snowflake SQL[¶](#id108 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/replace.html)

```
REPLACE( <subject> , <pattern> [ , <replacement> ] )
```

Copy

##### JavaScript[¶](#id109 "Link to this heading")

```
 String.replace( pattern, new_expression)
```

Copy

### Examples[¶](#id110 "Link to this heading")

#### SQL Server[¶](#id111 "Link to this heading")

```
SELECT REPLACE('Real computer software', 'software','science') AS COLUMNNAME;
```

Copy

**Output:**

```
COLUMNNAME           |
---------------------|
Real computer science|
```

Copy

##### Snowflake SQL[¶](#id112 "Link to this heading")

```
SELECT REPLACE('Real computer software', 'software','science') AS COLUMNNAME;
```

Copy

**Output:**

```
COLUMNNAME           |
---------------------|
Real computer science|
```

Copy

##### JavaScript[¶](#id113 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION REPLACER (str varchar, pattern varchar, new_expression varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
   return STR.replace( PATTERN, NEW_EXPRESSION );
$$;

SELECT REPLACER('Real computer software', 'software', 'science') AS COLUMNNAME;
```

Copy

**Output:**

```
COLUMNNAME             |
---------------------|
Real computer science|
```

Copy

## REPLICATE[¶](#replicate "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id114 "Link to this heading")

Replicates a string value a specified number of times ([REPLICATE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/replicate-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id115 "Link to this heading")

#### Syntax[¶](#id116 "Link to this heading")

##### SQL Server[¶](#id117 "Link to this heading")

```
REPLICATE( string_expression, number_expression )
```

Copy

##### Snowflake SQL[¶](#id118 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/repeat.html)

```
REPEAT(<input>, <n>)
```

Copy

##### JavaScript[¶](#id119 "Link to this heading")

[JavaScript Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/String/repeat)

```
String.repeat( number_expression )
```

Copy

### Examples[¶](#id120 "Link to this heading")

#### SQL Server[¶](#id121 "Link to this heading")

```
SELECT REPLICATE('Staying alive',5) AS RESULT
```

Copy

**Result:**

```
RESULT                                                           |
-----------------------------------------------------------------|
Staying aliveStaying aliveStaying aliveStaying aliveStaying alive|
```

Copy

##### Snowflake SQL[¶](#id122 "Link to this heading")

```
SELECT REPEAT('Staying alive',5) AS RESULT;
```

Copy

**Result:**

```
RESULT                                                           |
-----------------------------------------------------------------|
Staying aliveStaying aliveStaying aliveStaying aliveStaying alive|
```

Copy

##### JavaScript[¶](#id123 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION REPEAT_STR (str varchar, occurrences float)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
 
   return STR.repeat( OCCURRENCES );
$$;

SELECT REPEAT_STR('Staying alive ', 5) AS RESULT;
```

Copy

**Result:**

```
RESULT                                                           |
-----------------------------------------------------------------|
Staying aliveStaying aliveStaying aliveStaying aliveStaying alive|
```

Copy

## RIGHT[¶](#right "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id124 "Link to this heading")

Returns the right part of a character string with the specified number of characters. ([RIGHT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/right-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id125 "Link to this heading")

#### Syntax[¶](#id126 "Link to this heading")

##### SQL Server[¶](#id127 "Link to this heading")

```
RIGHT ( character_expression , integer_expression )
```

Copy

##### Snowflake SQL[¶](#id128 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/right.html)

```
RIGHT( <expr> , <length_expr> )
```

Copy

##### JavaScript[¶](#id129 "Link to this heading")

UDF used to emulate the behavior

```
 function RIGHT(string, index){
      if(index< 0){
          throw new RangeError('Invalid INDEX on RIGHT function');
      }
      return string.slice( string.length - index, string.length );
    }
```

Copy

### Examples[¶](#id130 "Link to this heading")

#### SQL Server[¶](#id131 "Link to this heading")

```
SELECT RIGHT('John Smith', 5) AS LAST_NAME;
```

Copy

**Output:**

```
   LAST_NAME|      
------------|
       Smith|
```

Copy

##### Snowflake SQL[¶](#id132 "Link to this heading")

```
SELECT RIGHT('John Smith', 5) AS LAST_NAME;
```

Copy

**Output:**

```
   LAST_NAME|      
------------|
       Smith|
```

Copy

##### JavaScript[¶](#id133 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION right_str(str varchar, index float)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
    function RIGHT(string, index){
      if(index< 0){
          throw new RangeError('Invalid INDEX on RIGHT function');
      }
      return string.slice( string.length - index, string.length );
    }
  return RIGHT(STR, INDEX);
$$;

SELECT RIGHT_STR('John Smith', 5) AS LAST_NAME;
```

Copy

**Output:**

```
   LAST_NAME|      
------------|
       Smith|
```

Copy

## RTRIM[¶](#rtrim "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id134 "Link to this heading")

Returns a character expression after it removes leading blanks ([RTRIM in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/rtrim-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id135 "Link to this heading")

#### Syntax[¶](#id136 "Link to this heading")

##### SQL Server[¶](#id137 "Link to this heading")

```
RTRIM( string_expression )
```

Copy

##### Snowflake SQL[¶](#id138 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/rtrim.html)

```
RTRIM(<expr> [, <characters> ])
```

Copy

##### JavaScript[¶](#id139 "Link to this heading")

Custom function used to emulate the behavior

```
 function RTRIM(string){
    return string.replace(/s+$/,"");
}
```

Copy

### Examples[¶](#id140 "Link to this heading")

#### SQL Server[¶](#id141 "Link to this heading")

**Input:**

```
SELECT RTRIM('LAST TWO BLANK SPACES  ') AS [RTRIM]
```

Copy

**Output:**

```
RTRIM                |
---------------------|
LAST TWO BLANK SPACES|
```

Copy

##### Snowflake SQL[¶](#id142 "Link to this heading")

```
SELECT RTRIM('LAST TWO BLANK SPACES  ') AS RTRIM;
```

Copy

**Result:**

```
RTRIM                |
---------------------|
LAST TWO BLANK SPACES|
```

Copy

##### JavaScript[¶](#id143 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION rtrim(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  function RTRIM(string){
    return string.replace(/s+$/,"");
    }
   return RTRIM( STR );
$$;

SELECT RTRIM('LAST TWO BLANK SPACES  ') AS RTRIM;
```

Copy

**Result:**

```
RTRIM                |
---------------------|
LAST TWO BLANK SPACES|
```

Copy

## SPACE[¶](#space "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id144 "Link to this heading")

Returns a number of occurrences of blank spaces ([SPACE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/space-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id145 "Link to this heading")

#### Syntax[¶](#id146 "Link to this heading")

##### SQL Server[¶](#id147 "Link to this heading")

```
SPACE ( integer_expression )
```

Copy

##### Snowflake SQL[¶](#id148 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/space.html)

```
SPACE(<n>)
```

Copy

##### JavaScript[¶](#id149 "Link to this heading")

Custom function used to emulate the behavior

```
 function SPACE( occurrences ){
    return ' '.repeat( occurrences );
}
```

Copy

### Examples[¶](#id150 "Link to this heading")

#### SQL Server[¶](#id151 "Link to this heading")

**Input:**

```
SELECT CONCAT('SOME', SPACE(5), 'TEXT') AS RESULT;
```

Copy

**Output:**

```
RESULT       |
-------------|
SOME     TEXT|
```

Copy

##### Snowflake SQL[¶](#id152 "Link to this heading")

**Input:**

```
SELECT CONCAT('SOME', SPACE(5), 'TEXT') AS RESULT;
```

Copy

**Output:**

```
RESULT       |
-------------|
SOME     TEXT|
```

Copy

##### JavaScript[¶](#id153 "Link to this heading")

**Input:**

```
 CREATE OR REPLACE FUNCTION SPACE(occurrences float)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
    function SPACE( occurrences ){
    return ' '.repeat( occurrences );
    }
    return SPACE( OCCURRENCES );
$$;

SELECT CONCAT('SOME', SPACE(5), 'TEXT') RESULT;
```

Copy

**Output:**

```
RESULT       |
-------------|
SOME     TEXT|
```

Copy

## SUBSTRING[¶](#substring "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id154 "Link to this heading")

Returns a character expression after it removes leading blanks ([RTRIM in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/rtrim-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id155 "Link to this heading")

#### Syntax[¶](#id156 "Link to this heading")

##### SQL Server[¶](#id157 "Link to this heading")

```
SUBSTRING( string_expression, start, length )
```

Copy

##### Snowflake SQL[¶](#id158 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/substr.html)

```
SUBSTR( <base_expr>, <start_expr> [ , <length_expr> ] )

SUBSTRING( <base_expr>, <start_expr> [ , <length_expr> ] )
```

Copy

##### JavaScript[¶](#id159 "Link to this heading")

Custom function used to emulate the behavior

```
 string.substring( indexA [, indexB])
```

Copy

### Examples[¶](#id160 "Link to this heading")

#### SQL Server[¶](#id161 "Link to this heading")

**Input:**

```
SELECT SUBSTRING('abcdef', 2, 3) AS SOMETEXT;
```

Copy

**Output:**

```
SOMETEXT|
--------|
bcd     |
```

Copy

##### Snowflake SQL[¶](#id162 "Link to this heading")

```
SELECT SUBSTRING('abcdef', 2, 3) AS SOMETEXT;
```

Copy

**Result:**

```
SOMETEXT|
--------|
bcd     |
```

Copy

##### JavaScript[¶](#id163 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION REPLACER_LENGTH(str varchar, index float, length float)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
    var start = INDEX - 1;
    var end = STR.length - (LENGTH - 1);
    return STR.substring(start, end);
$$;

SELECT REPLACER_LENGTH('abcdef', 2, 3) AS SOMETEXT;
```

Copy

**Result:**

```
SOMETEXT|
--------|
bcd     |
```

Copy

## UPPER[¶](#upper "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id164 "Link to this heading")

Converts a string to uppercase ([UPPER in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/upper-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id165 "Link to this heading")

#### Syntax[¶](#id166 "Link to this heading")

##### SQL Server[¶](#id167 "Link to this heading")

```
UPPER( string_expression )
```

Copy

##### Snowflake SQL[¶](#id168 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/upper.html)

```
UPPER( <expr> )
```

Copy

##### JavaScript[¶](#id169 "Link to this heading")

[JavaScript SQL complete documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase)

```
 String.toUpperCase( )
```

Copy

### Examples[¶](#id170 "Link to this heading")

#### SQL Server[¶](#id171 "Link to this heading")

```
SELECT UPPER('you are a prediction of the good ones') AS [UPPER]
```

Copy

**Output:**

```
+-------------------------------------|
|UPPER                                |
+-------------------------------------|
|YOU ARE A PREDICTION OF THE GOOD ONES|
+-------------------------------------|
```

Copy

##### Snowflake SQL[¶](#id172 "Link to this heading")

```
SELECT
UPPER('you are a prediction of the good ones') AS UPPER;
```

Copy

**Output:**

```
+-------------------------------------|
|UPPER                                |
+-------------------------------------|
|YOU ARE A PREDICTION OF THE GOOD ONES|
+-------------------------------------|
```

Copy

##### JavaScript[¶](#id173 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION to_upper(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  return STR.toUpperCase();
$$;

SELECT TO_UPPER('you are a prediction of the good ones') UPPER;
```

Copy

**Output:**

```
UPPER                                |
-------------------------------------|
YOU ARE A PREDICTION OF THE GOOD ONES|
```

Copy

## ASCII[¶](#ascii "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id174 "Link to this heading")

Returns the number code of a character on the ASCII table ([ASCII in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/ascii-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id175 "Link to this heading")

### Syntax[¶](#id176 "Link to this heading")

```
ASCII( expression )
```

Copy

#### Arguments[¶](#id177 "Link to this heading")

`expression`: `VARCVHAR` or `CHAR` expression.

#### Return Type[¶](#id178 "Link to this heading")

`INT`.

### Examples[¶](#id179 "Link to this heading")

### Query[¶](#id180 "Link to this heading")

```
SELECT ASCII('A') AS A , ASCII('a') AS a;
```

Copy

#### Result[¶](#id181 "Link to this heading")

```
          A|          a|
-----------| ----------|
         65|         97|
```

Copy

## ASCII in JS[¶](#ascii-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id182 "Link to this heading")

This function returns the number code of a character on the ASCII table ([JavaScript charCodeAt function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt)).

### Sample Source Pattern[¶](#id183 "Link to this heading")

#### Syntax[¶](#id184 "Link to this heading")

```
 string.charCodeAt( [index] )
```

Copy

##### Arguments[¶](#id185 "Link to this heading")

`index`(Optional): Index of string to get character and return its code number on the ASCII table. If this parameter is not specified, it takes 0 as default. \

##### Return Type[¶](#id186 "Link to this heading")

`Int`.

### Examples[¶](#id187 "Link to this heading")

#### Query[¶](#id188 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION get_ascii(c char)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  return C.charCodeAt();
$$;

SELECT GET_ASCII('A') A, GET_ASCII('a') a;
```

Copy

##### Result[¶](#id189 "Link to this heading")

```
          A|          a|
-----------| ----------|
         65|         97|
```

Copy

## QUOTENAME[¶](#quotename "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id190 "Link to this heading")

Returns a string delimited using quotes ([QUOTENAME in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/quotename-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id191 "Link to this heading")

### Syntax[¶](#id192 "Link to this heading")

```
QUOTENAME( string_expression [, quote_character])
```

Copy

#### Arguments[¶](#id193 "Link to this heading")

`string_expression`: String to delimit.

`quote_character`: one-character to delimit the string.

#### Return Type[¶](#id194 "Link to this heading")

`NVARCHAR(258)`. Null if the quote is different of (‘), ([]), (“), ( () ), ( >< ), ({}) or (`).

### Examples[¶](#id195 "Link to this heading")

### Query[¶](#id196 "Link to this heading")

```
SELECT QUOTENAME('Hello', '`') AS HELLO;
```

Copy

#### Result[¶](#id197 "Link to this heading")

```
    HELLO|      
---------|
  `Hello`|
```

Copy

## QUOTENAME in JS[¶](#quotename-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id198 "Link to this heading")

Unfortunately, this function is not available in JavaScript, but it can be implemented using predefined functions.

### Sample Source Pattern[¶](#id199 "Link to this heading")

#### Implementation Example[¶](#implementation-example "Link to this heading")

```
 function QUOTENAME(string, quote){
    return quote.concat(string, quote);
}
```

Copy

##### Arguments[¶](#id200 "Link to this heading")

`string`: String expression to delimit.

`quote`: Quote to be used as a delimiter.

##### Return Type[¶](#id201 "Link to this heading")

String.

### Examples[¶](#id202 "Link to this heading")

#### Query[¶](#id203 "Link to this heading")

```
CREATE OR REPLACE FUNCTION QUOTENAME(str varchar, quote char)
RETURNS string
LANGUAGE JAVASCRIPT
AS
$$
  function QUOTENAME(string, quote){
    const allowed_quotes = /[\']|[\"]|[(]|[)]|[\[]|[\]]|[\{]|[\}]|[\`]/;
    
    if(!allowed_quotes.test(quote)) throw new TypeError('Invalid Quote');
    
    return quote.concat(string, quote);
  }
   return QUOTENAME(STR, QUOTE);
$$;

SELECT QUOTENAME('Hola', '`') HELLO;
```

Copy

##### Result[¶](#id204 "Link to this heading")

```
    HELLO|      
---------|
  `Hello`|
```

Copy

## CONCAT\_WS[¶](#concat-ws "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id205 "Link to this heading")

Makes a concatenation of string values with others using a separator between them ([CONCAT\_WS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/concat-ws-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id206 "Link to this heading")

### Syntax[¶](#id207 "Link to this heading")

```
CONCAT_WS( separator, expression1, ... ,expressionN )
```

Copy

#### Arguments[¶](#id208 "Link to this heading")

`separator`: Separator to join.

`expression1, ... ,expressionN:` Expression to be found into a string.

#### Return Type[¶](#id209 "Link to this heading")

String value, depends on the input received.

### Examples[¶](#id210 "Link to this heading")

### Query[¶](#id211 "Link to this heading")

```
SELECT CONCAT_WS(' ', 'Mariah','Carey') AS NAME;
```

Copy

#### Result[¶](#id212 "Link to this heading")

```
        NAME|      
------------|
Mariah Carey|
```

Copy

## Join in JS[¶](#join-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id213 "Link to this heading")

Concatenates the string arguments to the calling string using a separator ([JavaScript Join function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Array/join)).

### Sample Source Pattern[¶](#id214 "Link to this heading")

#### Syntax[¶](#id215 "Link to this heading")

```
 Array.join( separator )
```

Copy

##### Arguments[¶](#id216 "Link to this heading")

`separator`: Character to join.

##### Return Type[¶](#id217 "Link to this heading")

`String`.

### Examples[¶](#id218 "Link to this heading")

#### Query[¶](#id219 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION join_strs(separator varchar, strings array)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  return STRINGS.join(SEPARATOR);
$$;
SELECT join_strs(' ',array_construct('Mariah','Carey')) NAME;
```

Copy

##### Result[¶](#id220 "Link to this heading")

```
        NAME|      
------------|
Mariah Carey|
```

Copy

## SOUNDEX[¶](#soundex "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id221 "Link to this heading")

Returns a four-character code to evaluate the similarity of two strings ([SOUNDEX in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/soundex-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id222 "Link to this heading")

### Syntax[¶](#id223 "Link to this heading")

```
SOUNDEX( string_expression )
```

Copy

#### Arguments[¶](#id224 "Link to this heading")

`string_expression`: String expression to reverse.

#### Return Type[¶](#id225 "Link to this heading")

The same data type of the string expression sent as a parameter.

### Examples[¶](#id226 "Link to this heading")

### Query[¶](#id227 "Link to this heading")

```
SELECT SOUNDEX('two') AS TWO , SOUNDEX('too') AS TOO;
```

Copy

#### Result[¶](#id228 "Link to this heading")

```
      TWO|      TOO|
---------|---------|
     T000|     T000|
```

Copy

## SOUNDEX in JS[¶](#soundex-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id229 "Link to this heading")

Unfortunately, JavaScript does not provide a method that executes the SOUNDEX algorithm, but it can be implemented manually.

### Sample Source Pattern[¶](#id230 "Link to this heading")

#### Implementation Example[¶](#id231 "Link to this heading")

```
 const dic = {A:0, B:1, C:2, D:3, E:0, F:1, G:2, H:0, I:0, J:2, K:2, L:4, M:5, N:5, O:0, P:1, Q:2, R:6, S:2, T:3, U:0, V:1, W:0, X:2, Y:0, Z:2};

  function getCode(letter){
      return dic[letter.toUpperCase()];
  }

  function SOUNDEX(word){
    var initialCharacter = word[0].toUpperCase();
    var initialCode = getCode(initialCharacter);
    for(let i = 1; i < word.length; ++i) {
        const letterCode = getCode(word[i]);
        if (letterCode && letterCode != initialCode) {
             initialCharacter += letterCode;
             if(initialCharacter.length == 4) break;
        }
        initialCode = letterCode;
    }
      
      return initialCharacter.concat( '0'.repeat( 4 - initialCharacter.length));
      
  }
```

Copy

##### Arguments[¶](#id232 "Link to this heading")

`word`: String expression to get its SOUNDEX equivalence.

##### Return Type[¶](#id233 "Link to this heading")

String.

### Examples[¶](#id234 "Link to this heading")

#### Query[¶](#id235 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION get_soundex(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  const dic = {A:0, B:1, C:2, D:3, E:0, F:1, G:2, H:0, I:0, J:2, K:2, L:4, M:5, N:5, O:0, P:1, Q:2, R:6, S:2, T:3, U:0, V:1, W:0, X:2, Y:0, Z:2};

  function getCode(letter){
      return dic[letter.toUpperCase()];
  }

  function SOUNDEX(word){
    var initialCharacter = word[0].toUpperCase();
    var initialCode = getCode(initialCharacter);
    for(let i = 1; i < word.length; ++i) {
        const letterCode = getCode(word[i]);
        if (letterCode && letterCode != initialCode) {
             initialCharacter += letterCode;
             if(initialCharacter.length == 4) break;
        }
        initialCode = letterCode;
    }
    
    return initialCharacter.concat( '0'.repeat( 4 - initialCharacter.length));    
  }
  
  return SOUNDEX( STR );
$$;

SELECT GET_SOUNDEX('two') AS TWO , GET_SOUNDEX('too') AS TOO;
```

Copy

##### Result[¶](#id236 "Link to this heading")

```
      TWO|      TOO|
---------|---------|
     T000|     T000|
```

Copy

## REVERSE[¶](#reverse "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id237 "Link to this heading")

Reverses a string ([REVERSE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/reverse-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id238 "Link to this heading")

### Syntax[¶](#id239 "Link to this heading")

```
REVERSE( string_expression )
```

Copy

#### Arguments[¶](#id240 "Link to this heading")

`string_expression`: String expression to reverse.

#### Return Type[¶](#id241 "Link to this heading")

The same data type of the string expression sent as a parameter.

### Examples[¶](#id242 "Link to this heading")

### Query[¶](#id243 "Link to this heading")

```
SELECT REVERSE('rotator') AS PALINDROME;
```

Copy

#### Result[¶](#id244 "Link to this heading")

```
      PALINDROME|      
----------------|
         rotator|
```

Copy

## reverse in JS[¶](#reverse-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id245 "Link to this heading")

Unfortunately, this function is not available in JavaScript, but it can be implemented using predefined functions.

### Sample Source Pattern[¶](#id246 "Link to this heading")

#### Implementation Example[¶](#id247 "Link to this heading")

```
 function REVERSE(string){
    return string.split("").reverse().join("");
}
```

Copy

##### Arguments[¶](#id248 "Link to this heading")

`string`: String expression to reverse.

##### Return Type[¶](#id249 "Link to this heading")

String.

### Examples[¶](#id250 "Link to this heading")

#### Query[¶](#id251 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION REVERSE(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
   return STR.split("").reverse().join("");
$$;

SELECT REVERSE('rotator') PALINDROME;
```

Copy

##### Result[¶](#id252 "Link to this heading")

```
      PALINDROME|      
----------------|
         rotator|
```

Copy

## STRING\_ESCAPE[¶](#string-escape "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id253 "Link to this heading")

Escapes special characters in texts and returns text with escaped characters. ([STRING\_ESCAPE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/string-escape-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id254 "Link to this heading")

### Syntax[¶](#id255 "Link to this heading")

```
STRING_ESCAPE( text, type )
```

Copy

#### Arguments[¶](#id256 "Link to this heading")

`text`: Text to escape characters.

`type`: Format type to escape characters. Currently, JSON is the only format supported.

#### Return Type[¶](#id257 "Link to this heading")

`VARCHAR`.

### Examples[¶](#id258 "Link to this heading")

### Query[¶](#id259 "Link to this heading")

```
SELECT STRING_ESCAPE('\   /  \\    "     ', 'json') AS [ESCAPE];
```

Copy

#### Result[¶](#id260 "Link to this heading")

```
ESCAPE|
--------------------------|
  \\   \/  \\\\    \"     |
```

Copy

## stringify in JS[¶](#stringify-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id261 "Link to this heading")

Converts an object to a JSON string format ([JavaScript stringify function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify)).

### Sample Source Pattern[¶](#id262 "Link to this heading")

#### Syntax[¶](#id263 "Link to this heading")

```
 JSON.stringify( value )
```

Copy

##### Arguments[¶](#id264 "Link to this heading")

`value`: Object expression to convert.

##### Return Type[¶](#id265 "Link to this heading")

String.

### Examples[¶](#id266 "Link to this heading")

#### Query[¶](#id267 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION string_escape (str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
   return JSON.stringify( STR );
$$;

SELECT STRING_ESCAPE('\   /  \\    "     ') ESCAPE;
```

Copy

##### Result[¶](#id268 "Link to this heading")

```
                    ESCAPE|
--------------------------|
  \\   \/  \\\\    \"     |
```

Copy

## TRIM[¶](#trim "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id269 "Link to this heading")

Returns a character expression without blank spaces ([TRIM in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/trim-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id270 "Link to this heading")

### Syntax[¶](#id271 "Link to this heading")

```
TRIM( string_expression )
```

Copy

#### Arguments[¶](#id272 "Link to this heading")

`string_expression:` String expressions to convert.

#### Return Type[¶](#id273 "Link to this heading")

`VARCHAR` or `NVARCHAR`

### Examples[¶](#id274 "Link to this heading")

### SQL Server[¶](#id275 "Link to this heading")

```
SELECT TRIM('  FIRST AND LAST TWO BLANK SPACES  ') AS [TRIM];
```

Copy

**Output:**

```
+-------------------------------|
|TRIM                           |
+-------------------------------|
|FIRST AND LAST TWO BLANK SPACES|
+-------------------------------|
```

Copy

#### Snowflake SQL[¶](#id276 "Link to this heading")

```
SELECT TRIM('  FIRST AND LAST TWO BLANK SPACES  ') AS TRIM;
```

Copy

**Output:**

```
+-------------------------------|
|TRIM                           |
+-------------------------------|
|FIRST AND LAST TWO BLANK SPACES|
+-------------------------------|
```

Copy

## trim in JS[¶](#trim-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id277 "Link to this heading")

Replaces the occurrences of a pattern using a new one sent as a parameter ([JavaScript Replace function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace)).

### Sample Source Pattern[¶](#id278 "Link to this heading")

#### Syntax[¶](#id279 "Link to this heading")

```
 String.trim( )
```

Copy

##### Arguments[¶](#id280 "Link to this heading")

This function does not receive any parameters.

##### Return Type[¶](#id281 "Link to this heading")

String.

### Examples[¶](#id282 "Link to this heading")

#### Query[¶](#id283 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION TRIM_STR(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
   return STR.trim( );
$$;

SELECT TRIM_STR('  FIRST AND LAST TWO BLANK SPACES  ')TRIM
```

Copy

##### Result[¶](#id284 "Link to this heading")

```
                           TRIM|      
-------------------------------|
FIRST AND LAST TWO BLANK SPACES|
```

Copy

## DIFFERENCE[¶](#difference "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id285 "Link to this heading")

Returns an integer measuring the difference between two strings using the SOUNDEX algorithm ([DIFFERENCE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/difference-transact-sql?view=sql-server-ver15)).  
It counts the common characters of the strings resulting by executing the SOUNDEX algorithm.

### Sample Source Pattern[¶](#id286 "Link to this heading")

### Syntax[¶](#id287 "Link to this heading")

```
DIFFERENCE( expression1, expression1 )
```

Copy

#### Arguments[¶](#id288 "Link to this heading")

`expression1, expression2:` String expressions to be compared.

#### Return Type[¶](#id289 "Link to this heading")

`Int`.

### Examples[¶](#id290 "Link to this heading")

### Query[¶](#id291 "Link to this heading")

```
SELECT DIFFERENCE('Like', 'Mike');
```

Copy

#### Result[¶](#id292 "Link to this heading")

```
    Output |
-----------|
         3 |
```

Copy

## DIFFERENCE in JS[¶](#difference-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id293 "Link to this heading")

Unfortunately, this functionality is not available in JS, but this can be implemented easily.

Note

This functions requires the [SOUNDEX algorithm implementation](#soundex-in-js).

### Sample Source Pattern[¶](#id294 "Link to this heading")

#### Implementation Example[¶](#id295 "Link to this heading")

```
 function DIFFERENCE(strA, strB) {
    var count = 0;
    for (var i = 0; i < strA.length; i++){
       if ( strA[i] == strB[i] ) count++; 
    }
    
    return count;
}
```

Copy

##### Arguments[¶](#id296 "Link to this heading")

`strA, strB`: String expressions resulting by executing the SOUNDEX algorithm.

##### Return Type[¶](#id297 "Link to this heading")

`String`.

### Examples[¶](#id298 "Link to this heading")

#### Query[¶](#id299 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION SOUNDEX_DIFFERENCE(str_1 varchar, str_2 varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
    function DIFFERENCE(strA, strB) {
      var count = 0;
      for (var i = 0; i < strA.length; i++){
         if ( strA[i] == strB[i] ) count++; 
      }
    
    return count;
    }
    
    return DIFFERENCE(STR_1, STR_2);
$$;

SELECT SOUNDEX_DIFFERENCE(GET_SOUNDEX('two'), GET_SOUNDEX('too')) DIFFERENCE;
```

Copy

##### Result[¶](#id300 "Link to this heading")

```
   DIFFERENCE|
-------------|
            4|
```

Copy

## FORMAT[¶](#format "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id301 "Link to this heading")

Returns a value formatted with the specified format and optional culture ([FORMAT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/format-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id302 "Link to this heading")

### Syntax[¶](#id303 "Link to this heading")

```
FORMAT( value, format [, culture])
```

Copy

#### Arguments[¶](#id304 "Link to this heading")

`value:` String expressions to give format.

format: Desired format.

culture (Optional): NVarchar argument specifying culture. If it is not specified, takes the languages of the current session.

#### Return Type[¶](#id305 "Link to this heading")

NULL if the culture parameter is invalid, otherwise, it follows the next data types:

| Category |  | .NET type |
| --- | --- | --- |
| Numeric | bigint | Int64 |
| Numeric | int | Int32 |
| Numeric | smallint | Int16 |
| Numeric | tinyint | Byte |
| Numeric | decimal | SqlDecimal |
| Numeric | numeric | SqlDecimal |
| Numeric | float | Double |
| Numeric | real | Single |
| Numeric | smallmoney | Decimal |
| Numeric | money | Decimal |
| Date and Time | date | DateTime |
| Date and Time | time | TimeSpan |
| Date and Time | datetime | DateTime |
| Date and Time | smalldatetime | DateTime |
| Date and Time | datetime2 | DateTime |
| Date and Time | datetimeoffset | DateTimeOffset |

### Examples[¶](#id306 "Link to this heading")

### Query[¶](#id307 "Link to this heading")

```
SELECT FORMAT(CAST('2022-01-24' AS DATE), 'd', 'en-gb')  AS 'Great Britain';
```

Copy

#### Result[¶](#id308 "Link to this heading")

```
  GREAT BRITAIN|
---------------|
     24/01/2022|
```

Copy

##### Query[¶](#id309 "Link to this heading")

```
SELECT FORMAT(244900.25, 'C', 'cr-CR')  AS 'CURRENCY';
```

Copy

##### Result[¶](#id310 "Link to this heading")

| CURRENCY |
| --- |
| ₡244,900.25 |

## FORMAT in JS[¶](#format-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id311 "Link to this heading")

There are different functions to format date and integer values in JavaScript. Unfortunately, these functionalities are not integrated into one method.

### DateTime values[¶](#datetime-values "Link to this heading")

#### Syntax[¶](#id312 "Link to this heading")

```
 Intl.DateTimeFormat( format ).format( value )
```

Copy

##### Arguments[¶](#id313 "Link to this heading")

`locales` (Optional): String expression of the format to apply.

`options` (Optional): Object with different supported properties for formats of numeric expressions ([JavaScript NumberFormat function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat)).

`value`: Numeric expression to format.

##### Return Type[¶](#id314 "Link to this heading")

`String`.

### Numeric values[¶](#numeric-values "Link to this heading")

#### Syntax[¶](#id315 "Link to this heading")

```
 Intl.NumberFormat( [locales [, options]] ).format( value )
```

Copy

##### Arguments[¶](#id316 "Link to this heading")

`locales` (Optional): String expression of the format to apply.

`options` (Optional): Object with different supported properties for formats of numeric expressions ([JavaScript NumberFormat function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat)).

`value`: Numeric expression to format.

##### Return Type[¶](#id317 "Link to this heading")

`String`.

### Examples[¶](#id318 "Link to this heading")

#### DateTime[¶](#datetime "Link to this heading")

##### Query[¶](#id319 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION format_date(date timestamp, format varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  return new Intl.DateTimeFormat( FORMAT ).format( DATE );
$$;
SELECT FORMAT_DATE(TO_DATE('2022-01-24'), 'en-gb') GREAT_BRITAIN;
```

Copy

##### Result[¶](#id320 "Link to this heading")

```
  GREAT_BRITAIN|      
---------------|
     24/01/2022|
```

Copy

#### Numeric[¶](#numeric "Link to this heading")

##### Query[¶](#id321 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION format_numeric(number float, locales varchar, options variant)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  return new Intl.NumberFormat( LOCALES , OPTIONS ).format( NUMBER );
$$;
SELECT FORMAT_NUMERIC(244900.25, 'de-DE', PARSE_JSON('{ style: "currency", currency: "CRC" }')) CURRENCY;
```

Copy

##### Result[¶](#id322 "Link to this heading")

```
       CURRENCY|      
---------------|
 244.900,25 CRC|
```

Copy

## PATINDEX[¶](#patindex "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id323 "Link to this heading")

Returns the starting position of the first occurrence of a pattern in a specified expression ([PATINDEX in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/patindex-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id324 "Link to this heading")

### Syntax[¶](#id325 "Link to this heading")

```
PATINDEX( pattern, expression )
```

Copy

#### Arguments[¶](#id326 "Link to this heading")

`pattern`: Pattern to find.

`expression`: Expression to search.

#### Return Type[¶](#id327 "Link to this heading")

Integer. Returns 0 if the pattern is not found.

### Examples[¶](#id328 "Link to this heading")

### Query[¶](#id329 "Link to this heading")

```
SELECT PATINDEX( '%on%', 'No, no, non esistono più') AS [PATINDEX]
```

Copy

#### Result[¶](#id330 "Link to this heading")

```
    PATINDEX|      
------------|
          10|
```

Copy

## search in JS[¶](#search-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id331 "Link to this heading")

Finds the index of a pattern using REGEX ([JavaScript search function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/String/search)).

### Sample Source Pattern[¶](#id332 "Link to this heading")

#### Syntax[¶](#id333 "Link to this heading")

```
 String.search( regex )
```

Copy

##### Arguments[¶](#id334 "Link to this heading")

`regex`: Regular expression which matches with the desired pattern.

##### Return Type[¶](#id335 "Link to this heading")

Integer. If the pattern does not match with any part of the string, returns -1.

### Examples[¶](#id336 "Link to this heading")

#### Query[¶](#id337 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION get_index_pattern(pattern varchar, str varchar)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
  function GET_PATTERN(pattern, string){
    return string.search(new RegExp( pattern ));
    }
   return GET_PATTERN(PATTERN, STR) + 1;
$$;

SELECT GET_INDEX_PATTERN('on+', 'No, no, non esistono più') PATINDEX;
```

Copy

##### Result[¶](#id338 "Link to this heading")

```
    PATINDEX|      
------------|
          10|
```

Copy

## STR[¶](#str "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id339 "Link to this heading")

Returns character data converted from numeric data. The character data is right-justified, with a specified length and decimal precision. ([STR in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/str-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id340 "Link to this heading")

### Syntax[¶](#id341 "Link to this heading")

#### SQL Server[¶](#id342 "Link to this heading")

```
STR ( float_expression [ , length [ , decimal ] ] )
```

Copy

##### Snowflake SQL[¶](#id343 "Link to this heading")

```
STR_UDF( numeric_expression, number_format )
```

Copy

#### Arguments[¶](#id344 "Link to this heading")

`numeric_expression`: Float expression with a decimal point.

`length` (Optional): Length that the returning expression will have, including point notation, decimal, and float parts.

`decimal`(Optional): Is the number of places to the right of the decimal point.

#### Return Type[¶](#id345 "Link to this heading")

`VARCHAR`.

### Examples[¶](#id346 "Link to this heading")

### SQL Server[¶](#id347 "Link to this heading")

**Input:**

```
/* 1 */
SELECT STR(123.5);

/* 2 */
SELECT STR(123.5, 2);

/* 3 */
SELECT STR(123.45, 6);

/* 4 */
SELECT STR(123.45, 6, 1);
```

Copy

**Output:**

```
1) 124
2) **
3) 123
4) 123.5
```

Copy

#### Snowflake SQL[¶](#id348 "Link to this heading")

**Input:**

```
/* 1 */
SELECT
PUBLIC.STR_UDF(123.5, '99999');

/* 2 */
SELECT
PUBLIC.STR_UDF(123.5, '99');

/* 3 */
SELECT
PUBLIC.STR_UDF(123.45, '999999');

/* 4 */
SELECT
PUBLIC.STR_UDF(123.45, '9999.9');
```

Copy

**Output:**

```
1) 124

2) ##

3) 123
4) 123.5
```

Copy

## STR in JS[¶](#str-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id349 "Link to this heading")

Unfortunately, this functionality is not available in JS, but it can be implemented easily using the predefined functions for strings.

### Sample Source Pattern[¶](#id350 "Link to this heading")

#### Implementation Example[¶](#id351 "Link to this heading")

```
 function validLength(number, max_length, float_precision) {
  var float_point = number.match(/[\.][0-9]+/);
  /*if the number does not have point float, checks if the float precision 
   * and current number are greater than max_length
   */
   if(!float_point) return number.length + float_precision + 1 < max_length; 
    //removes the '.' and checks if there is overflow with the float_precision
    return number.length - float_point[0].trim('.').length + float_precision  < max_length;
} 
 function STR(number, max_length, float_precision) {
  var number_str = number.toString();
   //if the expression exceeds the max_length, returns '**'
   if(number_str.length > max_length || float_precision > max_length) return '**';
   if(validLength(number_str, max_length, float_precision)) {
      return number.toFixed(float_precision);
    }
    return number.toFixed(max_length - float_precision);
}
```

Copy

##### Arguments[¶](#id352 "Link to this heading")

`number`: Float expression with a decimal point.

`max_length`: Length that the returning expression will have, including point notation, decimal, and float parts.

`float_precision`: Is the number of places to the right of the decimal point.

##### Return Type[¶](#id353 "Link to this heading")

String.

### Examples[¶](#id354 "Link to this heading")

#### Query[¶](#id355 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION STR(number float, max_length float, float_precision float)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
    function validLength(number, max_length, float_precision) {
        var float_point = number.match(/[\.][0-9]+/);
        if(!float_point) return number.length + float_precision + 1 < max_length; 
        return number.length - float_point[0].trim('.').length + float_precision  < max_length;
    } 
    function STR(number, max_length, float_precision) {
      var number_str = number.toString();
      if(number_str.length > max_length || float_precision > max_length) return '**';
      if(validLength(number_str, max_length, float_precision)) {
        return number.toFixed(float_precision);
      }
      return number.toFixed(max_length - float_precision);
    }
    return STR( NUMBER, MAX_LENGTH, FLOAT_PRECISION );
$$;

SELECT STR(12345.674, 12, 6);
```

Copy

##### Result[¶](#id356 "Link to this heading")

```
           STR|
--------------|
  12345.674000|
```

Copy

## LTRIM[¶](#ltrim "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id357 "Link to this heading")

Returns a character expression after it removes leading blanks ([LTRIM in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/ltrim-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id358 "Link to this heading")

### Syntax[¶](#id359 "Link to this heading")

```
LTRIM( string_expression )
```

Copy

#### Arguments[¶](#id360 "Link to this heading")

`string_expression:` String expressions to convert.

#### Return Type[¶](#id361 "Link to this heading")

`VARCHAR` or `NVARCHAR`

### Examples[¶](#id362 "Link to this heading")

### Query[¶](#id363 "Link to this heading")

```
SELECT LTRIM('  FIRST TWO BLANK SPACES') AS [LTRIM]
```

Copy

#### Result[¶](#id364 "Link to this heading")

```
                 LTRIM|      
----------------------|
FIRST TWO BLANK SPACES|
```

Copy

## LTRIM in JS[¶](#ltrim-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id365 "Link to this heading")

Unfortunately, this function is not available in JavaScript, but it can be implemented using regular expressions.

### Sample Source Pattern[¶](#id366 "Link to this heading")

#### Implementation Example[¶](#id367 "Link to this heading")

```
 function LTRIM(string){
    return string.replace(/^s+/,"");
}
```

Copy

##### Arguments[¶](#id368 "Link to this heading")

`string`: String expression to remove blank spaces.

##### Return Type[¶](#id369 "Link to this heading")

String.

### Examples[¶](#id370 "Link to this heading")

#### Query[¶](#id371 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION ltrim(str varchar)
  RETURNS string
  LANGUAGE JAVASCRIPT
AS
$$
  function LTRIM(string){
    return string.replace(/^s+/,"");
    }
   return LTRIM(S TR );
$$;

SELECT LTRIM('  FIRST TWO BLANK SPACES') AS LTRIM;
```

Copy

##### Result[¶](#id372 "Link to this heading")

```
                 LTRIM|      
----------------------|
FIRST TWO BLANK SPACES|
```

Copy

## Ranking functions[¶](#ranking-functions "Link to this heading")

This section describes the functional equivalents of ranking functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to their usage in stored procedures in SnowFlake.

## DENSE\_RANK[¶](#dense-rank "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id373 "Link to this heading")

This function returns the rank of each row within a result set partition, with no gaps in the ranking values. The rank of a specific row is one plus the number of distinct rank values that come before that specific row. ([DENSE\_RANK in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/dense-rank-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id374 "Link to this heading")

#### Syntax[¶](#id375 "Link to this heading")

##### SQL Server[¶](#id376 "Link to this heading")

```
 DENSE_RANK ( ) OVER ( [ <partition_by_clause> ] < order_by_clause > )
```

Copy

##### Snowflake SQL[¶](#id377 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/dense_rank.html)

```
 DENSE_RANK( )
-- ** SSC-EWI-0001 - UNRECOGNIZED TOKEN ON LINE '1' COLUMN '15' OF THE SOURCE CODE STARTING AT 'OVER'. EXPECTED 'BATCH' GRAMMAR. CODE '80'. **
--              OVER ( [ <partition_by_clause> ] < order_by_clause > )
```

Copy

### Examples[¶](#id378 "Link to this heading")

#### SQL Server[¶](#id379 "Link to this heading")

```
SELECT TOP 10 BUSINESSENTITYID, NATIONALIDNUMBER, RANK() OVER (ORDER BY NATIONALIDNUMBER) AS RANK FROM HUMANRESOURCES.EMPLOYEE AS TOTAL
```

Copy

**Result:**

```
BUSINESSENTITYID|NATIONALIDNUMBER|DENSE_RANK|
----------------|----------------|----------|
              57|10708100        |         1|
              54|109272464       |         2|
             273|112432117       |         3|
               4|112457891       |         4|
             139|113393530       |         5|
             109|113695504       |         6|
             249|121491555       |         7|
             132|1300049         |         8|
             214|131471224       |         9|
              51|132674823       |        10|
```

Copy

##### Snowflake SQL[¶](#id380 "Link to this heading")

```
SELECT TOP 10
BUSINESSENTITYID,
NATIONALIDNUMBER,
RANK() OVER (ORDER BY NATIONALIDNUMBER) AS RANK
FROM
HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

```
BUSINESSENTITYID|NATIONALIDNUMBER|DENSE_RANK|
----------------|----------------|----------|
              57|10708100        |         1|
              54|109272464       |         2|
             273|112432117       |         3|
               4|112457891       |         4|
             139|113393530       |         5|
             109|113695504       |         6|
             249|121491555       |         7|
             132|1300049         |         8|
             214|131471224       |         9|
              51|132674823       |        10|
```

Copy

#### Related EWIs[¶](#id381 "Link to this heading")

* [SSC-EWI-0001](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0001): Unrecognized token on the line of the source code.

## RANK[¶](#rank "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id382 "Link to this heading")

Returns the rank of each row within the partition of a result set. The rank of a row is one plus the number of ranks that come before the row in question. ([RANK in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/rank-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id383 "Link to this heading")

#### Syntax[¶](#id384 "Link to this heading")

##### SQL Server[¶](#id385 "Link to this heading")

```
 RANK ( ) OVER ( [ partition_by_clause ] order_by_clause )
```

Copy

##### Snowflake SQL[¶](#id386 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/rank.html)

```
 RANK( )
-- ** SSC-EWI-0001 - UNRECOGNIZED TOKEN ON LINE '1' COLUMN '9' OF THE SOURCE CODE STARTING AT 'OVER'. EXPECTED 'BATCH' GRAMMAR. CODE '80'. **
--        OVER ( [ partition_by_clause ] order_by_clause )
```

Copy

### Examples[¶](#id387 "Link to this heading")

#### SQL Server[¶](#id388 "Link to this heading")

```
SELECT TOP 10 BUSINESSENTITYID, NATIONALIDNUMBER, RANK() OVER (ORDER BY NATIONALIDNUMBER) AS RANK FROM HUMANRESOURCES.EMPLOYEE AS TOTAL
```

Copy

**Result:**

```
BUSINESSENTITYID|NATIONALIDNUMBER|RANK|
----------------|----------------|----|
              57|10708100        |   1|
              54|109272464       |   2|
             273|112432117       |   3|
               4|112457891       |   4|
             139|113393530       |   5|
             109|113695504       |   6|
             249|121491555       |   7|
             132|1300049         |   8|
             214|131471224       |   9|
              51|132674823       |  10|
```

Copy

##### Snowflake SQL[¶](#id389 "Link to this heading")

```
SELECT TOP 10
BUSINESSENTITYID,
NATIONALIDNUMBER,
RANK() OVER (ORDER BY NATIONALIDNUMBER) AS RANK
FROM
HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

```
BUSINESSENTITYID|NATIONALIDNUMBER|RANK|
----------------|----------------|----|
              57|10708100        |   1|
              54|109272464       |   2|
             273|112432117       |   3|
               4|112457891       |   4|
             139|113393530       |   5|
             109|113695504       |   6|
             249|121491555       |   7|
             132|1300049         |   8|
             214|131471224       |   9|
              51|132674823       |  10|
```

Copy

#### Related EWIs[¶](#id390 "Link to this heading")

* [SSC-EWI-0001](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0001): Unrecognized token on the line of the source code.

## ROW\_NUMBER[¶](#row-number "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id391 "Link to this heading")

Numbers the output of a result set. More specifically, returns the sequential number of a row within a partition of a result set, starting at 1 for the first row in each partition. ([ROW\_NUMBER in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/row-number-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id392 "Link to this heading")

#### Syntax[¶](#id393 "Link to this heading")

##### SQL Server[¶](#id394 "Link to this heading")

```
 ROW_NUMBER ( )   
    OVER ( [ PARTITION BY value_expression , ... [ n ] ] order_by_clause )
```

Copy

##### Snowflake SQL[¶](#id395 "Link to this heading")

[Snowflake SQL complete documentation](https://docs.snowflake.com/en/sql-reference/functions/row_number.html)

```
 ROW_NUMBER( )
-- ** SSC-EWI-0001 - UNRECOGNIZED TOKEN ON LINE '2' COLUMN '5' OF THE SOURCE CODE STARTING AT 'OVER'. EXPECTED 'BATCH' GRAMMAR. CODE '80'. **
--    OVER ( [ PARTITION BY value_expression , ... [ n ] ] order_by_clause )
```

Copy

### Examples[¶](#id396 "Link to this heading")

#### SQL Server[¶](#id397 "Link to this heading")

```
SELECT 
ROW_NUMBER() OVER(ORDER BY NAME  ASC) AS RowNumber, 
NAME
FROM HUMANRESOURCES.DEPARTMENT
```

Copy

**Output:**

```
RowNumber|NAME                      |
---------|--------------------------|
        1|Document Control          |
        2|Engineering               |
        3|Executive                 |
        4|Facilities and Maintenance|
        5|Finance                   |
        6|Human Resources           |
        7|Information Services      |
        8|Marketing                 |
        9|Production                |
       10|Production Control        |
       11|Purchasing                |
       12|Quality Assurance         |
       13|Research and Development  |
       14|Sales                     |
       15|Shipping and Receiving    |
       16|Tool Design               |
```

Copy

##### Snowflake SQL[¶](#id398 "Link to this heading")

```
SELECT
ROW_NUMBER() OVER(ORDER BY NAME ASC) AS RowNumber,
NAME
FROM
HUMANRESOURCES.DEPARTMENT;
```

Copy

**Output:**

```
RowNumber|NAME                      |
---------|--------------------------|
        1|Document Control          |
        2|Engineering               |
        3|Executive                 |
        4|Facilities and Maintenance|
        5|Finance                   |
        6|Human Resources           |
        7|Information Services      |
        8|Marketing                 |
        9|Production                |
       10|Production Control        |
       11|Purchasing                |
       12|Quality Assurance         |
       13|Research and Development  |
       14|Sales                     |
       15|Shipping and Receiving    |
       16|Tool Design               |
```

Copy

#### Related EWIs[¶](#id399 "Link to this heading")

* [SSC-EWI-0001](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0001): Unrecognized token on the line of the source code.

## Logical functions[¶](#logical-functions "Link to this heading")

This section describes the functional equivalents of logical functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to their usage in stored procedures in SnowFlake.

## IIF[¶](#iif "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id400 "Link to this heading")

Returns one of two values, depending on whether the Boolean expression evaluates to true or false. ([IIF in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/logical-functions-iif-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id401 "Link to this heading")

#### Syntax[¶](#id402 "Link to this heading")

##### SQL Server[¶](#id403 "Link to this heading")

```
IIF( boolean_expression, true_value, false_value )
```

Copy

##### Snowflake SQL[¶](#id404 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/iff.html)

```
IFF( <condition> , <expr1> , <expr2> )
```

Copy

### Examples[¶](#id405 "Link to this heading")

#### SQL Server[¶](#id406 "Link to this heading")

```
SELECT IIF( 2 > 3, 'TRUE', 'FALSE' ) AS RESULT
```

Copy

**Result:**

```
RESULT|
------|
 FALSE|
```

Copy

##### Snowflake SQL[¶](#id407 "Link to this heading")

```
SELECT
IFF( 2 > 3, 'TRUE', 'FALSE' ) AS RESULT;
```

Copy

**Result:**

```
RESULT|
------|
 FALSE|
```

Copy

## XML Functions[¶](#xml-functions "Link to this heading")

This section describes the translation of XML functions in Transact-SQL to Snowflake SQL.

## Query[¶](#id408 "Link to this heading")

Applies to

* SQL Server

Warning

This transformation will be delivered in the future

### Description[¶](#id409 "Link to this heading")

Specifies an XQuery against an instance of the **xml** data type. The result is of **xml** type. The method returns an instance of untyped XML. ([`Query() in Transact-SQL`](https://learn.microsoft.com/en-us/sql/t-sql/xml/query-method-xml-data-type?view=sql-server-ver16))

### Sample Source Patterns [¶](#sample-source-patterns "Link to this heading")

The following example details the transformation for .query( )

#### SQL Server [¶](#id410 "Link to this heading")

##### Input[¶](#input "Link to this heading")

```
 CREATE TABLE xml_demo(object_col XML);

INSERT INTO xml_demo (object_col)
   SELECT
        '<Root>
<ProductDescription ProductID="1" ProductName="Road Bike">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

INSERT INTO xml_demo (object_col)
   SELECT
        '<Root>
<ProductDescription ProductID="2" ProductName="Skate">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

SELECT
    xml_demo.object_col.query('/Root/ProductDescription/Features/Warranty') as Warranty,
    xml_demo.object_col.query('/Root/ProductDescription/Features/Maintenance') as Maintenance
from xml_demo;
```

Copy

##### Output[¶](#output "Link to this heading")

```
 Warranty                                     | Maintenance                                                                          |
----------------------------------------------|--------------------------------------------------------------------------------------|
<Warranty>1 year parts and labor</Warranty>   | <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>  |
<Warranty>1 year parts and labor</Warranty>   | <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>  |
```

Copy

##### Snowflake SQL [¶](#id411 "Link to this heading")

##### Input[¶](#id412 "Link to this heading")

```
 CREATE OR REPLACE TABLE xml_demo (
    object_col VARIANT !!!RESOLVE EWI!!! /*** SSC-EWI-0036 - XML DATA TYPE CONVERTED TO VARIANT ***/!!!
)
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/11/2025",  "domain": "no-domain-provided" }}'
;

INSERT INTO xml_demo (object_col)
SELECT
        '<Root>
<ProductDescription ProductID="1" ProductName="Road Bike">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

INSERT INTO xml_demo (object_col)
SELECT
        '<Root>
<ProductDescription ProductID="2" ProductName="Skate">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

SELECT
    XMLGET(XMLGET(XMLGET(object_col, 'ProductDescription'), 'Features'), 'Warranty') as Warranty,
    XMLGET(XMLGET(XMLGET(object_col, 'ProductDescription'), 'Features'), 'Maintenance') as Maintenance
from
    xml_demo;
```

Copy

##### Output[¶](#id413 "Link to this heading")

```
 Warranty                                     | Maintenance                                                                          |
----------------------------------------------|--------------------------------------------------------------------------------------|
<Warranty>1 year parts and labor</Warranty>   | <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>  |
<Warranty>1 year parts and labor</Warranty>   | <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>  |
```

Copy

### Known Issues[¶](#known-issues "Link to this heading")

No issues were found.

### Related EWIs[¶](#id414 "Link to this heading")

1. [SSC-EWI-0036](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0036): Data type converted to another data type.

## Value[¶](#value "Link to this heading")

Applies to

* SQL Server

Warning

This transformation will be delivered in the future

### Description[¶](#id415 "Link to this heading")

Performs an XQuery against the XML and returns a value of SQL type. This method returns a scalar value. ([`value() in Transact-SQL`](https://learn.microsoft.com/en-us/sql/t-sql/xml/value-method-xml-data-type?view=sql-server-ver16)).

### Sample Source Patterns [¶](#id416 "Link to this heading")

The following example details the transformation for .value( )

#### SQL Server [¶](#id417 "Link to this heading")

##### Input[¶](#id418 "Link to this heading")

```
 CREATE TABLE xml_demo(object_col XML);

INSERT INTO xml_demo (object_col)
   SELECT
        '<Root>
<ProductDescription ProductID="1" ProductName="Road Bike">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

INSERT INTO xml_demo (object_col)
   SELECT
        '<Root>
<ProductDescription ProductID="2" ProductName="Skate">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

SELECT
    xml_demo.object_col.value('(/Root/ProductDescription/@ProductID)[1]', 'int' ) as ID,
    xml_demo.object_col.value('(/Root/ProductDescription/@ProductName)[1]', 'varchar(max)' ) as ProductName,
    xml_demo.object_col.value('(/Root/ProductDescription/Features/Warranty)[1]', 'varchar(max)' ) as Warranty
from xml_demo;
```

Copy

##### Output[¶](#id419 "Link to this heading")

```
 ID | ProductName | Warranty               |
----|-------------|------------------------|
1   | Road Bike   | 1 year parts and labor |
2   | Skate       | 1 year parts and labor |
```

Copy

##### Snowflake SQL [¶](#id420 "Link to this heading")

##### Input[¶](#id421 "Link to this heading")

```
 CREATE OR REPLACE TABLE xml_demo (
    object_col VARIANT !!!RESOLVE EWI!!! /*** SSC-EWI-0036 - XML DATA TYPE CONVERTED TO VARIANT ***/!!!
)
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/11/2025",  "domain": "no-domain-provided" }}'
;

INSERT INTO xml_demo (object_col)
SELECT
        '<Root>
<ProductDescription ProductID="1" ProductName="Road Bike">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

INSERT INTO xml_demo (object_col)
SELECT
        '<Root>
<ProductDescription ProductID="2" ProductName="Skate">
<Features>
  <Warranty>1 year parts and labor</Warranty>
  <Maintenance>3 year parts and labor extended maintenance is available</Maintenance>
</Features>
</ProductDescription>
</Root>';

SELECT
    GET(XMLGET(object_col, 'ProductDescription'), '@ProductID') :: INT as ID,
    GET(XMLGET(object_col, 'ProductDescription'), '@ProductName') :: VARCHAR as ProductName,
    GET(XMLGET(XMLGET(XMLGET(object_col, 'ProductDescription'), 'Features'), 'Warranty', 0), '$') :: VARCHAR as Warranty
from
    xml_demo;
```

Copy

##### Output[¶](#id422 "Link to this heading")

```
 ID | PRODUCTNAME | WARRANRTY              |
----|-------------|------------------------|
1   | Road Bike   | 1 year parts and labor |
2   | Skate       | 1 year parts and labor |
```

Copy

### Known Issues[¶](#id423 "Link to this heading")

No issues were found.

### Related EWIs[¶](#id424 "Link to this heading")

1. [SSC-EWI-0036](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0036): Data type converted to another data type.

## Aggregate functions[¶](#aggregate-functions "Link to this heading")

This section describes the functional equivalents of aggregate functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to the creation of UDFs in Snowflake.

## COUNT[¶](#count "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id425 "Link to this heading")

This function returns the number of items found in a group. COUNT operates like the COUNT\_BIG function. These functions differ only in the data types of their return values. COUNT always returns an int data type value. COUNT\_BIG always returns a bigint data type value. ([COUNT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/count-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id426 "Link to this heading")

#### Syntax[¶](#id427 "Link to this heading")

##### SQL Server[¶](#id428 "Link to this heading")

```
COUNT ( { [ [ ALL | DISTINCT ] expression ] | * } )
```

Copy

##### Snowflake SQL[¶](#id429 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/count.html)

```
COUNT( [ DISTINCT ] <expr1> [ , <expr2> ... ] )
```

Copy

### Examples[¶](#id430 "Link to this heading")

#### SQL Server[¶](#id431 "Link to this heading")

```
SELECT COUNT(NATIONALIDNUMBER) FROM HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

| TOTAL |
| --- |
| 290 |

##### Snowflake SQL[¶](#id432 "Link to this heading")

```
SELECT
COUNT(NATIONALIDNUMBER) FROM
HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

| TOTAL |
| --- |
| 290 |

## COUNT\_BIG[¶](#count-big "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id433 "Link to this heading")

This function returns the number of items found in a group. COUNT\_BIG operates like the COUNT function. These functions differ only in the data types of their return values. COUNT\_BIG always returns a bigint data type value. COUNT always returns an int data type value. ([COUNT\_BIG in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/count-big-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id434 "Link to this heading")

#### Syntax[¶](#id435 "Link to this heading")

##### SQL Server[¶](#id436 "Link to this heading")

```
COUNT_BIG ( { [ [ ALL | DISTINCT ] expression ] | * } )
```

Copy

##### Snowflake SQL[¶](#id437 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/count.html)

```
COUNT( [ DISTINCT ] <expr1> [ , <expr2> ... ] )
```

Copy

### Examples[¶](#id438 "Link to this heading")

#### SQL Server[¶](#id439 "Link to this heading")

```
SELECT COUNT_BIG(NATIONALIDNUMBER) FROM HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

| TOTAL |
| --- |
| 290 |

##### Snowflake SQL[¶](#id440 "Link to this heading")

```
SELECT
COUNT(NATIONALIDNUMBER) FROM
HUMANRESOURCES.EMPLOYEE AS TOTAL;
```

Copy

**Result:**

| TOTAL |
| --- |
| 290 |

## SUM[¶](#sum "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id441 "Link to this heading")

Returns the sum of all the values, or only the DISTINCT values, in the expression. SUM can be used with numeric columns only. Null values are ignored. ([SUM in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/sum-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id442 "Link to this heading")

#### Syntax[¶](#id443 "Link to this heading")

##### SQL Server[¶](#id444 "Link to this heading")

```
SUM ( [ ALL | DISTINCT ] expression )
```

Copy

##### Snowflake SQL[¶](#id445 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/sum.html)

```
SUM( [ DISTINCT ] <expr1> )
```

Copy

### Examples[¶](#id446 "Link to this heading")

#### SQL Server[¶](#id447 "Link to this heading")

```
SELECT SUM(VACATIONHOURS) FROM HUMANRESOURCES.EMPLOYEE AS TOTALVACATIONHOURS;
```

Copy

**Result:**

| TOTALVACATIONHOURS |
| --- |
| 14678 |

##### Snowflake SQL[¶](#id448 "Link to this heading")

```
SELECT
SUM(VACATIONHOURS) FROM
HUMANRESOURCES.EMPLOYEE AS TOTALVACATIONHOURS;
```

Copy

**Result:**

| TOTALVACATIONHOURS |
| --- |
| 14678 |

## SnowConvert AI custom UDFs[¶](#snowconvert-ai-custom-udfs "Link to this heading")

### Description[¶](#id449 "Link to this heading")

Some Transact-SQL functions or behaviors may not be available or may behave differently in Snowflake. To minimize these differences, some functions are replaced with SnowConvert AI Custom UDFs.

These UDFs are automatically created during migration, in the `UDF Helper` folder, inside the `Output` folder. There is one file per custom UDF.

## OPENXML UDF[¶](#openxml-udf "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id450 "Link to this heading")

This custom UDF is added to process a rowset view over an XML document. This would be used for declarations in because it works as a rowset provider.

[Optional parameters](https://learn.microsoft.com/en-us/sql/t-sql/functions/openxml-transact-sql?view=sql-server-ver16#remarks) and different node types are not supported in this version of the UDF. The element node is processed by default.

### Custom UDF overloads[¶](#custom-udf-overloads "Link to this heading")

**Parameters**

1. **XML**: A `VARCHAR` that represents the readable content of the XML.
2. **PATH**: A varchar that contains the pattern of the nodes to be processed as rows.

#### UDF[¶](#udf "Link to this heading")

```
CREATE OR REPLACE FUNCTION OPENXML_UDF(XML VARCHAR, PATH VARCHAR)
RETURNS TABLE(VALUE VARIANT)
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS
$$
SELECT VALUE from TABLE(FLATTEN(input=>XML_JSON_SIMPLE(PARSE_XML(XML)), path=>PATH))
$$;


CREATE OR REPLACE FUNCTION XML_JSON_SIMPLE(XML VARIANT)
RETURNS OBJECT
LANGUAGE JAVASCRIPT
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS
$$
function toNormalJSON(xmlJSON) {
    var finalres = {};
    var name=xmlJSON['@'];
    var res = {};
    finalres[name] = res;
    for(var key in xmlJSON)
    {
        if (key == "@")
        {
            res["$name"] = xmlJSON["@"];
        }
        else if (key == "$") {
            continue;
        }
        else if (key.startsWith("@"))
        {
            // This is an attribute
            res[key]=xmlJSON[key];
        }
        else
        {
            var elements = xmlJSON['$']
            var value = xmlJSON[key];
            res[key] = [];
            if (Array.isArray(value))
            {
                for(var elementKey in value)
                {
                    var currentElement = elements[elementKey];
                    var fixedElement = toNormalJSON(currentElement);
                    res[key].push(fixedElement);
                }
            }
            else if (value === 0)
            {
                var fixedElement = toNormalJSON(elements);
                res[key].push(fixedElement);
            }
        }
    }
    return finalres;
}
return toNormalJSON(XML);
$$;
```

Copy

##### Transact-SQL[¶](#transact-sql "Link to this heading")

##### Query[¶](#id451 "Link to this heading")

```
DECLARE @idoc INT, @doc VARCHAR(1000);  
SET @doc ='  
<ROOT>  
<Customer CustomerID="VINET" ContactName="Paul Henriot">  
   <Order CustomerID="VINET" EmployeeID="5" OrderDate="1996-07-04T00:00:00">  
      <OrderDetail OrderID="10248" ProductID="11" Quantity="12"/>  
      <OrderDetail OrderID="10248" ProductID="42" Quantity="10"/>  
   </Order>  
</Customer>  
<Customer CustomerID="LILAS" ContactName="Carlos Gonzlez">  
   <Order CustomerID="LILAS" EmployeeID="3" OrderDate="1996-08-16T00:00:00">  
      <OrderDetail OrderID="10283" ProductID="72" Quantity="3"/>  
   </Order>  
</Customer>  
</ROOT>';  

EXEC sp_xml_preparedocument @idoc OUTPUT, @doc;  
 
SELECT *  FROM OPENXML (@idoc, '/ROOT/Customer',1)  
WITH (CustomerID  VARCHAR(10), ContactName VARCHAR(20));
```

Copy

##### Result[¶](#id452 "Link to this heading")

```
CustomerID  | ContactName
----------------------------|
VINET     | Paul Henriot
LILAS     | Carlos Gonzlez
```

Copy

##### Snowflake[¶](#id453 "Link to this heading")

Note

The following example is isolated into a stored procedure because environment variables only support 256 bytes of storage, and the XML demo code uses more than that limit.

##### Query[¶](#id454 "Link to this heading")

```
DECLARE
IDOC INT;
DOC VARCHAR(1000);
BlockResultSet RESULTSET;
BEGIN
DOC := '  
<ROOT>  
<Customer CustomerID="VINET" ContactName="Paul Henriot">  
   <Order CustomerID="VINET" EmployeeID="5" OrderDate="1996-07-04T00:00:00">  
      <OrderDetail OrderID="10248" ProductID="11" Quantity="12"/>  
      <OrderDetail OrderID="10248" ProductID="42" Quantity="10"/>  
   </Order>  
</Customer>  
<Customer CustomerID="LILAS" ContactName="Carlos Gonzlez">  
   <Order CustomerID="LILAS" EmployeeID="3" OrderDate="1996-08-16T00:00:00">  
      <OrderDetail OrderID="10283" ProductID="72" Quantity="3"/>  
   </Order>  
</Customer>  
</ROOT>';
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0075 - TRANSLATION FOR BUILT-IN PROCEDURE 'sp_xml_preparedocument' IS NOT CURRENTLY SUPPORTED. ***/!!!

EXEC sp_xml_preparedocument :IDOC OUTPUT, :DOC;
BlockResultSet := (

SELECT
Left(value:Customer['@CustomerID'], '10') AS 'CustomerID',
Left(value:Customer['@ContactName'], '20') AS 'ContactName'
FROM
OPENXML_UDF(:IDOC, ':ROOT:Customer'));
RETURN TABLE(BlockResultSet);
END;
```

Copy

##### Result[¶](#id455 "Link to this heading")

| CustomerID | ContactName |
| --- | --- |
| VINET | Paul Henriot |
| LILAS | Carlos Gonzlez |

##### Query[¶](#id456 "Link to this heading")

```
SET code = '<ROOT>  
<Customer CustomerID="VINET" ContactName="Paul Henriot">  
   <Order CustomerID="VINET" EmployeeID="5" OrderDate="1996-07-04T00:00:00">  
      <OrderDetail OrderID="10248" ProductID="11" Quantity="12"/>  
   </Order>  
</Customer>  
</ROOT>';
SELECT
Left(value:Customer['@CustomerID'],10) as "CustomerID",  
Left(value:Customer['@ContactName'],20) as "ContactName"
FROM TABLE(OPENXML_UDF($code,'ROOT:Customer'));
```

Copy

##### Result[¶](#id457 "Link to this heading")

| CustomerID | ContactName |
| --- | --- |
| VINET | Paul Henriot |

### Known Issues[¶](#id458 "Link to this heading")

No issues were found.

### Related EWIs[¶](#id459 "Link to this heading")

1. [SSC-EWI-TS0075](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/sqlServerEWI.html#ssc-ewi-ts0075): Built In Procedure Not Supported.

## STR UDF[¶](#str-udf "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id460 "Link to this heading")

This custom UDF converts numeric data to character data.

### Custom UDF overloads[¶](#id461 "Link to this heading")

#### Parameters[¶](#parameters "Link to this heading")

1. **FLOAT\_EXPR**: A numeric expression to be converted to varchar.
2. **FORMAT**: A varchar expression with the length and number of decimals of the resulting varchar. This format is automatically generated in SnowConvert.

##### UDF[¶](#id462 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION PUBLIC.STR_UDF(FLOAT_EXPR FLOAT, FORMAT VARCHAR)
RETURNS VARCHAR
LANGUAGE SQL
IMMUTABLE
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS
$$
    TRIM(TRIM(SELECT TO_CHAR(FLOAT_EXPR, FORMAT)), '.')
$$;

CREATE OR REPLACE FUNCTION PUBLIC.STR_UDF(FLOAT_EXPR FLOAT)
RETURNS VARCHAR
LANGUAGE SQL
IMMUTABLE
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS
$$
    STR_UDF(FLOAT_EXPR, '999999999999999999')
$$;
```

Copy

##### Transact-SQL[¶](#id463 "Link to this heading")

##### Query[¶](#id464 "Link to this heading")

```
SELECT
    STR(123.5) as A,
    STR(123.5, 2) as B,
    STR(123.45, 6) as C,
    STR(123.45, 6, 1) as D;
```

Copy

##### Result[¶](#id465 "Link to this heading")

| A | B | C | D |
| --- | --- | --- | --- |
| 124 | \*\* | 123 | 123.5 |

##### Snowflake[¶](#id466 "Link to this heading")

##### Query[¶](#id467 "Link to this heading")

```
SELECT
    PUBLIC.STR_UDF(123.5, '99999') as A,
    PUBLIC.STR_UDF(123.5, '99') as B,
    PUBLIC.STR_UDF(123.45, '999999') as C,
    PUBLIC.STR_UDF(123.45, '9999.9') as D;
```

Copy

## SWITCHOFFSET\_UDF[¶](#switchoffset-udf "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id468 "Link to this heading")

This custom UDF is added to return a datetimeoffset value that is changed from the stored time zone offset to a specified new time zone offset.

### Custom UDF overloads[¶](#id469 "Link to this heading")

**Parameters**

1. **source\_timestamp**: A TIMESTAMP\_TZ that can be resolved to a datetimeoffset(n) value.
2. **target\_tz**: A varchar that represents the time zone offset

#### UDF[¶](#id470 "Link to this heading")

```
CREATE OR REPLACE FUNCTION PUBLIC.SWITCHOFFSET_UDF(source_timestamp TIMESTAMP_TZ, target_tz varchar)
RETURNS TIMESTAMP_TZ
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS 
$$
WITH tz_values AS (
SELECT 
    RIGHT(source_timestamp::varchar, 5) as source_tz,
    
    REPLACE(source_tz::varchar, ':', '') as source_tz_clean,
    REPLACE(target_tz::varchar, ':', '') as target_tz_clean,
    
    target_tz_clean::integer - source_tz_clean::integer as offset,
    
    RIGHT(offset::varchar, 2) as tz_min,
    PUBLIC.OFFSET_FORMATTER(RTRIM(offset::varchar, tz_min)) as tz_hrs,
    
    
    TIMEADD( hours, tz_hrs::integer, source_timestamp ) as adj_hours,
    TIMEADD( minutes, (LEFT(tz_hrs, 1) || tz_min)::integer, adj_hours::timestamp_tz ) as new_timestamp
    
FROM DUAL)
SELECT 
    (LEFT(new_timestamp, 24) || ' ' || target_tz)::timestamp_tz
FROM tz_values
$$;

-- ==========================================================================
-- Description: The function OFFSET_FORMATTER(offset_hrs varchar) serves as
-- an auxiliar function to format the offter hours and its prefix operator.
-- ==========================================================================  
CREATE OR REPLACE FUNCTION PUBLIC.OFFSET_FORMATTER(offset_hrs varchar)
RETURNS varchar
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"udf"}}'
AS
$$
CASE
   WHEN LEN(offset_hrs) = 0 THEN '+' || '0' || '0'
   WHEN LEN(offset_hrs) = 1 THEN '+' || '0' || offset_hrs
   WHEN LEN(offset_hrs) = 2 THEN
        CASE 
            WHEN LEFT(offset_hrs, 1) = '-' THEN '-' || '0' || RIGHT(offset_hrs, 1)
            ELSE '+' || offset_hrs
        END
    ELSE offset_hrs
END
$$;
```

Copy

##### Transact-SQL[¶](#id471 "Link to this heading")

##### Query[¶](#id472 "Link to this heading")

```
SELECT 
  '1998-09-20 7:45:50.71345 +02:00' as fr_time,
  SWITCHOFFSET('1998-09-20 7:45:50.71345 +02:00', '-06:00') as cr_time;
```

Copy

##### Result[¶](#id473 "Link to this heading")

```
SELECT 
  '1998-09-20 7:45:50.71345 +02:00' as fr_time,
  SWITCHOFFSET('1998-09-20 7:45:50.71345 +02:00', '-06:00') as cr_time;
```

Copy

##### Snowflake[¶](#id474 "Link to this heading")

##### Query[¶](#id475 "Link to this heading")

```
SELECT
  '1998-09-20 7:45:50.71345 +02:00' as fr_time,
  PUBLIC.SWITCHOFFSET_UDF('1998-09-20 7:45:50.71345 +02:00', '-06:00') as cr_time;
```

Copy

##### Result[¶](#id476 "Link to this heading")

| fr\_time | cr\_time |
| --- | --- |
| 1998-09-20 7:45:50.71345 +02:00 | 1998-09-19 23:45:50.7134500 -06:00 |

## Metadata functions[¶](#metadata-functions "Link to this heading")

This section describes the functional equivalents of metadata functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to their usage in stored procedures in SnowFlake.

## DB\_NAME[¶](#db-name "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id477 "Link to this heading")

This function returns the name of a specified database.([DB\_NAME in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/db-name-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id478 "Link to this heading")

#### Syntax[¶](#id479 "Link to this heading")

##### SQL Server[¶](#id480 "Link to this heading")

```
 DB_NAME ( [ database_id ] )
```

Copy

##### Snowflake SQL[¶](#id481 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/current_database.html)

```
 CURRENT_DATABASE() /*** SSC-FDM-TS0010 - CURRENT_DATABASE function has different behavior in certain cases ***/
```

Copy

### Examples[¶](#id482 "Link to this heading")

#### SQL Server[¶](#id483 "Link to this heading")

```
SELECT DB_NAME();
```

Copy

**Result:**

| RESULT |
| --- |
| ADVENTUREWORKS2019 |

##### Snowflake SQL[¶](#id484 "Link to this heading")

```
SELECT
CURRENT_DATABASE() /*** SSC-FDM-TS0010 - CURRENT_DATABASE function has different behavior in certain cases ***/;
```

Copy

**Result:**

| RESULT |
| --- |
| ADVENTUREWORKS2019 |

### Known issues[¶](#id485 "Link to this heading")

**1. CURRENT\_DATABASE function has different behavior in certain cases**

DB\_NAME function can be invoked with the **database\_id** parameter, which returns the name of the specified database. Without parameters, the function returns the current database name. However, SnowFlake does not support this parameter and the CURRENT\_DATABASE function will always return the current database name.

### Related EWIs[¶](#id486 "Link to this heading")

1. [SSC-FDM-TS0010](../../general/technical-documentation/issues-and-troubleshooting/functional-difference/sqlServerFDM.html#ssc-fdm-ts0010): CURRENT\_DATABASE function has different behavior in certain cases.

## OBJECT\_ID[¶](#object-id "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id487 "Link to this heading")

This function returns the database object identification number of a schema-scoped object.[(OBJECT\_ID in Transact-SQL)](https://learn.microsoft.com/en-us/sql/t-sql/functions/object-id-transact-sql?view=sql-server-ver16).

#### SQL Server syntax[¶](#sql-server-syntax "Link to this heading")

```
 OBJECT_ID ( '[ database_name . [ schema_name ] . | schema_name . ]   
  object_name' [ ,'object_type' ] )
```

Copy

### Sample Source Patterns[¶](#id488 "Link to this heading")

#### 1. Default transformation[¶](#default-transformation "Link to this heading")

##### SQL Server[¶](#id489 "Link to this heading")

```
 IF OBJECT_ID_UDF('DATABASE2.DBO.TABLE1') is not null) THEN
            DROP TABLE IF EXISTS TABLE1;
        END IF;
```

Copy

##### Snowflake SQL[¶](#id490 "Link to this heading")

```
 BEGIN
-- ** SSC-EWI-0001 - UNRECOGNIZED TOKEN ON LINE '1' COLUMN '0' OF THE SOURCE CODE STARTING AT 'IF'. EXPECTED 'If Statement' GRAMMAR. LAST MATCHING TOKEN WAS 'null' ON LINE '1' COLUMN '48'. FAILED TOKEN WAS ')' ON LINE '1' COLUMN '52'. CODE '70'. **
--IF OBJECT_ID_UDF('DATABASE2.DBO.TABLE1') is not null) THEN
--** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "TABLE1" **
DROP TABLE IF EXISTS TABLE1;
END;
```

Copy

#### 2. Unknown database[¶](#unknown-database "Link to this heading")

##### SQL Server[¶](#id491 "Link to this heading")

```
 IF OBJECT_ID_UDF('DATABASE1.DBO.TABLE1') is not null) THEN
            DROP TABLE IF EXISTS TABLE1;
        END IF;
```

Copy

##### Snowflake SQL[¶](#id492 "Link to this heading")

```
  IF (
 OBJECT_ID_UDF('DATABASE1.DBO.TABLE1') is not null) THEN
     DROP TABLE IF EXISTS TABLE1;
 END IF;
```

Copy

#### 3. Different object names[¶](#different-object-names "Link to this heading")

##### SQL Server[¶](#id493 "Link to this heading")

```
 IF OBJECT_ID_UDF('DATABASE1.DBO.TABLE2') is not null) THEN
            DROP TABLE IF EXISTS TABLE1;
        END IF;
```

Copy

##### Snowflake SQL[¶](#id494 "Link to this heading")

```
  IF (
 OBJECT_ID_UDF('DATABASE1.DBO.TABLE2') is not null) THEN
     DROP TABLE IF EXISTS TABLE1;
 END IF;
```

Copy

### Known issues[¶](#id495 "Link to this heading")

**1. OBJECT\_ID\_UDF function has different behavior in certain cases**

OBJECT\_ID returns the object identification number but the OBJECT\_ID\_UDF returns a boolean value, so that they are equivalent only when OBJECT\_ID is used with not null condition.

### Related EWIs[¶](#id496 "Link to this heading")

* [SSC-EWI-0001](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/generalEWI.html#ssc-ewi-0001): Unrecognized token on the line of the source code.
* [SSC-FDM-0007](../../general/technical-documentation/issues-and-troubleshooting/functional-difference/generalFDM.html#ssc-fdm-0007): Element with missing dependencies

## Analytic Functions[¶](#analytic-functions "Link to this heading")

This section describes the functional equivalents of analytic functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to the creation of UDFs in Snowflake.

## LAG[¶](#lag "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id497 "Link to this heading")

Accesses data from a previous row in the same result set without the use of a self-join starting with SQL Server 2012 (11.x).
LAG provides access to a row at a given physical offset that comes before the current row.
Use this analytic function in a SELECT statement to compare values in the current row with values in a previous row. ([COUNT in Transact-SQL](#lag)).

### Sample Source Pattern[¶](#id498 "Link to this heading")

#### Syntax[¶](#id499 "Link to this heading")

##### SQL Server[¶](#id500 "Link to this heading")

```
LAG (scalar_expression [,offset] [,default])  
    OVER ( [ partition_by_clause ] order_by_clause )
```

Copy

##### Snowflake SQL[¶](#id501 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/count.html)

```
COUNT( [ DISTINCT ] <expr1> [ , <expr2> ... ] )
```

Copy

### Examples[¶](#id502 "Link to this heading")

#### SQL Server[¶](#id503 "Link to this heading")

```
SELECT TOP 10 
LAG(E.VacationHours,1) OVER(ORDER BY E.NationalIdNumber) as PREVIOUS,
E.VacationHours AS ACTUAL 
FROM HumanResources.Employee E
```

Copy

**Result:**

| PREVIOUS | ACTUAL |
| --- | --- |
| NULL | 10 |
| 10 | 89 |
| 89 | 10 |
| 10 | 48 |
| 48 | 0 |
| 0 | 95 |
| 95 | 55 |
| 55 | 67 |
| 67 | 84 |
| 84 | 85 |

##### Snowflake SQL[¶](#id504 "Link to this heading")

```
SELECT TOP 10
LAG(E.VacationHours,1) OVER(ORDER BY E.NationalIdNumber) as PREVIOUS,
E.VacationHours AS ACTUAL
FROM
HumanResources.Employee E;
```

Copy

**Result:**

| PREVIOUS | ACTUAL |
| --- | --- |
| NULL | 10 |
| 10 | 89 |
| 89 | 10 |
| 10 | 48 |
| 48 | 0 |
| 0 | 95 |
| 95 | 55 |
| 55 | 67 |
| 67 | 84 |
| 84 | 85 |

## Data Type functions[¶](#data-type-functions "Link to this heading")

This section describes the functional equivalents of data type functions in Transact-SQL to Snowflake SQL and JavaScript code.

## DATALENGTH[¶](#datalength "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id505 "Link to this heading")

This function returns the number of bytes used to represent any expression. ([DATALENGTH in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/datalength-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id506 "Link to this heading")

#### Syntax[¶](#id507 "Link to this heading")

##### SQL Server[¶](#id508 "Link to this heading")

```
DATALENGTH ( expression )
```

Copy

##### Snowflake SQL[¶](#id509 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/cast.html)

```
OCTET_LENGTH(<string_or_binary>)
```

Copy

### Examples[¶](#id510 "Link to this heading")

#### SQL Server[¶](#id511 "Link to this heading")

```
SELECT DATALENGTH('SomeString') AS SIZE;
```

Copy

**Result:**

| SIZE |
| --- |
| 10 |

##### Snowflake SQL[¶](#id512 "Link to this heading")

```
SELECT OCTET_LENGTH('SomeString') AS SIZE;
```

Copy

**Result:**

| SIZE |
| --- |
| 10 |

## Mathematical functions[¶](#mathematical-functions "Link to this heading")

This section describes the functional equivalents of mathematical functions in Transact-SQL to Snowflake SQL and JavaScript code, oriented to their usage in stored procedures in SnowFlake.

## ABS[¶](#abs "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id513 "Link to this heading")

A mathematical function that returns the absolute (positive) value of the specified numeric expression. (`ABS` changes negative values to positive values. `ABS` has no effect on zero or positive values.) ([ABS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/abs-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id514 "Link to this heading")

#### Syntax[¶](#id515 "Link to this heading")

##### SQL Server[¶](#id516 "Link to this heading")

```
ABS( expression )
```

Copy

##### Snowflake SQL[¶](#id517 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/abs.html)

```
ABS( <num_expr> )
```

Copy

##### JavaScript[¶](#id518 "Link to this heading")

[JavaScript complete documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Math/abs)

```
Math.abs( expression )
```

Copy

### Examples[¶](#id519 "Link to this heading")

#### SQL Server[¶](#id520 "Link to this heading")

```
SELECT ABS(-5);
```

Copy

**Result:**

| ABS(-5) |
| --- |
| 5 |

##### Snowflake SQL[¶](#id521 "Link to this heading")

```
SELECT ABS(-5);
```

Copy

**Result:**

| ABS(-5) |
| --- |
| 5 |

##### JavaScript[¶](#id522 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_abs(a float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  return Math.abs(A);
$$
;
SELECT COMPUTE_ABS(-5);
```

Copy

**Result:**

| COMPUTE\_ABS(-5) |
| --- |
| 5 |

### Related Documentation[¶](#related-documentation "Link to this heading")

* [Transact-SQL supported numeric types](https://docs.microsoft.com/en-us/sql/t-sql/data-types/numeric-types?view=sql-server-ver15)

## AVG[¶](#avg "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id523 "Link to this heading")

Note

SnowConvert AI Helpers Code section is omitted.

This function returns the average of the values in a group. It ignores null values. ([AVG in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/avg-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id524 "Link to this heading")

#### Syntax[¶](#id525 "Link to this heading")

##### SQL Server[¶](#id526 "Link to this heading")

```
AVG ( [ ALL | DISTINCT ] expression )  
   [ OVER ( [ partition_by_clause ] order_by_clause ) ]
```

Copy

##### Snowflake SQL[¶](#id527 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/avg.html)

```
AVG( [ DISTINCT ] <expr1> )

AVG( [ DISTINCT ] <expr1> ) OVER (
                                 [ PARTITION BY <expr2> ]
                                 [ ORDER BY <expr3> [ ASC | DESC ] [ <window_frame> ] ]
                                 )
```

Copy

### Examples[¶](#id528 "Link to this heading")

#### SQL Server[¶](#id529 "Link to this heading")

```
SELECT AVG(VACATIONHOURS) AS AVG_VACATIONS FROM HUMANRESOURCES.EMPLOYEE;
```

Copy

**Result:**

| AVG\_VACATIONS |
| --- |
| 50 |

##### Snowflake SQL[¶](#id530 "Link to this heading")

```
SELECT AVG(VACATIONHOURS) AS AVG_VACATIONS FROM HUMANRESOURCES.EMPLOYEE;
```

Copy

**Result:**

| AVG\_VACATIONS |
| --- |
| 50 |

## CEILING[¶](#ceiling "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id531 "Link to this heading")

A mathematical function that returns the smallest greater integer greater/equal to the number sent as a parameter ([CEILING in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/ceiling-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id532 "Link to this heading")

#### Syntax[¶](#id533 "Link to this heading")

##### SQL Server[¶](#id534 "Link to this heading")

```
CEILING( expression )
```

Copy

##### Snowflake SQL[¶](#id535 "Link to this heading")

```
CEIL( <input_expr> [, <scale_expr> ] )
```

Copy

##### JavaScript[¶](#id536 "Link to this heading")

```
 Math.ceil( expression )
```

Copy

### Examples[¶](#id537 "Link to this heading")

#### SQL Server[¶](#id538 "Link to this heading")

```
SELECT CEILING(642.20);
```

Copy

**Result:**

| CEILING(642.20) |
| --- |
| 643 |

##### Snowflake SQL[¶](#id539 "Link to this heading")

```
SELECT CEIL(642.20);
```

Copy

**Result:**

| CEIL(642.20) |
| --- |
| 643 |

##### JavaScript[¶](#id540 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_ceil(a double)
RETURNS double
LANGUAGE JAVASCRIPT
AS
$$
  return Math.ceil(A);
$$
;
SELECT COMPUTE_CEIL(642.20);
```

Copy

**Result:**

```
COMPUTE_CEIL(642.20)|
--------------------|
                 643|
```

Copy

## FLOOR[¶](#floor "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id541 "Link to this heading")

Returns the largest integer less than or equal to the specified numeric expression. ([FLOOR in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/floor-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id542 "Link to this heading")

#### Syntax[¶](#id543 "Link to this heading")

##### SQL Server[¶](#id544 "Link to this heading")

```
FLOOR ( numeric_expression )
```

Copy

##### Snowflake SQL[¶](#id545 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/floor.html)

```
FLOOR( <input_expr> [, <scale_expr> ] )
```

Copy

### Examples[¶](#id546 "Link to this heading")

#### SQL Server[¶](#id547 "Link to this heading")

```
SELECT FLOOR (124.87) AS FLOOR;
```

Copy

**Result:**

```
FLOOR|
-----|
  124|
```

Copy

##### Snowflake SQL[¶](#id548 "Link to this heading")

```
SELECT FLOOR (124.87) AS FLOOR;
```

Copy

**Result:**

```
FLOOR|
-----|
  124|
```

Copy

## POWER[¶](#power "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id549 "Link to this heading")

Returns the value of the specified expression to the specified power. ([POWER in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/power-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id550 "Link to this heading")

#### Syntax[¶](#id551 "Link to this heading")

##### SQL Server[¶](#id552 "Link to this heading")

```
POWER ( float_expression , y )
```

Copy

##### Snowflake SQL[¶](#id553 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/pow.html)

```
POW(x, y)

POWER (x, y)
```

Copy

### Examples[¶](#id554 "Link to this heading")

#### SQL Server[¶](#id555 "Link to this heading")

```
SELECT POWER(2, 10.0) AS IntegerResult
```

Copy

**Result:**

```
IntegerResult |
--------------|
          1024|
```

Copy

##### Snowflake SQL[¶](#id556 "Link to this heading")

```
SELECT POWER(2, 10.0) AS IntegerResult;
```

Copy

**Result:**

```
IntegerResult |
--------------|
          1024|
```

Copy

### Related Documentation[¶](#id557 "Link to this heading")

* [SQL Server supported numeric types](https://docs.microsoft.com/en-us/sql/t-sql/data-types/numeric-types?view=sql-server-ver15)

## ROUND[¶](#round "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id558 "Link to this heading")

Returns a numeric value, rounded to the specified length or precision. ([ROUND in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/round-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id559 "Link to this heading")

#### Syntax[¶](#id560 "Link to this heading")

##### SQL Server[¶](#id561 "Link to this heading")

```
ROUND ( numeric_expression , length [ ,function ] )
```

Copy

##### Snowflake SQL[¶](#id562 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/round.html)

```
ROUND( <input_expr> [, <scale_expr> ] )
```

Copy

### Examples[¶](#id563 "Link to this heading")

#### SQL Server[¶](#id564 "Link to this heading")

```
SELECT ROUND(123.9994, 3) AS COL1, ROUND(123.9995, 3) AS COL2;
```

Copy

**Result:**

```
COL1    |COL2    |
--------|--------|
123.9990|124.0000|
```

Copy

##### Snowflake SQL[¶](#id565 "Link to this heading")

```
SELECT ROUND(123.9994, 3) AS COL1,
ROUND(123.9995, 3) AS COL2;
```

Copy

**Result:**

```
COL1   | COL2  |
--------|------|
123.999|124.000|
```

Copy

### Related Documentation[¶](#id566 "Link to this heading")

* [SQL Server supported numeric types](https://docs.microsoft.com/en-us/sql/t-sql/data-types/numeric-types?view=sql-server-ver15)

## SQRT[¶](#sqrt "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id567 "Link to this heading")

Returns the square root of the specified float value. ([SQRT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/sqrt-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id568 "Link to this heading")

#### Syntax[¶](#id569 "Link to this heading")

##### SQL Server[¶](#id570 "Link to this heading")

```
SQRT ( float_expression )
```

Copy

##### Snowflake SQL[¶](#id571 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/sqrt.html)

```
SQRT(expr)
```

Copy

### Examples[¶](#id572 "Link to this heading")

#### SQL Server[¶](#id573 "Link to this heading")

```
SELECT SQRT(25) AS RESULT;
```

Copy

**Result:**

```
RESULT|
------|
   5.0|
```

Copy

##### Snowflake SQL[¶](#id574 "Link to this heading")

```
SELECT SQRT(25) AS RESULT;
```

Copy

**Result:**

```
RESULT|
------|
   5.0|
```

Copy

## SQUARE[¶](#square "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id575 "Link to this heading")

Returns the square of the specified float value. ([SQUARE in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/square-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id576 "Link to this heading")

#### Syntax[¶](#id577 "Link to this heading")

##### SQL Server[¶](#id578 "Link to this heading")

```
SQUARE ( float_expression )  ****
```

Copy

##### Snowflake SQL[¶](#id579 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/square.html)

```
SQUARE(expr)
```

Copy

### Examples[¶](#id580 "Link to this heading")

#### SQL Server[¶](#id581 "Link to this heading")

```
SELECT SQUARE (5) AS SQUARE;
```

Copy

**Result:**

```
SQUARE|
------|
  25.0|
```

Copy

##### Snowflake SQL[¶](#id582 "Link to this heading")

```
SELECT SQUARE (5) AS SQUARE;
```

Copy

**Result:**

```
SQUARE|
------|
    25|
```

Copy

## STDEV[¶](#stdev "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id583 "Link to this heading")

Returns the statistical standard deviation of all values in the specified expression. ([STDEV in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/degrees-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id584 "Link to this heading")

#### Syntax[¶](#id585 "Link to this heading")

##### SQL Server[¶](#id586 "Link to this heading")

```
 STDEV ( [ ALL | DISTINCT ] expression )
```

Copy

##### Snowflake SQL[¶](#id587 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/stddev.html)

```
 STDDEV( [ DISTINCT ] <expression_1> )
```

Copy

### Examples[¶](#id588 "Link to this heading")

#### SQL Server[¶](#id589 "Link to this heading")

```
SELECT
    STDEV(VACATIONHOURS)
FROM
    HUMANRESOURCES.EMPLOYEE AS STDEV;
```

Copy

**Result:**

```
           STDEV|
----------------|
28.7862150320948|
```

Copy

##### Snowflake SQL[¶](#id590 "Link to this heading")

```
SELECT
    STDDEV(VACATIONHOURS)
FROM
    HUMANRESOURCES.EMPLOYEE AS STDEV;
```

Copy

**Result:**

```
       STDEV|
------------|
28.786215034|
```

Copy

## STDEVP[¶](#stdevp "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id591 "Link to this heading")

Returns the statistical standard deviation for the population for all values in the specified expression. ([STDVEP in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/degrees-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id592 "Link to this heading")

#### Syntax[¶](#id593 "Link to this heading")

##### SQL Server[¶](#id594 "Link to this heading")

```
STDEVP ( [ ALL | DISTINCT ] expression )
```

Copy

##### Snowflake SQL[¶](#id595 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/stddev_pop.html)

```
STDDEV_POP( [ DISTINCT ] expression_1)
```

Copy

### Examples[¶](#id596 "Link to this heading")

#### SQL Server[¶](#id597 "Link to this heading")

```
SELECT
    STDEVP(VACATIONHOURS) AS STDEVP_VACATIONHOURS
FROM
    HumanResources.Employee;
```

Copy

**Result:**

```
STDEVP_VACATIONHOURS|
--------------------|
  28.736540767245085|
```

Copy

##### Snowflake SQL[¶](#id598 "Link to this heading")

```
SELECT
    STDDEV_POP(VACATIONHOURS) AS STDEVP_VACATIONHOURS
FROM
    HumanResources.Employee;
```

Copy

**Result:**

```
STDEVP_VACATIONHOURS|
--------------------|
        28.736540763|
```

Copy

## VAR[¶](#var "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

Note

Some parts in the output code are omitted for clarity reasons.

### Description[¶](#id599 "Link to this heading")

Returns the statistical variance of all values in the specified expression. ([VAR in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/var-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id600 "Link to this heading")

#### Syntax[¶](#id601 "Link to this heading")

##### SQL Server[¶](#id602 "Link to this heading")

```
VAR ( [ ALL | DISTINCT ] expression )
```

Copy

##### Snowflake SQL[¶](#id603 "Link to this heading")

```
VAR_SAMP( [DISTINCT] <expr1> )
```

Copy

### Examples[¶](#id604 "Link to this heading")

#### SQL Server[¶](#id605 "Link to this heading")

```
SELECT
    VAR(VACATIONHOURS)
FROM
    HUMANRESOURCES.EMPLOYEE AS VAR;
```

Copy

**Result:**

```
             VAR|
----------------|
28.7862150320948|
```

Copy

##### Snowflake SQL[¶](#id606 "Link to this heading")

```
SELECT
    VAR_SAMP(VACATIONHOURS)
FROM
    HUMANRESOURCES.EMPLOYEE AS VAR;
```

Copy

**Result:**

```
       VAR|
----------|
828.646176|
```

Copy

## POWER[¶](#id607 "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id608 "Link to this heading")

Returns the value of the specified expression for a specific power.  
([POWER in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/power-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id609 "Link to this heading")

### Syntax[¶](#id610 "Link to this heading")

```
POWER( base, exp )
```

Copy

#### Arguments[¶](#id611 "Link to this heading")

`base`: Base of number, it must be a float expression.  
`exp`: Power to which raise the base.

#### Return Type[¶](#id612 "Link to this heading")

The return type depends on the input expression:

| Input Type | Return Type |
| --- | --- |
| float, real | float |
| decimal(p, s) | decimal(38, s) |
| int, smallint, tinyint | int |
| bigint | bigint |
| money, smallmoney | money |
| bit, char, nchar, varchar, nvarchar | float |

### Examples[¶](#id613 "Link to this heading")

### Query[¶](#id614 "Link to this heading")

```
SELECT POWER(2, 3)
```

Copy

#### Result[¶](#id615 "Link to this heading")

```
POWER(2, 3)|
-----------|
        8.0|
```

Copy

## POW in JS[¶](#pow-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id616 "Link to this heading")

Returns the base of the exponent power.  
([JavaScript POW function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/pow)).

### Sample Source Pattern[¶](#id617 "Link to this heading")

#### Syntax[¶](#id618 "Link to this heading")

```
 Math.pow( base, exp )
```

Copy

##### Arguments[¶](#id619 "Link to this heading")

`base`: Base of number, it must be a float expression.  
`exp`: Power to which raise the base.

##### Return Type[¶](#id620 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id621 "Link to this heading")

#### Query[¶](#id622 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION compute_pow(base float, exp float)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
    return Math.pow(BASE, EXP);
$$
;
SELECT COMPUTE_POW(2, 3);
```

Copy

##### Result[¶](#id623 "Link to this heading")

```
COMPUTE_POW(2, 3)|
-----------------|
                8|
```

Copy

## ACOS[¶](#acos "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id624 "Link to this heading")

Function that returns the arccosine in radians of the number sent as a parameter ([ACOS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/acos-transact-sql?view=sql-server-ver15)).

Mathematically, the arccosine is the inverse function of the cosine, resulting in the following definition:  
$$y = cos^{-1} \Leftrightarrow x = cos(y)$$

For $$y = cos^{-1}(x)$$:  
- Range: $$0\leqslant y \leqslant \pi$$ or $$0^{\circ}\leqslant y \leqslant 180^{\circ}$$  
- Domain: $$-1\leqslant x \leqslant 1$$

### Sample Source Pattern[¶](#id625 "Link to this heading")

### Syntax[¶](#id626 "Link to this heading")

```
ACOS ( expression )
```

Copy

#### Arguments[¶](#id627 "Link to this heading")

`expression`: Numeric **float** expression, where expression is in$$[-1,1]$$.

#### Return Type[¶](#id628 "Link to this heading")

Numeric float expression between 0 and π. If the numeric expression sent by parameter is out of the domain $$[-1, 1]$$, the database engine throws an error.

### Examples[¶](#id629 "Link to this heading")

### Query[¶](#id630 "Link to this heading")

```
SELECT ACOS(-1.0);
```

Copy

#### Result[¶](#id631 "Link to this heading")

```
ACOS(-1.0)       |
-----------------|
3.141592653589793|
```

Copy

## ACOS in JS[¶](#acos-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id632 "Link to this heading")

Function that returns the arccosine of a specified number  
([JavaScript ACOS function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Math/acos)).

### Sample Source Pattern[¶](#id633 "Link to this heading")

#### Syntax[¶](#id634 "Link to this heading")

```
 Math.acos( expression )
```

Copy

##### Arguments[¶](#id635 "Link to this heading")

`expression`: Numeric expression, where expression is in$$[-1,1]$$.

##### Return Type[¶](#id636 "Link to this heading")

Numeric expression between 0 and π. If the numeric expression sent by parameter is out of the range of the arccosine in radians $$[-1, 1]$$, the function returns NaN.

### Examples[¶](#id637 "Link to this heading")

#### Query[¶](#id638 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION compute_acos(a double)
  RETURNS double
  LANGUAGE JAVASCRIPT
AS
$$
  return Math.acos(A);
$$
;
SELECT COMPUTE_ACOS(-1);
```

Copy

##### Result[¶](#id639 "Link to this heading")

```
COMPUTE_ACOS(-1)|
---------------|
    3.141592654|
```

Copy

## ASIN[¶](#asin "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id640 "Link to this heading")

Function that returns the arcsine in radians of the number sent as parameter ([ASIN in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/asin-transact-sql?view=sql-server-ver15)).

The arcsine is the inverse function of the sine , summarized in the next definition:  
$$y = sin^{-1} \Leftrightarrow x = sin(x)$$

For $$y = sin^{-1}(x)$$:  
- Range: $$-\frac{\pi}{2}\leqslant y \leqslant \frac{\pi}{2}$$ or $$-90^{\circ}\leqslant y \leqslant 90^{\circ}$$  
- Domain: $$-1\leqslant x \leqslant 1$$

### Sample Source Pattern[¶](#id641 "Link to this heading")

### Syntax[¶](#id642 "Link to this heading")

```
ASIN( expression )
```

Copy

#### Arguments[¶](#id643 "Link to this heading")

`expression`: Numeric **float** expression, where expression is in$$[-1,1]$$.

#### Return Type[¶](#id644 "Link to this heading")

Numeric float expression between $$-\frac{\pi}{2}$$ and $$\frac{\pi}{2}$$. If the numeric expression sent by parameter is not in $$[-1, 1]$$, the database engine throws an error.

### Examples[¶](#id645 "Link to this heading")

### Query[¶](#id646 "Link to this heading")

```
SELECT ASIN(0.5);
```

Copy

#### Result[¶](#id647 "Link to this heading")

```
ASIN(0.5)         |
------------------|
0.5235987755982989|
```

Copy

## ASIN in JS[¶](#asin-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id648 "Link to this heading")

Function that returns the arcsine of a specified number  
([JavaScript ASIN function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Math/asin)).

### Sample Source Pattern[¶](#id649 "Link to this heading")

#### Syntax[¶](#id650 "Link to this heading")

```
 Math.asin( expression )
```

Copy

##### Arguments[¶](#id651 "Link to this heading")

`expression`: Numeric expression, where expression is in$$[-1,1]$$.

##### Return Type[¶](#id652 "Link to this heading")

Numeric expression between $$-\frac{\pi}{2}$$ and $$\frac{\pi}{2}$$. If the numeric expression sent by parameter is out of the domain of the arccosine $$[-1, 1]$$, the function returns NaN.

### Examples[¶](#id653 "Link to this heading")

#### Query[¶](#id654 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION compute_asin(a float)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
  return Math.asin(A);
$$
;
SELECT COMPUTE_ASIN(0.5);
```

Copy

##### Result[¶](#id655 "Link to this heading")

```
COMPUTE_ASIN(1)   |
------------------|
      0.5235987756|
```

Copy

## COS[¶](#cos "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id656 "Link to this heading")

Function that returns the cosine of the angle sent through parameters (must be measured in radians) ([COS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/cos-transact-sql?view=sql-server-ver15)).

The cosine is defined as:  
$$y = cos(x)$$  
Where:  
- Range: $$-1\leqslant y \leqslant 1$$  
- Domain: $$\mathbb{R}$$

### Sample Source Pattern[¶](#id657 "Link to this heading")

### Syntax[¶](#id658 "Link to this heading")

```
COS( expression )
```

Copy

#### Arguments[¶](#id659 "Link to this heading")

`expression`: Numeric **float** expression, where expression is in $$\mathbb{R}$$.

#### Return Type[¶](#id660 "Link to this heading")

Numeric float expression in $$[-1, 1]$$.

### Examples[¶](#id661 "Link to this heading")

### Query[¶](#id662 "Link to this heading")

```
SELECT COS(PI())
```

Copy

#### Result[¶](#id663 "Link to this heading")

```
COS(PI())|
---------|
     -1.0|
```

Copy

## COS in JS[¶](#cos-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id664 "Link to this heading")

Static function that returns the cosine of an angle in radians  
([JavaScript COS function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/cos)).

### Sample Source Pattern[¶](#id665 "Link to this heading")

#### Syntax[¶](#id666 "Link to this heading")

```
 Math.cos( expression )
```

Copy

##### Arguments[¶](#id667 "Link to this heading")

`expression:` Numeric expressions.

##### Return Type[¶](#id668 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id669 "Link to this heading")

#### Query[¶](#id670 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_cos(angle float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  return Math.cos(ANGLE); 
$$
;
SELECT COMPUTE_COS(PI());
```

Copy

##### Result[¶](#id671 "Link to this heading")

```
COMPUTE_COS(PI())|
-----------------|
               -1|
```

Copy

## COT[¶](#cot "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id672 "Link to this heading")

Returns the cotangent of the angle in radians sent through parameters ([COT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/cot-transact-sql?view=sql-server-ver15)).

The cosine is defined as:  
$$cot(x) = \frac{cos(x)}{sin(x)}$$ or $$cot(x) = \frac{1}{tan(x)}$$  
To calculate the cosine, the parameter must comply with the constraints of sine and [cosine](#cos) functions.

### Sample Source Pattern[¶](#id673 "Link to this heading")

### Syntax[¶](#id674 "Link to this heading")

```
COT( expression )
```

Copy

#### Arguments[¶](#id675 "Link to this heading")

`expression`: Numeric **float** expression, where expression is in $$\mathbb{R}-{sin(expression)=0 \wedge tan(expression) =0}$$.

#### Return Type[¶](#id676 "Link to this heading")

Numeric float expression in $$\mathbb{R}$$.

### Examples[¶](#id677 "Link to this heading")

### Query[¶](#id678 "Link to this heading")

```
SELECT COT(1)
```

Copy

#### Result[¶](#id679 "Link to this heading")

```
COT(1)            |
------------------|
0.6420926159343306|
```

Copy

## COT in JS[¶](#cot-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id680 "Link to this heading")

Unfortunately, the object `Math`in JavaScript does not provide a method to calculate the cotangent of a given angle.  
This could be calculated using the equation: $$cot(x) = \frac{cos(x)}{sin(x)}$$

### Sample Source Pattern[¶](#id681 "Link to this heading")

#### Implementation example[¶](#id682 "Link to this heading")

```
 function cot(angle){
    return Math.cos(angle)/Math.sin(angle);
}
```

Copy

##### Arguments[¶](#id683 "Link to this heading")

`angle:` Numeric expression in radians.

##### Return Type[¶](#id684 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id685 "Link to this heading")

#### Query[¶](#id686 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_cot(angle float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  function cot(angle){
    return Math.cos(angle)/Math.sin(angle);
  }
  return cot(ANGLE);
    
$$
;
SELECT COMPUTE_COT(1);
```

Copy

##### Result[¶](#id687 "Link to this heading")

```
COMPUTE_COT(1);   |
------------------|
0.6420926159343308|
```

Copy

## RADIANS[¶](#radians "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id688 "Link to this heading")

Converts degrees to radians.  
([RADIANS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/radians-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id689 "Link to this heading")

### Syntax[¶](#id690 "Link to this heading")

```
RADIANS( expression )
```

Copy

#### Arguments[¶](#id691 "Link to this heading")

`expression`: Numeric expression in degrees.

#### Return Type[¶](#id692 "Link to this heading")

Same data type sent through parameter as a numeric expression in radians.

### Examples[¶](#id693 "Link to this heading")

### Query[¶](#id694 "Link to this heading")

```
SELECT RADIANS(180.0)
```

Copy

#### Result[¶](#id695 "Link to this heading")

| RADIANS(180) |
| --- |
| 3.141592653589793116 |

Note

Cast the parameter of this function to float, otherwise, the above statement will return 3 instead of PI value.

## RADIANS in JS[¶](#radians-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id696 "Link to this heading")

JavaScript does not provide a method to convert degrees to radians of a given angle.  
This could be calculated using the equation: $$Radians = \frac{\pi}{180^{\circ}} \cdot angle$$

### Sample Source Pattern[¶](#id697 "Link to this heading")

#### Implementation example[¶](#id698 "Link to this heading")

```
 function radians(angle){
    return (Math.PI/180) * angle;
}
```

Copy

##### Arguments[¶](#id699 "Link to this heading")

`angle`: Float expression in degrees.

##### Return Type[¶](#id700 "Link to this heading")

Same data type sent through parameter as a numeric expression in radians.

### Examples[¶](#id701 "Link to this heading")

#### Query[¶](#id702 "Link to this heading")

```
CREATE OR REPLACE FUNCTION RADIANS(angle float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
    function radians(angle){
      return (Math.PI/180) * angle;
    }
    return radians(ANGLE);
$$
;
SELECT RADIANS(180);
```

Copy

##### Result[¶](#id703 "Link to this heading")

| RADIANS(180) |
| --- |
| 3.141592654 |

## PI[¶](#pi "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id704 "Link to this heading")

Returns the constant value of PI  
([PI in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/pi-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id705 "Link to this heading")

### Syntax[¶](#id706 "Link to this heading")

```
PI( )
```

Copy

#### Arguments[¶](#id707 "Link to this heading")

This method does not receive any parameters.

#### Return Type[¶](#id708 "Link to this heading")

Float.

### Examples[¶](#id709 "Link to this heading")

### Query[¶](#id710 "Link to this heading")

```
CREATE PROCEDURE CIRCUMFERENCE @radius float
AS 
    SELECT 2 * PI() * @radius;
GO:

EXEC CIRCUMFERENCE @radius = 2;
```

Copy

#### Result[¶](#id711 "Link to this heading")

```
CIRCUMFERENCE @radius = 2 |
--------------------------|
          12.5663706143592|
```

Copy

## PI in JS[¶](#pi-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id712 "Link to this heading")

Constant which represents the PI number (approximately 3.141592…)  
([JavaScript PI Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/PI)).

### Sample Source Pattern[¶](#id713 "Link to this heading")

#### Syntax[¶](#id714 "Link to this heading")

```
 Math.PI
```

Copy

### Examples[¶](#id715 "Link to this heading")

#### Query[¶](#id716 "Link to this heading")

```
CREATE OR REPLACE FUNCTION circumference(radius float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  function circumference(r){
    return 2 * Math.PI * r;
  }
  return circumference(RADIUS); 
$$
;
SELECT CIRCUMFERENCE(2);
```

Copy

##### Result[¶](#id717 "Link to this heading")

```
  CIRCUMFERENCE(2)|
------------------|
12.566370614359172|
```

Copy

## DEGREES[¶](#degrees "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id718 "Link to this heading")

Converts the angle in radians sent through parameters to degrees ([DEGREES in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/degrees-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id719 "Link to this heading")

### Syntax[¶](#id720 "Link to this heading")

```
DEGREES( expression )
```

Copy

#### Arguments[¶](#id721 "Link to this heading")

`expression`: Numeric **float** expression in radians.

#### Return Type[¶](#id722 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id723 "Link to this heading")

### Query[¶](#id724 "Link to this heading")

```
SELECT DEGREES(PI())
```

Copy

#### Result[¶](#id725 "Link to this heading")

```
DEGREES(PI())|
-------------|
        180.0|
```

Copy

## DEGREES in JS[¶](#degrees-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id726 "Link to this heading")

JavaScript does not provide a method to convert radians to degrees of a given angle.  
This could be calculated using the equation: $$Degrees = \frac{180^{\circ}}{\pi} \cdot angle$$

### Sample Source Pattern[¶](#id727 "Link to this heading")

#### Implementation example[¶](#id728 "Link to this heading")

```
 function degress(angle){
    return (180/Math.PI) * angle;
}
```

Copy

##### Arguments[¶](#id729 "Link to this heading")

`angle`: Numeric expression in radians.

##### Return Type[¶](#id730 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id731 "Link to this heading")

#### Query[¶](#id732 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_degrees(angle float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  function degrees(angle){
    return (180/Math.PI) * angle;
  }
  return degrees(ANGLE);
    
$$
;
SELECT COMPUTE_DEGREES(PI());
```

Copy

##### Result[¶](#id733 "Link to this heading")

```
COMPUTE_DEGREES(PI())|
---------------------|
                180.0|
```

Copy

## LOG[¶](#log "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id734 "Link to this heading")

Returns the natural logarithm of a number  
([LOG in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/log-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id735 "Link to this heading")

### Syntax[¶](#id736 "Link to this heading")

```
LOG( expression [, base ] )
```

Copy

#### Arguments[¶](#id737 "Link to this heading")

`expression`: Numeric expression.

`base` (optional): Base to calculate the logarithm of a number, it is Euler by default.

#### Return Type[¶](#id738 "Link to this heading")

Float.

### Examples[¶](#id739 "Link to this heading")

### Query[¶](#id740 "Link to this heading")

```
SELECT LOG(8, 2)
```

Copy

#### Result[¶](#id741 "Link to this heading")

```
LOG(8, 2)  |
-----------|
          3|
```

Copy

## LOG in JS[¶](#log-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id742 "Link to this heading")

Returns the logarithm using the Euler’s number as a base. ([JavaScript LOG function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/log)).

Warning

Unfortunately, JavaScript does not provide a method that receives a logarithm base through its parameters, but this can be solved by dividing the base by the argument.

### Sample Source Pattern[¶](#id743 "Link to this heading")

#### Syntax[¶](#id744 "Link to this heading")

```
 Math.log( expression )
```

Copy

##### Arguments[¶](#id745 "Link to this heading")

`expression`: Numeric expression. It must be positive, otherwise returns NaN.\

##### Return Type[¶](#id746 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id747 "Link to this heading")

#### Query[¶](#id748 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION base_log(base float, exp float)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
  function getBaseLog(x, y){
    return Math.log(y)/Math.log(x);
  }
  return getBaseLog(EXP, BASE)
$$
;
SELECT BASE_LOG(2, 8);
```

Copy

##### Result[¶](#id749 "Link to this heading")

```
BASE_LOG(2, 8)|
--------------|
             3|
```

Copy

## ATAN[¶](#atan "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id750 "Link to this heading")

Function that returns the arctangent in radians of the number sent as a parameter ([ATAN in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/atan-transact-sql?view=sql-server-ver15)).

The arctangent is the inverse function of the tangent, summarized in the next definition:  
$$y = arctan^{-1} \Leftrightarrow x = tan(x)$$

For $$y = tan^{-1}(x)$$:  
- Range: $$-\frac{\pi}{2}\leqslant y \leqslant \frac{\pi}{2}$$ or $$-90^{\circ}\leqslant y \leqslant 90^{\circ}$$  
- Domain: $$\mathbb{R}$$

### Sample Source Pattern[¶](#id751 "Link to this heading")

### Syntax[¶](#id752 "Link to this heading")

```
ATAN( expression )
```

Copy

#### Arguments[¶](#id753 "Link to this heading")

`expression`: Numeric **float** expression, or a numeric type which could be converted to float.

#### Return Type[¶](#id754 "Link to this heading")

Numeric float expression between $$-\frac{\pi}{2}$$ and $$\frac{\pi}{2}$$.

### Examples[¶](#id755 "Link to this heading")

### Query[¶](#id756 "Link to this heading")

```
SELECT ATAN(-30);
```

Copy

#### Result[¶](#id757 "Link to this heading")

```
ATAN(-30)          |
-------------------|
-1.5374753309166493|
```

Copy

## ATAN in JS[¶](#atan-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id758 "Link to this heading")

Function that returns the arctangent of a specified number  
([JavaScript ATAN function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Math/atan)).

### Sample Source Pattern[¶](#id759 "Link to this heading")

#### Syntax[¶](#id760 "Link to this heading")

```
 Math.atan( expression )
```

Copy

##### Arguments[¶](#id761 "Link to this heading")

`expression`: Numeric expression.

##### Return Type[¶](#id762 "Link to this heading")

Numeric expression between $$-\frac{\pi}{2}$$ and $$\frac{\pi}{2}$$.

### Examples[¶](#id763 "Link to this heading")

#### Query[¶](#id764 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION compute_atan(a float)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
  return Math.atan(A);
$$
;
SELECT COMPUTE_ATAN(-30);
```

Copy

##### Result[¶](#id765 "Link to this heading")

```
COMPUTE_ATAN(-30)|
-----------------|
     -1.537475331|
```

Copy

## ATN2[¶](#atn2 "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id766 "Link to this heading")

Function that returns the arctangent in radians of two coordinates sent as a parameter ([ATN2 in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/atn2-transact-sql?view=sql-server-ver15)).

For $$z = tan^{-1}(x, y)$$:  
- Range: $$-\pi\leqslant z \leqslant \pi$$ or $$-180^{\circ}\leqslant z \leqslant 180^{\circ}$$  
- Domain: $$\mathbb{R}$$

### Sample Source Pattern[¶](#id767 "Link to this heading")

### Syntax[¶](#id768 "Link to this heading")

```
ATN2( expression_1, expression_2 )
```

Copy

#### Arguments[¶](#id769 "Link to this heading")

`expression1`and `expression2`: Numeric expressions.

#### Return Type[¶](#id770 "Link to this heading")

Numeric expression between $$-\pi$$ and $$\pi$$.

### Examples[¶](#id771 "Link to this heading")

### Query[¶](#id772 "Link to this heading")

```
SELECT ATN2(7.5, 2);
```

Copy

#### Result[¶](#id773 "Link to this heading")

```
ATN2(7.5, 2)      |
------------------|
1.3101939350475555|
```

Copy

## ATAN2 in JS[¶](#atan2-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id774 "Link to this heading")

Function that returns the arctangent of two parameters  
([JavaScript ATAN2 function Documentation](https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2)).

### Sample Source Pattern[¶](#id775 "Link to this heading")

#### Syntax[¶](#id776 "Link to this heading")

```
 Math.atan2( expression_1, expression_2 )
```

Copy

##### Arguments[¶](#id777 "Link to this heading")

`expression_1`and `expression_2`: Numeric expressions.

##### Return Type[¶](#id778 "Link to this heading")

Numeric expression between $$-\pi$$ and $$\pi$$.

### Examples[¶](#id779 "Link to this heading")

#### Query[¶](#id780 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_atan2(x float, y float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  return Math.atan2(X, Y);
$$
;
SELECT COMPUTE_ATAN2(7.5, 2);
```

Copy

##### Result[¶](#id781 "Link to this heading")

```
ATAN2(7.5, 3)     |
------------------|
       1.310193935|
```

Copy

## LOG10[¶](#log10 "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id782 "Link to this heading")

Returns the base 10 logarithm of a number  
([LOG10 in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/log10-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id783 "Link to this heading")

### Syntax[¶](#id784 "Link to this heading")

```
LOG10( expression )
```

Copy

#### Arguments[¶](#id785 "Link to this heading")

`expression`: Numeric expression, must be positive.

#### Return Type[¶](#id786 "Link to this heading")

Float.

### Examples[¶](#id787 "Link to this heading")

### Query[¶](#id788 "Link to this heading")

```
SELECT LOG10(5)
```

Copy

#### Result[¶](#id789 "Link to this heading")

```
LOG10(5)         |
-----------------|
0.698970004336019|
```

Copy

## LOG10 in JS[¶](#log10-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id790 "Link to this heading")

Returns the base 10 logarithm of a number  
([JavaScript LOG10 function Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/log10)).

### Sample Source Pattern[¶](#id791 "Link to this heading")

#### Syntax[¶](#id792 "Link to this heading")

```
 Math.log10( expression )
```

Copy

##### Arguments[¶](#id793 "Link to this heading")

`expression`: Numeric expression. It must be positive, otherwise returns NaN.\

##### Return Type[¶](#id794 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id795 "Link to this heading")

#### Query[¶](#id796 "Link to this heading")

```
 CREATE OR REPLACE FUNCTION compute_log10(argument float)
  RETURNS float
  LANGUAGE JAVASCRIPT
AS
$$
    return Math.log10(ARGUMENT);
$$
;
SELECT COMPUTE_LOG10(7.5);
```

Copy

##### Result[¶](#id797 "Link to this heading")

```
COMPUTE_LOG10(5)|
----------------|
    0.6989700043|
```

Copy

## EXP[¶](#exp "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id798 "Link to this heading")

Returns the exponential value of Euler ([EXP in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/exp-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id799 "Link to this heading")

### Syntax[¶](#id800 "Link to this heading")

```
EXP( expression )
```

Copy

#### Arguments[¶](#id801 "Link to this heading")

`expression`: Numeric expression.

#### Return Type[¶](#id802 "Link to this heading")

Same data type sent through parameter as a numeric expression.

### Examples[¶](#id803 "Link to this heading")

### Query[¶](#id804 "Link to this heading")

```
SELECT EXP(LOG(20)), LOG(EXP(20))  
GO
```

Copy

#### Result[¶](#id805 "Link to this heading")

```
EXP(LOG(20))   |LOG(EXP(20))    |
---------------|----------------|
           20.0|            20.0|
```

Copy

## EXP in JS[¶](#exp-in-js "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id806 "Link to this heading")

Constant which represents Euler’s number (approximately 2.718…)  
([JavaScript Euler’s Number Documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/E)).  
JavaScript allows make different operations using this constant, instead of Transact-SQL which only supports the exponential of Euler.

### Sample Source Pattern[¶](#id807 "Link to this heading")

#### Syntax[¶](#id808 "Link to this heading")

```
 Math.E
```

Copy

### Examples[¶](#id809 "Link to this heading")

#### Query[¶](#id810 "Link to this heading")

```
CREATE OR REPLACE FUNCTION compute_exp(x float)
RETURNS float
LANGUAGE JAVASCRIPT
AS
$$
  return Math.E**X;
$$
;
SELECT COMPUTE_EXP(LN(20)), LN(COMPUTE_EXP(20));
```

Copy

##### Result[¶](#id811 "Link to this heading")

```
COMPUTE_EXP(LOG(20))|LOG(COMPUTE_EXP(20))|
--------------------|--------------------|
                20.0|                20.0|
```

Copy

## Conversion functions[¶](#conversion-functions "Link to this heading")

This section describes the functional equivalents of date & time functions in Transact-SQL to Snowflake SQL code.

## CONVERT[¶](#convert "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id812 "Link to this heading")

Convert an expression of one data type to another. ([CONVERT in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id813 "Link to this heading")

#### Syntax[¶](#id814 "Link to this heading")

##### SQL Server[¶](#id815 "Link to this heading")

```
CONVERT ( data_type [ ( length ) ] , expression [ , style ] )
```

Copy

##### Snowflake SQL[¶](#id816 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/cast.html)

```
CAST( <source_expr> AS <target_data_type> )
```

Copy

### Examples[¶](#id817 "Link to this heading")

#### SQL Server[¶](#id818 "Link to this heading")

```
SELECT CONVERT(INT, '1998') as MyDate
```

Copy

##### Result[¶](#id819 "Link to this heading")

| MyDate |
| --- |
| 1998 |

##### Snowflake SQL[¶](#id820 "Link to this heading")

```
SELECT
CAST('1998' AS INT) as MyDate;
```

Copy

##### Result[¶](#id821 "Link to this heading")

| MYDATE |
| --- |
| 1998 |

##### Casting date type to varchar[¶](#casting-date-type-to-varchar "Link to this heading")

##### SQL Server[¶](#id822 "Link to this heading")

```
SELECT CONVERT(varchar, getdate(), 1) AS RESULT;
```

Copy

##### Result[¶](#id823 "Link to this heading")

| RESULT |
| --- |
| 12/08/22 |

##### Swowflake SQL[¶](#swowflake-sql "Link to this heading")

```
SELECT
TO_VARCHAR(CURRENT_TIMESTAMP() :: TIMESTAMP, 'mm/dd/yy') AS RESULT;
```

Copy

##### Result[¶](#id824 "Link to this heading")

| RESULT |
| --- |
| 12/08/22 |

##### Casting date type to varchar with size[¶](#casting-date-type-to-varchar-with-size "Link to this heading")

##### SQL Server[¶](#id825 "Link to this heading")

```
SELECT CONVERT(varchar(2), getdate(), 1) AS RESULT;
```

Copy

##### Result[¶](#id826 "Link to this heading")

| RESULT |
| --- |
| 07 |

##### Snowflake SQL[¶](#id827 "Link to this heading")

```
SELECT
LEFT(TO_VARCHAR(CURRENT_TIMESTAMP() :: TIMESTAMP, 'mm/dd/yy'), 2) AS RESULT;
```

Copy

##### Result[¶](#id828 "Link to this heading")

| RESULT |
| --- |
| 07 |

The supported formats for dates casts are:

**Date formats**

| Code | Format |
| --- | --- |
| 1 | mm/dd/yy |
| 2 | yy.mm.dd |
| 3 | dd/mm/yy |
| 4 | dd.mm.yy |
| 5 | dd-mm-yy |
| 6 | dd-Mon-yy |
| 7 | Mon dd, yy |
| 10 | mm-dd-yy |
| 11 | yy/mm/dd |
| 12 | yymmdd |
| 23 | yyyy-mm-dd |
| 101 | mm/dd/yyyy |
| 102 | yyyy.mm.dd |
| 103 | dd/mm/yyyy |
| 104 | dd.mm.yyyy |
| 105 | dd-mm-yyyy |
| 106 | dd Mon yyyy |
| 107 | Mon dd, yyyy |
| 110 | mm-dd-yyyy |
| 111 | yyyy/mm/dd |
| 112 | yyyymmdd |

**Time formats**

| Code | Format |
| --- | --- |
| 8 | hh:mm:ss |
| 14 | hh:mm:ss:ff3 |
| 24 | hh:mm:ss |
| 108 | hh:mm:ss |
| 114 | hh:mm:ss:ff3 |

**Date and time formats**

|  |  |
| --- | --- |
| 0 | Mon dd yyyy hh:mm AM/PM |
| 9 | Mon dd yyyy hh:mm:ss:ff3 AM/PM |
| 13 | dd Mon yyyy hh:mm:ss:ff3 AM/PM |
| 20 | yyyy-mm-dd hh:mm:ss |
| 21 | yyyy-mm-dd hh:mm:ss:ff3 |
| 22 | mm/dd/yy hh:mm:ss AM/PM |
| 25 | yyyy-mm-dd hh:mm:ss:ff3 |
| 100 | Mon dd yyyy hh:mm AM/PM |
| 109 | Mon dd yyyy hh:mm:ss:ff3 AM/PM |
| 113 | dd Mon yyyy hh:mm:ss:ff3 |
| 120 | yyyy-mm-dd hh:mm:ss |
| 121 | yyyy-mm-dd hh:mm:ss:ff3 |
| 126 | yyyy-mm-dd T hh:mm:ss:ff3 |
| 127 | yyyy-mm-dd T hh:mm:ss:ff3 |

**Islamic calendar dates**

| Code | Format |
| --- | --- |
| 130 | dd mmm yyyy hh:mi:ss:ff3 AM/PM |
| 131 | dd mmm yyyy hh:mi:ss:ff3 AM/PM |

If there is no pattern matching with the current code, it will be formatted to `yyyy-mm-dd hh:mm:ss`

## TRY\_CONVERT[¶](#try-convert "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id829 "Link to this heading")

Returns a value cast to the specified data type if the cast succeeds; otherwise, returns null.

([SQL Server Language Reference TRY\_CONVERT](https://docs.microsoft.com/en-us/sql/t-sql/functions/try-convert-transact-sql?view=sql-server-ver15))

#### Syntax[¶](#id830 "Link to this heading")

```
TRY_CONVERT ( data_type [ ( length ) ], expression [, style ] )
```

Copy

### Source Patterns[¶](#source-patterns "Link to this heading")

#### Basic Transformation[¶](#basic-transformation "Link to this heading")

In order to transform this function, we have to check the parameters of the TRY\_CONVERT first.

```
TRY_CONVERT( INT, 'test')
```

Copy

If the expression that needs to be casted is a string, it will be transfomed to TRY\_CAST, which is a function of Snowflake.

```
TRY_CAST( 'test' AS INT)
```

Copy

#### TRY\_CAST[¶](#try-cast "Link to this heading")

The TRY\_CAST shares the same transformation with TRY\_CONVERT.

##### Example[¶](#example "Link to this heading")

##### Sql Server[¶](#id831 "Link to this heading")

```
SELECT TRY_CAST('12345' AS NUMERIC) NUMERIC_RESULT,
 TRY_CAST('123.45' AS DECIMAL(20,2)) DECIMAL_RESULT,
 TRY_CAST('123' AS INT) INT_RESULT,
 TRY_CAST('123.02' AS FLOAT) FLOAT_RESULT,
 TRY_CAST('123.02' AS DOUBLE PRECISION) DOUBLE_PRECISION_RESULT,

 TRY_CAST('2017-01-01 12:00:00' AS DATE) DATE_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS DATETIME) DATETIME_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS SMALLDATETIME) SMALLDATETIME_RESULT,
 TRY_CAST('12:00:00' AS TIME) TIME_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS TIMESTAMP) TIMESTAMP_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS DATETIMEOFFSET) DATETIMEOFFSET_RESULT,

 TRY_CAST(1234 AS VARCHAR) VARCHAR_RESULT,
 TRY_CAST(1 AS CHAR) CHAR_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS SQL_VARIANT) SQL_VARIANT_RESULT,
 TRY_CAST('LINESTRING(-122.360 47.656, -122.343 47.656 )' AS GEOGRAPHY) GEOGRAPHY_RESULT;
```

Copy

The result will be the same with the example of TRY\_CONVERT.

##### Snowflake[¶](#id832 "Link to this heading")

```
SELECT
 TRY_CAST('12345' AS NUMERIC(38, 18)) NUMERIC_RESULT,
 TRY_CAST('123.45' AS DECIMAL(20,2)) DECIMAL_RESULT,
 TRY_CAST('123' AS INT) INT_RESULT,
 TRY_CAST('123.02' AS FLOAT) FLOAT_RESULT,
 TRY_CAST('123.02' AS DOUBLE PRECISION) DOUBLE_PRECISION_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS DATE) DATE_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS TIMESTAMP_NTZ(3)) DATETIME_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS TIMESTAMP_NTZ(0)) SMALLDATETIME_RESULT,
 TRY_CAST('12:00:00' AS TIME(7)) TIME_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS BINARY(8)) TIMESTAMP_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS TIMESTAMP_TZ(7)) DATETIMEOFFSET_RESULT,
 TO_VARCHAR(1234) VARCHAR_RESULT,
 TO_CHAR(1) CHAR_RESULT,
 TRY_CAST('2017-01-01 12:00:00' AS VARIANT) SQL_VARIANT_RESULT,
 TRY_CAST('LINESTRING(-122.360 47.656, -122.343 47.656 )' AS GEOGRAPHY) GEOGRAPHY_RESULT;
```

Copy

### Known Issues[¶](#id833 "Link to this heading")

If the data type is Varchar or Char, then it will be transformed differently.

```
TRY_CONVERT(VARCHAR, 1234);
TRY_CONVERT(CHAR, 1);
```

Copy

If TRY\_CAST is used with VARCHAR or CHAR in Snowflake, it will cause an error, so it will be transformed to

```
TO_VARCHAR(1234);
TO_CHAR(1);
```

Copy

The same happens with the data types of SQL\_VARIANT and GEOGRAPHY.

```
TRY_CONVERT(SQL_VARIANT, '2017-01-01 12:00:00');
TRY_CONVERT(GEOGRAPHY, 'LINESTRING(-122.360 47.656, -122.343 47.656 )');
```

Copy

Are transformed to

```
TO_VARIANT('2017-01-01 12:00:00');
TO_GEOGRAPHY('LINESTRING(-122.360 47.656, -122.343 47.656 )');
```

Copy

If the expression is not a string, there is a very high chance that it will fail, since the TRY\_CAST of snowflake works only with string expressions.

In this case, another transformation will be done

```
TRY_CAST(14.85 AS INT)
```

Copy

Will be transformed to

```
CAST(14.85 AS INT) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/
```

Copy

Now, with these transformation, there could be problems depending on what is being done with the functions. The TRY\_CONVERT of SqlServer returns nulls if the convertion was not possible.

This can be used to do logic like this

```
SELECT 
    CASE
        WHEN TRY_CONVERT( INT, 'Expression') IS NULL
        THEN 'FAILED'
        ELSE 'SUCCEDDED'
    END;
```

Copy

That type of conditions with the TRY\_CONVERT can be used with the TRY\_CAST, but what happens if it is transformed to TO\_VARCHAR, TOCHAR or to the CAST? If the convertion in those functions fails, it will cause an error instead of just returning null.

#### Examples[¶](#id834 "Link to this heading")

In this sample we have several TRY\_CONVERT with different data types

##### SQL Server[¶](#id835 "Link to this heading")

```
SELECT TRY_CONVERT(NUMERIC, '12345') NUMERIC_RESULT,
 TRY_CONVERT(DECIMAL(20,2), '123.45') DECIMAL_RESULT,
 TRY_CONVERT(INT, '123') INT_RESULT,
 TRY_CONVERT(FLOAT, '123.02') FLOAT_RESULT,
 TRY_CONVERT(DOUBLE PRECISION, '123.02') DOUBLE_PRECISION_RESULT,

 TRY_CONVERT(DATE, '2017-01-01 12:00:00') DATE_RESULT,
 TRY_CONVERT(DATETIME, '2017-01-01 12:00:00') DATETIME_RESULT,
 TRY_CONVERT(SMALLDATETIME, '2017-01-01 12:00:00') SMALLDATETIME_RESULT,
 TRY_CONVERT(TIME, '12:00:00') TIME_RESULT,
 TRY_CONVERT(TIMESTAMP, '2017-01-01 12:00:00') TIMESTAMP_RESULT,
 TRY_CONVERT(DATETIMEOFFSET, '2017-01-01 12:00:00') DATETIMEOFFSET_RESULT,

 TRY_CONVERT(VARCHAR, 1234) VARCHAR_RESULT,
 TRY_CONVERT(CHAR, 1) CHAR_RESULT,
 TRY_CONVERT(SQL_VARIANT, '2017-01-01 12:00:00') SQL_VARIANT_RESULT,
 TRY_CONVERT(GEOGRAPHY, 'LINESTRING(-122.360 47.656, -122.343 47.656 )') GEOGRAPHY_RESULT;
```

Copy

If we migrate that select, we will get the following result

##### Snowflake[¶](#id836 "Link to this heading")

```
SELECT
 CAST('12345' AS NUMERIC(38, 18)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ NUMERIC_RESULT,
 CAST('123.45' AS DECIMAL(20,2)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ DECIMAL_RESULT,
 CAST('123' AS INT) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ INT_RESULT,
 CAST('123.02' AS FLOAT) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ FLOAT_RESULT,
 CAST('123.02' AS DOUBLE PRECISION) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ DOUBLE_PRECISION_RESULT,
 CAST('2017-01-01 12:00:00' AS DATE) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ DATE_RESULT,
 CAST('2017-01-01 12:00:00' AS TIMESTAMP_NTZ(3)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ DATETIME_RESULT,
 CAST('2017-01-01 12:00:00' AS TIMESTAMP_NTZ(0)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ SMALLDATETIME_RESULT,
 CAST('12:00:00' AS TIME(7)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ TIME_RESULT,
 CAST('2017-01-01 12:00:00' AS BINARY(8)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ TIMESTAMP_RESULT,
 CAST('2017-01-01 12:00:00' AS TIMESTAMP_TZ(7)) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/ DATETIMEOFFSET_RESULT,
 TO_VARCHAR(1234) VARCHAR_RESULT,
 TO_CHAR(1) CHAR_RESULT,
 TO_VARIANT('2017-01-01 12:00:00') SQL_VARIANT_RESULT,
 TO_GEOGRAPHY('LINESTRING(-122.360 47.656, -122.343 47.656 )') GEOGRAPHY_RESULT;
```

Copy

Let’s execute each one and compare the result.

| Alias | SqlServer Result | Snowflake Result |
| --- | --- | --- |
| NUMERIC\_RESULT | 12345 | 12345 |
| DECIMAL\_RESULT | 123.45 | 123.45 |
| INT\_RESULT | 123 | 123 |
| FLOAT\_RESULT | 123.02 | 123.02 |
| DOUBLE\_PRECISION\_RESULT | 123.02 | 123.02 |
| DATE\_RESULT | 2017-01-01 | 2017-01-01 |
| DATETIME\_RESULT | 2017-01-01 12:00:00.000 | 2017-01-01 12:00:00.000 |
| SMALLDATETIME\_RESULT | 2017-01-01 12:00:00 | 2017-01-01 12:00:00.000 |
| TIME\_RESULT | 12:00:00.0000000 | 12:00:00 |
| TIMESTAMP\_RESULT | 0x323031372D30312D | 2017-01-01 12:00:00.000 |
| DATETIMEOFFSET\_RESULT | 2017-01-01 12:00:00.0000000 +00:00 | 2017-01-01 12:00:00.000 -0800 |
| VARCHAR\_RESULT | 1234 | 1234 |
| CHAR\_RESULT | 1 | 1 |
| SQL\_VARIANT\_RESULT | 2017-01-01 12:00:00 | “2017-01-01 12:00:00” |
| GEOGRAPHY\_RESULT | 0xE610000001148716D9CEF7D34740D7A3703D0A975EC08716D9CEF7D34740CBA145B6F3955EC0 | { “coordinates”: [ [ -122.36, 47.656 ], [ -122.343, 47.656 ] ], “type”: “LineString” } |

### Related EWIs[¶](#id837 "Link to this heading")

1. [SSC-FDM-TS0005](../../general/technical-documentation/issues-and-troubleshooting/functional-difference/sqlServerFDM.html#ssc-fdm-ts0005): TRY\_CONVERT/TRY\_CAST could not be converted to TRY\_CAST.

## Date & Time functions[¶](#date-time-functions "Link to this heading")

This section describes the functional equivalents of date & time functions in Transact-SQL to Snowflake SQL and JavaScript code.

## AT TIME ZONE[¶](#at-time-zone "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id838 "Link to this heading")

Converts an *inputdate* to the corresponding *datetimeoffset* value in the target time zone. ([AT TIME ZONE in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id839 "Link to this heading")

#### Syntax[¶](#id840 "Link to this heading")

##### SQL Server[¶](#id841 "Link to this heading")

```
inputdate AT TIME ZONE timezone
```

Copy

##### Snowflake SQL[¶](#id842 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/convert_timezone.html)

```
CONVERT_TIMEZONE( <source_tz> , <target_tz> , <source_timestamp_ntz> )

CONVERT_TIMEZONE( <target_tz> , <source_timestamp> )
```

Copy

### Examples[¶](#id843 "Link to this heading")

#### SQL Server[¶](#id844 "Link to this heading")

```
SELECT CAST('2022-11-24 11:00:45.2000000 +00:00' as datetimeoffset) at time zone 'Alaskan Standard Time';
```

Copy

**Result:**

```
                          DATE|
------------------------------|
2022-11-24 02:00:45.200 -09:00|
```

Copy

##### Snowflake SQL[¶](#id845 "Link to this heading")

```
SELECT
CONVERT_TIMEZONE('America/Anchorage', CAST('2022-11-24 11:00:45.2000000 +00:00' as TIMESTAMP_TZ(7)));
```

Copy

**Result:**

```
                          DATE|
------------------------------|
2022-11-24 02:00:45.200 -09:00|
```

Copy

##### SQL Server[¶](#id846 "Link to this heading")

```
SELECT current_timestamp at time zone 'Central America Standard Time';
```

Copy

**Result:**

```
                          DATE|
------------------------------|
2022-10-10 10:55:50.090 -06:00|
```

Copy

##### Snowflake SQL[¶](#id847 "Link to this heading")

```
SELECT
CONVERT_TIMEZONE('America/Costa_Rica', CURRENT_TIMESTAMP() /*** SSC-FDM-TS0024 - CURRENT_TIMESTAMP in At Time Zone statement may have a different behavior in certain cases ***/);
```

Copy

**Result:**

```
                          DATE|
------------------------------|
2022-10-10 10:55:50.090 -06:00|
```

Copy

### Known Issues[¶](#id848 "Link to this heading")

1. Snowflake does not support all the time zones that SQL Server does. You can check the supported time zones at this [link](https://docs.snowflake.com/en/sql-reference/functions/convert_timezone.html).

#### SQL Server[¶](#id849 "Link to this heading")

```
SELECT current_timestamp at time zone 'Turks And Caicos Standard Time';
```

Copy

**Result:**

```
                          DATE|
------------------------------|
2022-12-14 20:04:18.317 -05:00|
```

Copy

##### Snowflake SQL[¶](#id850 "Link to this heading")

```
SELECT
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0063 - TIME ZONE NOT SUPPORTED IN SNOWFLAKE ***/!!!
CURRENT_TIMESTAMP() at time zone 'Turks And Caicos Standard Time';
```

Copy

### Related EWIs[¶](#id851 "Link to this heading")

1. [SSC-FDM-TS0024](../../general/technical-documentation/issues-and-troubleshooting/functional-difference/sqlServerFDM.html#ssc-fdm-ts0024): CURRENT\_TIMESTAMP in At Time Zone statement may have a different behavior in certain cases.
2. [SSC-EWI-TS0063](../../general/technical-documentation/issues-and-troubleshooting/conversion-issues/sqlServerEWI.html#ssc-ewi-ts0063): Time zone not supported in Snowflake.

## DATEADD[¶](#dateadd "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id852 "Link to this heading")

This function returns an integer representing the specified datepart of the specified date. ([DATEPART in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/abs-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id853 "Link to this heading")

#### Syntax[¶](#id854 "Link to this heading")

##### SQL Server[¶](#id855 "Link to this heading")

```
DATEADD (datepart , number , date )
```

Copy

##### Snowflake SQL[¶](#id856 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/dateadd.html)

```
DATEADD( <date_or_time_part>, <value>, <date_or_time_expr> )
```

Copy

### Examples[¶](#id857 "Link to this heading")

#### SQL Server[¶](#id858 "Link to this heading")

```
SELECT DATEADD(year,123, '20060731') as ADDDATE;
```

Copy

**Result:**

```
                 ADDDATE|
------------------------|
 2129-07-31 00:00:00.000|
```

Copy

##### Snowflake SQL[¶](#id859 "Link to this heading")

```
SELECT
DATEADD(year, 123, '20060731') as ADDDATE;
```

Copy

**Result:**

```
                 ADDDATE|
------------------------|
 2129-07-31 00:00:00.000|
```

Copy

## DATEDIFF[¶](#datediff "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id860 "Link to this heading")

This function returns the count (as a signed integer value) of the specified datepart boundaries crossed between the specified startdate and enddate. ([DATEDIFF in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/datediff-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id861 "Link to this heading")

#### Syntax[¶](#id862 "Link to this heading")

##### SQL Server[¶](#id863 "Link to this heading")

```
DATEDIFF ( datepart , startdate , enddate )
```

Copy

##### Snowflake SQL[¶](#id864 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/datediff.html)

```
DATEDIFF( <date_or_time_part>, <date_or_time_expr1>, <date_or_time_expr2> )
```

Copy

### Examples[¶](#id865 "Link to this heading")

#### SQL Server[¶](#id866 "Link to this heading")

```
SELECT DATEDIFF(year,'2005-12-31 23:59:59.9999999', '2006-01-01 00:00:00.0000000');
```

Copy

**Result:**

| DIFF |
| --- |
| 1 |

##### Snowflake SQL[¶](#id867 "Link to this heading")

```
SELECT DATEDIFF(year,'2005-12-31 23:59:59.9999999', '2006-01-01 00:00:00.0000000');
```

Copy

**Result:**

| DIFF |
| --- |
| 1 |

## DATEFROMPARTS[¶](#datefromparts "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id868 "Link to this heading")

This function returns a **date** value that maps to the specified year, month, and day values.([DATEFROMPARTS in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/datefromparts-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id869 "Link to this heading")

#### Syntax[¶](#id870 "Link to this heading")

##### SQL Server[¶](#id871 "Link to this heading")

```
DATEFROMPARTS ( year, month, day )
```

Copy

##### Snowflake SQL[¶](#id872 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/date_from_parts.html)

```
DATE_FROM_PARTS( <year>, <month>, <day> )
```

Copy

### Examples[¶](#id873 "Link to this heading")

#### SQL Server[¶](#id874 "Link to this heading")

```
SELECT DATEFROMPARTS ( 2010, 12, 31 ) AS RESULT;
```

Copy

**Result:**

| RESULT |
| --- |
| 2022-12-12 |

##### Snowflake SQL[¶](#id875 "Link to this heading")

```
SELECT DATE_FROM_PARTS ( 2010, 12, 31 ) AS RESULT;
```

Copy

**Result:**

| RESULT |
| --- |
| 2022-12-12 |

## DATENAME[¶](#datename "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id876 "Link to this heading")

This function returns a character string representing the specified datepart of the specified date. ([DATENAME in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/datename-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id877 "Link to this heading")

#### Syntax[¶](#id878 "Link to this heading")

##### SQL Server[¶](#id879 "Link to this heading")

```
DATENAME ( datepart , date )
```

Copy

##### Snowflake SQL[¶](#id880 "Link to this heading")

Note

This transformation uses several functions depending on the inputs

```
DATE_PART( <date_or_time_part> , <date_or_time_expr> )
MONTHNAME( <date_or_timestamp_expr> )
DAYNAME( <date_or_timestamp_expr> )
```

Copy

### Examples[¶](#id881 "Link to this heading")

#### SQL Server[¶](#id882 "Link to this heading")

```
SELECT DATENAME(month, getdate()) AS DATE1,
DATENAME(day, getdate()) AS DATE2,
DATENAME(dw, GETDATE()) AS DATE3;
```

Copy

**Result:**

| DATE1 | DATE2 | DATE3 |
| --- | --- | --- |
| May | 3 | Tuesday |

##### Snowflake SQL[¶](#id883 "Link to this heading")

```
SELECT
MONTHNAME_UDF(CURRENT_TIMESTAMP() :: TIMESTAMP) AS DATE1,
DAYNAME_UDF(CURRENT_TIMESTAMP() :: TIMESTAMP) AS DATE2,
DAYNAME(CURRENT_TIMESTAMP() :: TIMESTAMP) AS DATE3;
```

Copy

**Result:**

| DATE1 | DATE2 | DATE3 |
| --- | --- | --- |
| May | Tue | Tue |

## DATEPART[¶](#datepart "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id884 "Link to this heading")

This function returns an integer representing the specified datepart of the specified date. ([DATEPART in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/abs-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id885 "Link to this heading")

#### Syntax[¶](#id886 "Link to this heading")

##### SQL Server[¶](#id887 "Link to this heading")

```
DATEPART ( datepart , date )
```

Copy

##### Snowflake SQL[¶](#id888 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/date_part.html)

```
DATE_PART( <date_or_time_part> , <date_or_time_expr> )
```

Copy

### Examples[¶](#id889 "Link to this heading")

#### SQL Server[¶](#id890 "Link to this heading")

```
SELECT DATEPART(YEAR, '10-10-2022') as YEAR
```

Copy

**Result:**

| YEAR |
| --- |
| 2022 |

##### Snowflake SQL[¶](#id891 "Link to this heading")

```
SELECT
DATE_PART(YEAR, '10-10-2022' :: TIMESTAMP) as YEAR;
```

Copy

**Result:**

| YEAR |
| --- |
| 2022 |

## DAY[¶](#day "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id892 "Link to this heading")

This function returns an integer that represents the day (day of the month) of the specified date. ([DAY in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/day-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id893 "Link to this heading")

#### Syntax[¶](#id894 "Link to this heading")

##### SQL Server[¶](#id895 "Link to this heading")

```
DAY ( date )
```

Copy

##### Snowflake SQL[¶](#id896 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/year.html)

```
DAY( <date_or_timestamp_expr> )
```

Copy

### Examples[¶](#id897 "Link to this heading")

#### SQL Server[¶](#id898 "Link to this heading")

```
SELECT DAY('10-10-2022') AS DAY
```

Copy

**Result:**

| DAY |
| --- |
| 10 |

##### Snowflake SQL[¶](#id899 "Link to this heading")

```
SELECT DAY('10-10-2022' :: TIMESTAMP) AS DAY;
```

Copy

**Result:**

| DAY |
| --- |
| 10 |

## EOMONTH[¶](#eomonth "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id900 "Link to this heading")

This function returns the last day of the month containing a specified date, with an optional offset. ([EOMONTH in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/eomonth-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id901 "Link to this heading")

#### Syntax[¶](#id902 "Link to this heading")

##### SQL Server[¶](#id903 "Link to this heading")

```
EOMONTH ( start_date [, month_to_add ] )
```

Copy

##### Snowflake SQL[¶](#id904 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/last_day.html)

```
LAST_DAY( <date_or_time_expr> [ , <date_part> ] )
```

Copy

### Examples[¶](#id905 "Link to this heading")

#### SQL Server[¶](#id906 "Link to this heading")

```
SELECT EOMONTH (GETDATE()) AS Result;
```

Copy

**Result:**

| RESULT |
| --- |
| 2022-05-31 |

##### Snowflake SQL[¶](#id907 "Link to this heading")

```
SELECT
LAST_DAY(DATEADD('month', 0, CURRENT_TIMESTAMP() :: TIMESTAMP)) AS Result;
```

Copy

**Result:**

| RESULT |
| --- |
| 2022-05-31 |

## GETDATE[¶](#getdate "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id908 "Link to this heading")

Returns the current database system timestamp as a **datetime** value without the database time zone offset. ([GETDATE in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/getdate-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id909 "Link to this heading")

#### Syntax[¶](#id910 "Link to this heading")

##### SQL Server[¶](#id911 "Link to this heading")

```
GETDATE()
```

Copy

##### Snowflake SQL[¶](#id912 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/current_timestamp.html)

```
CURRENT_TIMESTAMP( [ <fract_sec_precision> ] )
```

Copy

### Examples[¶](#id913 "Link to this heading")

#### SQL Server[¶](#id914 "Link to this heading")

```
SELECT GETDATE() AS DATE;
```

Copy

**Result:**

| DATE |
| --- |
| 2022-05-06 09:54:42.757 |

##### Snowflake SQL[¶](#id915 "Link to this heading")

```
SELECT CURRENT_TIMESTAMP() :: TIMESTAMP AS DATE;
```

Copy

**Result:**

| DATE |
| --- |
| 2022-05-06 08:55:05.422 |

## MONTH[¶](#month "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id916 "Link to this heading")

Returns an integer that represents the month of the specified *date*. ([MONTH in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/month-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id917 "Link to this heading")

#### Syntax[¶](#id918 "Link to this heading")

##### SQL Server[¶](#id919 "Link to this heading")

```
MONTH( date )
```

Copy

##### Snowflake SQL[¶](#id920 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/year.html)

```
MONTH ( <date_or_timestamp_expr> )
```

Copy

### Examples[¶](#id921 "Link to this heading")

#### SQL Server[¶](#id922 "Link to this heading")

```
SELECT MONTH('10-10-2022') AS MONTH
```

Copy

**Result:**

| MONTH |
| --- |
| 10 |

##### Snowflake SQL[¶](#id923 "Link to this heading")

```
SELECT MONTH('10-10-2022' :: TIMESTAMP) AS MONTH;
```

Copy

**Result:**

| MONTH |
| --- |
| 10 |

## SWITCHOFFSET[¶](#switchoffset "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id924 "Link to this heading")

The SWITCHOFFSET adjusts a given timestamp value to a specific timezone offset. This is done through numerical values. More information can be found at [SWITCHOFFSET (Transact-SQL)](https://learn.microsoft.com/en-us/sql/t-sql/functions/switchoffset-transact-sql?view=sql-server-ver16).

### Sample Source Pattern[¶](#id925 "Link to this heading")

#### Syntax[¶](#id926 "Link to this heading")

[A UDF Helper](#switchoffset-udf) accomplish functional equivalence, also it shares the same syntax as the SQLServer’s SWITCHOFFSET function.

##### SQLServer[¶](#sqlserver "Link to this heading")

```
 SWITCHOFFSET ( datetimeoffset_expression, timezoneoffset_expression )
```

Copy

##### Snowflake SQL[¶](#id927 "Link to this heading")

```
 SWITCHOFFSET_UDF ( timestamp_tz_expression, timezoneoffset_expression )
```

Copy

#### Example[¶](#id928 "Link to this heading")

##### SQLServer[¶](#id929 "Link to this heading")

```
SELECT
  '1998-09-20 7:45:50.71345 +02:00' as fr_time,
  SWITCHOFFSET('1998-09-20 7:45:50.71345 +02:00', '-06:00') as cr_time;
```

Copy

**Result:**

| fr\_time | cr\_time |
| --- | --- |
| 1998-09-20 7:45:50.71345 +02:00 | 1998-09-19 23:45:50.7134500 -06:00 |

##### Snowflake SQL[¶](#id930 "Link to this heading")

```
SELECT
  '1998-09-20 7:45:50.71345 +02:00' as fr_time,
  PUBLIC.SWITCHOFFSET_UDF('1998-09-20 7:45:50.71345 +02:00', '-06:00') as cr_time;
```

Copy

**Result:**

| fr\_time | cr\_time |
| --- | --- |
| 1998-09-20 7:45:50.71345 +02:00 | 1998-09-19 23:45:50.7134500 -06:00 |

## SYSDATETIME[¶](#sysdatetime "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id931 "Link to this heading")

Returns a datetime2(7) value that contains the date and time of the computer on which the instance of SQL Server is running. ([SYSDATETIME in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/sysdatetime-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id932 "Link to this heading")

#### Syntax[¶](#id933 "Link to this heading")

##### SQL Server[¶](#id934 "Link to this heading")

```
SYSDATETIME ( )
```

Copy

##### Snowflake SQL[¶](#id935 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/localtime.html)

```
LOCALTIME()
```

Copy

### Examples[¶](#id936 "Link to this heading")

#### SQL Server[¶](#id937 "Link to this heading")

```
SELECT SYSDATETIME ( ) AS SYSTEM_DATETIME;
```

Copy

**Result:**

| SYSTEM\_DATETIME |
| --- |
| 2022-05-06 12:08:05.501 |

##### Snowflake SQL[¶](#id938 "Link to this heading")

```
SELECT LOCALTIME ( ) AS SYSTEM_DATETIME;
```

Copy

**Result:**

| SYSTEM\_DATETIME |
| --- |
| 211:09:14 |

## SYSUTCDATETIME[¶](#sysutcdatetime "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id939 "Link to this heading")

Returns a datetime2(7) value that contains the date and time of the computer on which the instance of SQL Server is running. ([SYSUTCDATETIME in Transact-SQL](https://learn.microsoft.com/en-us/sql/t-sql/functions/sysutcdatetime-transact-sql?view=sql-server-ver16)).

### Sample Source Pattern[¶](#id940 "Link to this heading")

#### Syntax[¶](#id941 "Link to this heading")

##### SQL Server[¶](#id942 "Link to this heading")

```
SYSUTCDATETIME ( )
```

Copy

##### Snowflake SQL[¶](#id943 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/localtime.html)

```
SYSDATE()
```

Copy

### Examples[¶](#id944 "Link to this heading")

#### SQL Server[¶](#id945 "Link to this heading")

```
SELECT SYSUTCDATETIME() as SYS_UTC_DATETIME;
```

Copy

**Result:**

| SYSTEM\_UTC\_DATETIME |
| --- |
| 2023-02-02 20:59:28.0926502 |

##### Snowflake SQL[¶](#id946 "Link to this heading")

```
SELECT
SYSDATE() as SYS_UTC_DATETIME;
```

Copy

**Result:**

| SYSTEM\_UTC\_DATETIME |
| --- |
| 2023-02-02 21:02:05.557 |

## YEAR[¶](#year "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics

### Description[¶](#id947 "Link to this heading")

Returns an integer that represents the year of the specified *date*. ([YEAR in Transact-SQL](https://docs.microsoft.com/en-us/sql/t-sql/functions/year-transact-sql?view=sql-server-ver15)).

### Sample Source Pattern[¶](#id948 "Link to this heading")

#### Syntax[¶](#id949 "Link to this heading")

##### SQL Server[¶](#id950 "Link to this heading")

```
YEAR( date )
```

Copy

##### Snowflake SQL[¶](#id951 "Link to this heading")

[Snowflake SQL Documentation](https://docs.snowflake.com/en/sql-reference/functions/year.html)

```
YEAR ( <date_or_timestamp_expr> )
```

Copy

### Examples[¶](#id952 "Link to this heading")

#### SQL Server[¶](#id953 "Link to this heading")

```
SELECT YEAR('10-10-2022') AS YEAR
```

Copy

**Result:**

| YEAR |
| --- |
| 2022 |

##### Snowflake SQL[¶](#id954 "Link to this heading")

```
SELECT YEAR('10-10-2022' :: TIMESTAMP) AS YEAR;
```

Copy

**Result:**

| YEAR |
| --- |
| 2022 |

Was this page helpful?

YesNo

[Visit Snowflake](https://www.snowflake.com)

[Join the conversation](https://community.snowflake.com/s/)

[Develop with Snowflake](https://developers.snowflake.com)

[Share your feedback](/feedback)

[Read the latest on our blog](https://www.snowflake.com/blog/)

[Get your own certification](https://learn.snowflake.com)

[Privacy Notice](https://www.snowflake.com/privacy-policy/)[Site Terms](https://www.snowflake.com/legal/snowflake-site-terms/)Cookies Settings© 2026 Snowflake, Inc. All Rights Reserved.

Terms of Use

The SnowConvert AI tool is subject to the [Conversion Software Terms of Use](https://www.snowflake.com/en/legal/technical-services-and-education/conversion-software-terms/).

On this page

1. [Aggregate](#aggregate)
2. [Analytic](#analytic)
3. [Collation](#collation)
4. [Configuration](#configuration)
5. [Conversion](#conversion)
6. [Cryptographic](#cryptographic)
7. [Cursor](#cursor)
8. [Data type](#data-type)
9. [Date & Time](#date-time)
10. [JSON](#json)
11. [Mathematical](#mathematical)
12. [Logical](#logical)
13. [Metadata](#metadata)
14. [Ranking](#ranking)
15. [Replication](#replication)
16. [Rowset](#rowset)
17. [Security](#security)
18. [String](#string)
19. [System](#system)
20. [System Statistical](#system-statistical)
21. [Text & Image](#text-image)
22. [Trigger](#trigger)
23. [ISNULL](#isnull)
24. [NEWID](#newid)
25. [NULLIF](#nullif)
26. [@@ROWCOUNT](#rowcount)
27. [FORMATMESSAGE](#formatmessage)
28. [FORMATMESSAGE\_UDF](#formatmessage-udf)
29. [String functions](#string-functions)
30. [CHAR](#char)
31. [CHARINDEX](#charindex)
32. [COALESCE](#coalesce)
33. [CONCAT](#concat)
34. [LEFT](#left)
35. [LEN](#len)
36. [LOWER](#lower)
37. [NCHAR](#nchar)
38. [REPLACE](#replace)
39. [REPLICATE](#replicate)
40. [RIGHT](#right)
41. [RTRIM](#rtrim)
42. [SPACE](#space)
43. [SUBSTRING](#substring)
44. [UPPER](#upper)
45. [ASCII](#ascii)
46. [ASCII in JS](#ascii-in-js)
47. [QUOTENAME](#quotename)
48. [QUOTENAME in JS](#quotename-in-js)
49. [CONCAT\_WS](#concat-ws)
50. [Join in JS](#join-in-js)
51. [SOUNDEX](#soundex)
52. [SOUNDEX in JS](#soundex-in-js)
53. [REVERSE](#reverse)
54. [reverse in JS](#reverse-in-js)
55. [STRING\_ESCAPE](#string-escape)
56. [stringify in JS](#stringify-in-js)
57. [TRIM](#trim)
58. [trim in JS](#trim-in-js)
59. [DIFFERENCE](#difference)
60. [DIFFERENCE in JS](#difference-in-js)
61. [FORMAT](#format)
62. [FORMAT in JS](#format-in-js)
63. [PATINDEX](#patindex)
64. [search in JS](#search-in-js)
65. [STR](#str)
66. [STR in JS](#str-in-js)
67. [LTRIM](#ltrim)
68. [LTRIM in JS](#ltrim-in-js)
69. [Ranking functions](#ranking-functions)
70. [DENSE\_RANK](#dense-rank)
71. [RANK](#rank)
72. [ROW\_NUMBER](#row-number)
73. [Logical functions](#logical-functions)
74. [IIF](#iif)
75. [XML Functions](#xml-functions)
76. [Query](#id408)
77. [Value](#value)
78. [Aggregate functions](#aggregate-functions)
79. [COUNT](#count)
80. [COUNT\_BIG](#count-big)
81. [SUM](#sum)
82. [SnowConvert AI custom UDFs](#snowconvert-ai-custom-udfs)
83. [OPENXML UDF](#openxml-udf)
84. [STR UDF](#str-udf)
85. [SWITCHOFFSET\_UDF](#switchoffset-udf)
86. [Metadata functions](#metadata-functions)
87. [DB\_NAME](#db-name)
88. [OBJECT\_ID](#object-id)
89. [Analytic Functions](#analytic-functions)
90. [LAG](#lag)
91. [Data Type functions](#data-type-functions)
92. [DATALENGTH](#datalength)
93. [Mathematical functions](#mathematical-functions)
94. [ABS](#abs)
95. [AVG](#avg)
96. [CEILING](#ceiling)
97. [FLOOR](#floor)
98. [POWER](#power)
99. [ROUND](#round)
100. [SQRT](#sqrt)
101. [SQUARE](#square)
102. [STDEV](#stdev)
103. [STDEVP](#stdevp)
104. [VAR](#var)
105. [POWER](#id607)
106. [POW in JS](#pow-in-js)
107. [ACOS](#acos)
108. [ACOS in JS](#acos-in-js)
109. [ASIN](#asin)
110. [ASIN in JS](#asin-in-js)
111. [COS](#cos)
112. [COS in JS](#cos-in-js)
113. [COT](#cot)
114. [COT in JS](#cot-in-js)
115. [RADIANS](#radians)
116. [RADIANS in JS](#radians-in-js)
117. [PI](#pi)
118. [PI in JS](#pi-in-js)
119. [DEGREES](#degrees)
120. [DEGREES in JS](#degrees-in-js)
121. [LOG](#log)
122. [LOG in JS](#log-in-js)
123. [ATAN](#atan)
124. [ATAN in JS](#atan-in-js)
125. [ATN2](#atn2)
126. [ATAN2 in JS](#atan2-in-js)
127. [LOG10](#log10)
128. [LOG10 in JS](#log10-in-js)
129. [EXP](#exp)
130. [EXP in JS](#exp-in-js)
131. [Conversion functions](#conversion-functions)
132. [CONVERT](#convert)
133. [TRY\_CONVERT](#try-convert)
134. [Date & Time functions](#date-time-functions)
135. [AT TIME ZONE](#at-time-zone)
136. [DATEADD](#dateadd)
137. [DATEDIFF](#datediff)
138. [DATEFROMPARTS](#datefromparts)
139. [DATENAME](#datename)
140. [DATEPART](#datepart)
141. [DAY](#day)
142. [EOMONTH](#eomonth)
143. [GETDATE](#getdate)
144. [MONTH](#month)
145. [SWITCHOFFSET](#switchoffset)
146. [SYSDATETIME](#sysdatetime)
147. [SYSUTCDATETIME](#sysutcdatetime)
148. [YEAR](#year)