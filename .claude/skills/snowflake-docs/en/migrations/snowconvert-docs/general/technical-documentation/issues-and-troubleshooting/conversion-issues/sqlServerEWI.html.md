---
auto_generated: true
description: SQL Server
last_scraped: '2026-01-14T16:54:41.700441+00:00'
scraper_version: 1.1.0
source_url: https://docs.snowflake.com/en/migrations/snowconvert-docs/general/technical-documentation/issues-and-troubleshooting/conversion-issues/sqlServerEWI.html
title: SnowConvert AI - SQL Server-Azure Synapse Issues | Snowflake Documentation
---

1. [Overview](../../../../../../guides/README.md)
2. [Snowflake Horizon Catalog](../../../../../../user-guide/snowflake-horizon.md)
4. [Applications and tools for connecting to Snowflake](../../../../../../guides/overview-connecting.md)
6. [Virtual warehouses](../../../../../../user-guide/warehouses.md)
7. [Databases, Tables, & Views](../../../../../../guides/overview-db.md)
8. [Data types](../../../../../../data-types.md)
10. Data Integration

    - [Snowflake Openflow](../../../../../../user-guide/data-integration/openflow/about.md)
    - Apache Iceberg™

      - [Apache Iceberg™ Tables](../../../../../../user-guide/tables-iceberg.md)
      - [Snowflake Open Catalog](../../../../../../user-guide/opencatalog/overview.md)
11. Data engineering

    - [Data loading](../../../../../../guides/overview-loading-data.md)
    - [Dynamic Tables](../../../../../../user-guide/dynamic-tables-about.md)
    - [Streams and Tasks](../../../../../../user-guide/data-pipelines-intro.md)
    - [dbt Projects on Snowflake](../../../../../../user-guide/data-engineering/dbt-projects-on-snowflake.md)
    - [Data Unloading](../../../../../../guides/overview-unloading-data.md)
12. [Storage Lifecycle Policies](../../../../../../user-guide/storage-management/storage-lifecycle-policies.md)
13. [Migrations](../../../../../README.md)

    * Tools

      * [SnowConvert AI](../../../../overview.md)

        + General

          + [About](../../../about.md)
          + [Getting Started](../../../getting-started/README.md)
          + [Terms And Conditions](../../../terms-and-conditions/README.md)
          + [Release Notes](../../../release-notes/release-notes/README.md)
          + User Guide

            + [SnowConvert AI](../../../user-guide/snowconvert/README.md)
            + [Project Creation](../../../user-guide/project-creation.md)
            + [Extraction](../../../user-guide/extraction.md)
            + [Deployment](../../../user-guide/deployment.md)
            + [Data Migration](../../../user-guide/data-migration.md)
            + [Data Validation](../../../user-guide/data-validation.md)
            + [Power BI Repointing](../../../user-guide/power-bi-repointing-general.md)
            + [ETL Migration](../../../user-guide/etl-migration-replatform.md)
          + [Technical Documentation](../../README.md)

            - [Considerations](../../considerations/README.md)
            - [Issues And Troubleshooting](../README.md)

              * [Conversion Issues](README.md)

                + [General Issues](generalEWI.md)
                + [BigQuery Issues](bigqueryEWI.md)
                + [DB2 Issues](db2EWI.md)
                + [Hive Issues](hiveEWI.md)
                + [Oracle Issues](oracleEWI.md)
                + [PostgreSQL Issues](postgresqlEWI.md)
                + [Redshift Issues](redshiftEWI.md)
                + [Spark Issues](sparkEWI.md)
                + [SQL Server-Azure Synapse Issues](sqlServerEWI.md)
                + [Sybase IQ Issues](sybaseEWI.md)
                + [Teradata Issues](teradataEWI.md)
                + [Vertica Issues](verticaEWI.md)
                + [SSIS Issues](ssisEWI.md)
              * [Functional Difference](../functional-difference/README.md)
              * [Out Of Scope](../out-of-scope/README.md)
              * [Performance Review](../performance-review/README.md)
            - Function References

              - [SnowConvert AI Udfs](../../function-references/snowconvert-udfs.md)
              - [Teradata](../../function-references/teradata/README.md)
              - [Oracle](../../function-references/oracle/README.md)
              - [Shared](../../function-references/shared/README.md)
              - [SQL Server](../../function-references/sql-server/README.md)
          + [Contact Us](../../../contact-us.md)
          + Others

            + [Using SnowConvert AI In A Ubuntu Docker Image](../../../others/using-snowconvert-in-a-ubuntu-docker-image.md)
          + [Frequently Asked Questions (FAQ)](../../../frequently-asked-questions-faq.md)")
        + Translation References

          + [General](../../../../translation-references/general/README.md)
          + [Teradata](../../../../translation-references/teradata/README.md)
          + [Oracle](../../../../translation-references/oracle/README.md)
          + [SQL Server-Azure Synapse](../../../../translation-references/transact/README.md)
          + [Sybase IQ](../../../../translation-references/sybase/README.md)
          + [Hive-Spark-Databricks SQL](../../../../translation-references/hive/README.md)
          + [Redshift](../../../../translation-references/redshift/README.md)
          + [PostgreSQL-Greenplum-Netezza](../../../../translation-references/postgres/README.md)
          + [BigQuery](../../../../translation-references/bigquery/README.md)
          + [Vertica](../../../../translation-references/vertica/README.md)
          + [IBM DB2](../../../../translation-references/db2/README.md)
          + [SSIS](../../../../translation-references/ssis/README.md)
        + [Migration Assistant](../../../../migration-assistant/README.md)
        + [Data Validation CLI](../../../../data-validation-cli/index.md)
        + [AI Verification](../../../../snowconvert-ai-verification.md)
      * [Snowpark Migration Accelerator](../../../../../sma-docs/README.md)
    * Guides

      * [Teradata](../../../../../guides/teradata.md)
      * [Databricks](../../../../../guides/databricks.md)
      * [SQL Server](../../../../../guides/sqlserver.md)
      * [Amazon Redshift](../../../../../guides/redshift.md)
      * [Oracle](../../../../../guides/oracle.md)
      * [Azure Synapse](../../../../../guides/azuresynapse.md)
15. [Queries](../../../../../../guides/overview-queries.md)
16. [Listings](../../../../../../collaboration/collaboration-listings-about.md)
17. [Collaboration](../../../../../../guides/overview-sharing.md)
19. [Snowflake AI & ML](../../../../../../guides/overview-ai-features.md)
21. [Snowflake Postgres](../../../../../../user-guide/snowflake-postgres/about.md)
23. [Alerts & Notifications](../../../../../../guides/overview-alerts.md)
25. [Security](../../../../../../guides/overview-secure.md)
26. [Data Governance](../../../../../../guides/overview-govern.md)
27. [Privacy](../../../../../../guides/overview-privacy.md)
29. [Organizations & Accounts](../../../../../../guides/overview-manage.md)
30. [Business continuity & data recovery](../../../../../../user-guide/replication-intro.md)
32. [Performance optimization](../../../../../../guides/overview-performance.md)
33. [Cost & Billing](../../../../../../guides/overview-cost.md)

[Guides](../../../../../../guides/README.md)[Migrations](../../../../../README.md)Tools[SnowConvert AI](../../../../overview.md)General[Technical Documentation](../../README.md)[Issues And Troubleshooting](../README.md)[Conversion Issues](README.md)SQL Server-Azure Synapse Issues

# SnowConvert AI - SQL Server-Azure Synapse Issues[¶](#snowconvert-ai-sql-server-azure-synapse-issues "Link to this heading")

Applies to

* SQL Server
* Azure Synapse Analytics
* Sybase

## SSC-EWI-TS0001[¶](#ssc-ewi-ts0001 "Link to this heading")

User defined function body not generated

### Severity[¶](#severity "Link to this heading")

Critical

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#description "Link to this heading")

This EWI appears when SnowConvert AI handles a critical exception that causes the function body not to be generated during its translation.

#### Example Code[¶](#example-code "Link to this heading")

##### SQL Server[¶](#sql-server "Link to this heading")

```
 CREATE FUNCTION func1 ()
RETURNS VARCHAR
SELECT
   *
FROM
   TABLE1
```

Copy

##### Snowflake[¶](#snowflake "Link to this heading")

```
 --** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "TABLE1" **
CREATE OR REPLACE FUNCTION func1 ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/14/2025",  "domain": "no-domain-provided" }}'
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0001 - THE BODY WAS NOT GENERATED FOR FUNCTION 'func1' ***/!!!
AS
$$

$$;
```

Copy

#### Best Practices[¶](#best-practices "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0002[¶](#ssc-ewi-ts0002 "Link to this heading")

The ANSI\_PADDING OFF is not supported in Snowflake.

### Severity[¶](#id1 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id2 "Link to this heading")

In Transact-SQL, the statement `SET ANSI_PADDING OFF` removes the trailing spaces in the insertion of char Data types. Since `SET ANSI_PADDING OFF` is not a directly configurable setting in Snowflake; SnowConvert AI will generate this EWI.

#### Example Code[¶](#id3 "Link to this heading")

##### SQL Server[¶](#id4 "Link to this heading")

```
 SET ANSI_PADDING OFF;
```

Copy

##### Snowflake[¶](#id5 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0002 - THE ANSI_PADDING OFF IS NOT SUPPORTED IN SNOWFLAKE. ***/!!!
SET ANSI_PADDING OFF;
```

Copy

#### Best Practices[¶](#id6 "Link to this heading")

* Add `RTRIM` to all `CHAR()` data type insertions to remove this issue, including ETL code.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0003[¶](#ssc-ewi-ts0003 "Link to this heading")

The ANSI\_WARNINGS OFF is not supported in Snowflake.

### Severity[¶](#id7 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id8 "Link to this heading")

In Transact-SQL, the statement `SET ANSI_WARNINGS OFF` disables warnings such as Division by Zero or arithmetic overflow. Since `SET ANSI_WARNINGS OFF` is not a directly configurable setting in Snowflake, SnowConvert AI will generate this EWI.

#### Example Code[¶](#id9 "Link to this heading")

##### SQL Server[¶](#id10 "Link to this heading")

```
 SET ANSI_WARNINGS OFF;
```

Copy

##### Snowflake[¶](#id11 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0003 - THE ANSI_WARNINGS OFF IS NOT SUPPORTED IN SNOWFLAKE. ***/!!!
SET ANSI_WARNINGS OFF;
```

Copy

#### Best Practices[¶](#id12 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0009[¶](#ssc-ewi-ts0009 "Link to this heading")

The following transaction may contain nested transactions and this is considered a complex pattern not supported in Snowflake.

Note

Some parts in the output code are omitted for clarity reasons.

### Severity[¶](#id13 "Link to this heading")

High

#### Description[¶](#id14 "Link to this heading")

This error is added to indicate when a transaction may contain nested transactions. In SQL Server, transactions can be nested. This means that it is possible to start a new transaction within an existing transaction. If after the first BEGIN statement, we execute another one, a new transaction will be opened and the current transaction count will be increased by one.\

On the other hand this is not supported in Snowflake, what will happen is that the second BEGIN statement will be ignored and we will still have only one transaction. For more information please refer to [SQL Server Transactions](https://learn.microsoft.com/en-us/sql/t-sql/language-elements/transactions-transact-sql?view=sql-server-ver16).

#### Code Example[¶](#code-example "Link to this heading")

##### Input Code:[¶](#input-code "Link to this heading")

```
 CREATE PROC transactionsTest
AS
BEGIN TRANSACTION 
   SELECT @@TRANCOUNT AS TransactionCount_AfterFirstTransaction 
   INSERT INTO TESTSCHEMA.TESTTABLE(ID) VALUES (1), (2) 
   BEGIN TRANSACTION 
      SELECT @@TRANCOUNT AS TransactionCount_AfterSecondTransaction 
      INSERT INTO TESTSCHEMA.TESTTABLE(ID) VALUES (3), (4) 
   COMMIT;
   SELECT @@TRANCOUNT AS TransactionCount_AfterFirstCommit  
COMMIT;
END;
```

Copy

##### Generated Code:[¶](#generated-code "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE transactionsTest ()
RETURNS ARRAY
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
 DECLARE
  ProcedureResultSet1 VARCHAR;
  ProcedureResultSet2 VARCHAR;
  ProcedureResultSet3 VARCHAR;
  return_arr ARRAY := array_construct();
 BEGIN
  !!!RESOLVE EWI!!! /*** SSC-EWI-TS0009 - THE FOLLOWING TRANSACTION MAY CONTAIN NESTED TRANSACTIONS WHICH ARE NOT SUPPORTED IN SNOWFLAKE. ***/!!!
  BEGIN TRANSACTION;
  ProcedureResultSet1 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
  CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet1) AS
   SELECT
    :TRANCOUNT AS TransactionCount_AfterFirstTransaction;
  return_arr := array_append(return_arr, :ProcedureResultSet1);
  INSERT INTO TESTSCHEMA.TESTTABLE (ID) VALUES (1), (2);
  BEGIN TRANSACTION;
  ProcedureResultSet2 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
  CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet2) AS
   SELECT
    :TRANCOUNT AS TransactionCount_AfterSecondTransaction;
  return_arr := array_append(return_arr, :ProcedureResultSet2);
  INSERT INTO TESTSCHEMA.TESTTABLE (ID) VALUES (3), (4);
  COMMIT;
  ProcedureResultSet3 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
  CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet3) AS
   SELECT
    :TRANCOUNT AS TransactionCount_AfterFirstCommit;
  return_arr := array_append(return_arr, :ProcedureResultSet3);
  COMMIT;
  --** SSC-FDM-0020 - MULTIPLE RESULT SETS ARE RETURNED IN TEMPORARY TABLES **
  RETURN return_arr;
 END;
$$;
-- ** SSC-EWI-0001 - UNRECOGNIZED TOKEN ON LINE '12' COLUMN '1' OF THE SOURCE CODE STARTING AT 'END'. EXPECTED 'BATCH' GRAMMAR. **
--END
   ;
```

Copy

#### Best Practices[¶](#id15 "Link to this heading")

* In Snowflake nested transactions will not cause compilation errors, they will simply be ignored. You can access the assessment reports to check if nested transactions are present.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

### Related EWI[¶](#related-ewi "Link to this heading")

1. [SSC-FDM-0020](../functional-difference/generalFDM.html#ssc-fdm-0020): Multiple result sets are returned in temporary tables
2. [SSC-EWI-0001](generalEWI.html#ssc-ewi-0001): Unrecognized token on the line of the source code.
3. [SSC-EWI-0040](generalEWI.html#ssc-ewi-0040): Statement Not Supported.

## SSC-EWI-TS0010[¶](#ssc-ewi-ts0010 "Link to this heading")

Common table expression in view not supported in Snowflake.

Note

Some parts in the output code are omitted for clarity reasons.

### Severity[¶](#id16 "Link to this heading")

High

#### Description[¶](#id17 "Link to this heading")

This error is added when an invalid CTE is inside a view since views are materialized representations of queries, which means that they only define how data is retrieved and presented, not how it is manipulated.

#### Code Example[¶](#id18 "Link to this heading")

##### Input Code:[¶](#id19 "Link to this heading")

```
 Create View viewName
as
with commonTableExpressionName (
   columnName
) as
(
   select
      1
)
((select
   1 as col2)
union
(
   select
      1 as col3
));
```

Copy

##### Generated Code:[¶](#id20 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0010 - COMMON TABLE EXPRESSION IN VIEW NOT SUPPORTED IN SNOWFLAKE. ***/!!!
CREATE OR REPLACE VIEW viewName
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"transact"}}'
AS
!!!RESOLVE EWI!!! /*** SSC-EWI-0021 - WITH CTE NOT SUPPORTED IN SNOWFLAKE ***/!!!
with commonTableExpressionName (
   columnName
) as
(
   select
      1
)
((select
   1 as col2)
union
(
   select
      1 as col3
));
```

Copy

### Related EWI[¶](#id21 "Link to this heading")

1. [SSC-EWI-0021](generalEWI.html#ssc-ewi-0021): Not supported.

#### Best Practices[¶](#id22 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0013[¶](#ssc-ewi-ts0013 "Link to this heading")

Computed column transformed

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0013](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0013) documentation

### Severity[¶](#id23 "Link to this heading")

Low

#### Description[¶](#id24 "Link to this heading")

This warning is added when an SQL Server computed column is transformed to its Snowflake equivalent. It is added because, in some cases, the functional equivalence could be affected.

#### Code Example[¶](#id25 "Link to this heading")

##### Input Code:[¶](#id26 "Link to this heading")

```
 CREATE TABLE [TestTable](
    [Col1] AS (CONVERT ([REAL], ExpressionValue))
);
```

Copy

##### Generated Code:[¶](#id27 "Link to this heading")

```
 CREATE OR REPLACE TABLE TestTable (
    Col1 REAL AS (CAST(ExpressionValue AS REAL)) /*** SSC-FDM-TS0014 - COMPUTED COLUMN WAS TRANSFORMED TO ITS SNOWFLAKE EQUIVALENT, FUNCTIONAL EQUIVALENCE VERIFICATION PENDING. ***/
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"transact"}}'
;
```

Copy

#### Best Practices[¶](#id28 "Link to this heading")

* No additional user actions are required; it is just informative.
* Add manual changes to the not-transformed expression.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0015[¶](#ssc-ewi-ts0015 "Link to this heading")

Data type is not supported in Snowflake

### Severity[¶](#id29 "Link to this heading")

Medium

### Description[¶](#id30 "Link to this heading")

This warning is added when an SQL Server column has an unsupported type in Snowflake.

#### Code Example[¶](#id31 "Link to this heading")

##### Input Code:[¶](#id32 "Link to this heading")

```
 CREATE TABLE table1
(
    column1 customType,
);
```

Copy

##### Generated Code:[¶](#id33 "Link to this heading")

```
 CREATE OR REPLACE TABLE table1
(
    column1 VARIANT !!!RESOLVE EWI!!! /*** SSC-EWI-TS0015 - DATA TYPE CUSTOMTYPE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"transact"}}'
;
```

Copy

#### Best Practices[¶](#id34 "Link to this heading")

* Check the Snowflake data types [documentation](https://docs.snowflake.com/en/sql-reference/data-types.html) to find an equivalent for the data type.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0016[¶](#ssc-ewi-ts0016 "Link to this heading")

Translation for ODBC Scalar function pending

Note

Some parts of the output code are omitted for clarity reasons.

### Description[¶](#id35 "Link to this heading")

This EWI is added when SnowConvert AI finds an ODBC Scalar function inside the input code.  
User-defined functions are not supported in ODBC Scalar Function.

#### Code Example[¶](#id36 "Link to this heading")

##### Input Code:[¶](#id37 "Link to this heading")

```
 SELECT {fn CURRENT_DATE_UDF()};
```

Copy

##### Generated Code:[¶](#id38 "Link to this heading")

```
 --** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "CURRENT_DATE_UDF" **
SELECT
CURRENT_DATE_UDF() !!!RESOLVE EWI!!! /*** SSC-EWI-0073 - PENDING FUNCTIONAL EQUIVALENCE REVIEW FOR 'CURRENT_DATE_UDF' NODE ***/!!!!!!RESOLVE EWI!!! /*** SSC-EWI-TS0016 - USER DEFINED FUNCTIONS ARE NOT SUPPORTED IN ODBC SCALAR FUNCTION. ***/!!!;
```

Copy

### Related EWI[¶](#id39 "Link to this heading")

1. [SSC-EWI-0073](generalEWI.html#ssc-ewi-0073): Pending Functional Equivalence Review.

#### Best Practices[¶](#id40 "Link to this heading")

* No additional user actions are required; it is just informative.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0017[¶](#ssc-ewi-ts0017 "Link to this heading")

Masking not supported

### Severity[¶](#id41 "Link to this heading")

Low

#### Description[¶](#id42 "Link to this heading")

This EWI is added when SnowConvert AI finds a masked column inside a `CREATE TABLE` statement. This functionality doesn’t work by adding the option in the column declaration. Manual effort is needed to have the same behavior as SQL Server.

#### Code Example[¶](#id43 "Link to this heading")

##### Input Code:[¶](#id44 "Link to this heading")

```
 CREATE TABLE TABLE1
( 
  [COL1] nvarchar MASKED WITH (FUNCTION = 'default()') NULL,
  [COL2] varchar(100) MASKED WITH (FUNCTION = 'partial(1, "xxxxx", 1)') NULL,
  [COL3] varchar(100) MASKED WITH (FUNCTION = 'email()') NOT NULL,
  [COL4] smallint MASKED WITH (FUNCTION = 'random(1, 100)') NULL
);
```

Copy

##### Generated Code:[¶](#id45 "Link to this heading")

```
 CREATE OR REPLACE TABLE TABLE1
(
  COL1 VARCHAR
               !!!RESOLVE EWI!!! /*** SSC-EWI-TS0017 - COLUMN MASKING NOT SUPPORTED IN CREATE TABLE ***/!!!
               MASKED WITH (FUNCTION = 'default()') NULL,
  COL2 VARCHAR(100)
                    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0017 - COLUMN MASKING NOT SUPPORTED IN CREATE TABLE ***/!!!
 MASKED WITH (FUNCTION = 'partial(1, "xxxxx", 1)') NULL,
  COL3 VARCHAR(100)
                    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0017 - COLUMN MASKING NOT SUPPORTED IN CREATE TABLE ***/!!!
 MASKED WITH (FUNCTION = 'email()') NOT NULL,
  COL4 SMALLINT
                !!!RESOLVE EWI!!! /*** SSC-EWI-TS0017 - COLUMN MASKING NOT SUPPORTED IN CREATE TABLE ***/!!!
                MASKED WITH (FUNCTION = 'random(1, 100)') NULL
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
;
```

Copy

#### Best Practices[¶](#id46 "Link to this heading")

SnowConvert AI is not generating `MASKING POLICIES` in the current version, so they have to be created manually. E.g.:

The first step is to create a masking policy administrator role.

```
 create role masking_admin;
```

Copy

The second one is to grant the necessary privileges to the created role.

```
 grant create masking policy on schema PUBLIC to role masking_admin;
allow table_owner role to set or unset the ssn_mask masking policy -- (optional)
grant apply on masking policy ssn_mask to role table_owner;
```

Copy

The next step is to create the masking policy functions.

```
 -- default mask
create or replace masking policy default_mask as (val string) returns string ->
case
when current_role() in ('ANALYST') then val
else 'xxxx'
end;

-- partial mask
create or replace masking policy partial_mask as (val string) returns string ->
case
when current_role() in ('ANALYST') then val
else LEFT(val,1) || 'xxxxx' || RIGHT(val,1)
end;

-- email mask
create or replace masking policy email_mask as (val string) returns string ->
case
when current_role() in ('ANALYST') then val
else LEFT(val,1) || 'XXX@XXX.com'
end;

-- random mask
create or replace masking policy random_mask as (val smallint) returns smallint ->
case
when current_role() in ('ANALYST') then val
else UNIFORM(1,100,RANDOM())::SMALLINT
end;
```

Copy

Note

For sample purposes, we are taking some examples of masking functions in SQL Server, and manually translating it into its equivalent in Snowflake.

The final step is to add the masking policy to the column that originally had the masking option in SQL Server.

```
 alter table if exists TABLE1 modify column COL1 set masking policy default_mask;
alter table if exists TABLE1 modify column COL2 set masking policy partial_mask;
alter table if exists TABLE1 modify column COL3 set masking policy email_mask;
alter table if exists TABLE1 modify column COL4 set masking policy random_mask;
```

Copy

If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0023[¶](#ssc-ewi-ts0023 "Link to this heading")

Bulk option not supported

### Severity[¶](#id47 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id48 "Link to this heading")

This EWI is added when some option in a `BULK INSERT` could not be mapped. The translated bulk options should be reflected as `FILE FORMAT` options.

#### Code Example[¶](#id49 "Link to this heading")

##### Input Code:[¶](#id50 "Link to this heading")

```
 BULK INSERT #PCE FROM 'E:\PCE_Look-up_table.txt'  
WITH   
(  
   FIELDTERMINATOR ='\t',
   ROWTERMINATOR ='\n',
   FIRE_TRIGGERS 
);
```

Copy

##### Generated Code:[¶](#id51 "Link to this heading")

```
 CREATE OR REPLACE FILE FORMAT FILE_FORMAT_638461199649565070
FIELD_DELIMITER = '\t'
RECORD_DELIMITER = '\n'
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0023 - 'FIRE_TRIGGERS' BULK OPTION COULD NOT BE TRANSFORMED TO ANY OF THE EXISTING FILE FORMAT OPTIONS ***/!!!
FIRE_TRIGGERS;

CREATE OR REPLACE STAGE STAGE_638461199649565070
FILE_FORMAT = FILE_FORMAT_638461199649565070;

--** SSC-FDM-TS0004 - PUT STATEMENT IS NOT SUPPORTED ON WEB UI. YOU SHOULD EXECUTE THE CODE THROUGH THE SNOWFLAKE CLI **
PUT file://E:\PCE_Look-up_table.txt @STAGE_638461199649565070 AUTO_COMPRESS = FALSE;

COPY INTO T_PCE FROM @STAGE_638461199649565070/PCE_Look-up_table.txt;
```

Copy

#### Best Practices[¶](#id52 "Link to this heading")

* Visit the SnowSQL CLI [user guide](https://docs.snowflake.com/en/user-guide/snowsql.html).
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

### Related EWI[¶](#id53 "Link to this heading")

1. [SSC-FDM-TS0004](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0004): PUT statement not supported on UI.

## SSC-EWI-TS0024[¶](#ssc-ewi-ts0024 "Link to this heading")

Incomplete transformation for Bulk Insert

### Severity[¶](#id54 "Link to this heading")

Low

#### Description[¶](#id55 "Link to this heading")

This EWI is added when a `BULK INSERT` inside a stored procedure was not identified at all, so the dependencies for the complete transformation will not be generated. Also the transformed `COPY INTO` retrieves the file from a `tempStage` that needs to be created manually.

#### Code Example[¶](#id56 "Link to this heading")

##### Input Code:[¶](#id57 "Link to this heading")

```
 CREATE PROCEDURE BULK_PROC2
AS
BULK INSERT dbo.table1 FROM 'E:\test.txt'  
WITH   
(  
   FIELDTERMINATOR ='\t',
   ROWTERMINATOR ='\n'
); 

GO
```

Copy

##### Generated Code:[¶](#id58 "Link to this heading")

```
 CREATE OR REPLACE FILE FORMAT FILE_FORMAT_638461207064166040
FIELD_DELIMITER = '\t'
RECORD_DELIMITER = '\n';

CREATE OR REPLACE STAGE STAGE_638461207064166040
FILE_FORMAT = FILE_FORMAT_638461207064166040;

--** SSC-FDM-TS0004 - PUT STATEMENT IS NOT SUPPORTED ON WEB UI. YOU SHOULD EXECUTE THE CODE THROUGH THE SNOWFLAKE CLI **
PUT file://E:\test.txt @STAGE_638461207064166040 AUTO_COMPRESS = FALSE;

CREATE OR REPLACE PROCEDURE BULK_PROC2 ()
RETURNS STRING
LANGUAGE JAVASCRIPT
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
   // REGION SnowConvert AI Helpers Code
   // END REGION

   EXEC(`COPY INTO dbo.table1 FROM @STAGE_638461207064166040/test.txt`);
$$
```

Copy

#### Best Practices[¶](#id59 "Link to this heading")

* Create a [STAGE](https://docs.snowflake.com/en/sql-reference/sql/create-stage.html) and a [FILE FORMAT](https://docs.snowflake.com/en/sql-reference/sql/create-file-format.html) manually in order to retrieve the file.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0025[¶](#ssc-ewi-ts0025 "Link to this heading")

ERROR\_SEVERITY function transformed

### Severity[¶](#id60 "Link to this heading")

Low

Note

Generate Procedures and Macros using JavasScript as the target language adding the following flag -t JavaScript or –PLTargetLanguage JavaScript

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id61 "Link to this heading")

This EWI is added when [ERROR\_SEVERITY](https://docs.microsoft.com/en-us/sql/t-sql/functions/error-severity-transact-sql?view=sql-server-ver15) built-in function is translated. By default, the function will return 16 as it is the most common severity in SQL Server. The generated UDF should retrie

#### Code Example[¶](#id62 "Link to this heading")

##### Input Code:[¶](#id63 "Link to this heading")

```
 -- Additional Params: -t JavaScript
CREATE procedure proc1()
as
BEGIN TRY  
    -- Generate a divide-by-zero error.  
    SELECT 1/0 from table1;  
END TRY  
BEGIN CATCH  
    return ERROR_SEVERITY();  
END CATCH;  
GO
```

Copy

##### Generated Code:[¶](#id64 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE proc1 ()
RETURNS STRING
LANGUAGE JAVASCRIPT
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    // SnowConvert AI Helpers Code section is omitted.

    try {
        EXEC(`    -- Generate a divide-by-zero error.  
    SELECT
       TRUNC( 1/0) from
       table1`);
    } catch(error) {
        return SELECT(`   !!!RESOLVE EWI!!! /*** SSC-EWI-TS0025 - CUSTOM UDF 'ERROR_SEVERITY_UDF' INSERTED FOR ERROR_SEVERITY FUNCTION. ***/!!!
   ERROR_SEVERITY_UDF()`);
    }
$$;
```

Copy

#### Best Practices[¶](#id65 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0026[¶](#ssc-ewi-ts0026 "Link to this heading")

With Delete Query turned to Create Table.

### Severity[¶](#id66 "Link to this heading")

Low

#### Description[¶](#id67 "Link to this heading")

This EWI is added when a Common Table Expression With a Delete From is transformed to a Create or Replace Table.

#### Code Example[¶](#id68 "Link to this heading")

##### Input Code:[¶](#id69 "Link to this heading")

```
 WITH Duplicated AS (
SELECT *, ROW_NUMBER() OVER (PARTITION BY ID ORDER BY ID) AS RN
FROM WithQueryTest
)
DELETE FROM Duplicated
WHERE Duplicated.RN > 1
```

Copy

##### Generated Code:[¶](#id70 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0026 - WITH DELETE QUERY TURNED TO CREATE TABLE ***/!!!
CREATE OR REPLACE TABLE WithQueryTest AS
SELECT
*
FROM
WithQueryTest
QUALIFY
ROW_NUMBER()
OVER (PARTITION BY
ID
ORDER BY ID) = 1;
```

Copy

#### Best Practices[¶](#id71 "Link to this heading")

* No additional user actions are required.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0032[¶](#ssc-ewi-ts0032 "Link to this heading")

Bulk Insert Partially Translated

Warning

The EWI is only generated when Javascript is the target language for Stored Procedures. This is a deprecated translation feature, as Snowflake Scripting is the recommended target language for Stored Procedures.

### Severity[¶](#id72 "Link to this heading")

High

Note

Generate Procedures and Macros using JavasScript as the target language adding the following flag -t JavaScript or –PLTargetLanguage JavaScript

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id73 "Link to this heading")

This EWI is added to a literal that was originally a concatenation, when the contained code had a `BULK INSERT` statement. The `PUT` command resulting from the `BULK INSERT` translation is not supported when executing code that was originally Dynamic SQL.

For this reason, the `PUT` command must be extracted from the output code and executed manually outside of the procedure that contains it. Keep in mind that if there are many `BULK INSERT` statements in Dynamic SQL sentences within the procedure, it is advised to split this procedure to be able to manually execute the corresponding `PUT` command for each translated `BULK INSERT`.

#### Code Example[¶](#id74 "Link to this heading")

##### Input Code:[¶](#id75 "Link to this heading")

```
 -- Additional Params: -t JavaScript
CREATE PROCEDURE  [dbo].[Load_FuelMgtMasterData]
AS
    BEGIN
        SET NOCOUNT ON;

        DECLARE
            @SQLString VARCHAR(500)
        ,   @ImportName VARCHAR(200)
        ,   @Today DATE
        ,   @Yesterday DATE
        ,   @SourceAffiliates VARCHAR(200);

        SET @Today = GETDATE();
        SET @Yesterday = DATEADD(DAY, -1, @Today);
        TRUNCATE TABLE dbo.SourceFM_Affiliates;
        SET @ImportName = '\\' + +@@ServerName
            + '\WorkA\merchantportal\affiliates.txt';
        SET @SQLString = 'BULK INSERT ' + @SourceAffiliates + ' FROM '''
            + @ImportName + '''';
        EXEC (@SQLString);
    END;
```

Copy

##### Generated Code:[¶](#id76 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE dbo.Load_FuelMgtMasterData ()
RETURNS STRING
LANGUAGE JAVASCRIPT
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    // SnowConvert AI Helpers Code section is omitted.

    /*** SSC-EWI-0040 - THE 'SET' CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/
    /*        SET NOCOUNT ON*/
    ;
    let SQLSTRING;
    let IMPORTNAME;
    let TODAY;
    let YESTERDAY;
    let SOURCEAFFILIATES;
    TODAY = SELECT(`   CURRENT_TIMESTAMP() :: TIMESTAMP`);
    YESTERDAY = SELECT(`   DATEADD(DAY, -1, ?)`,[TODAY]);
    EXEC(`        TRUNCATE TABLE dbo.SourceFM_Affiliates`);
    IMPORTNAME = `\\` + SERVERNAME + `\WorkA\merchantportal\affiliates.txt`;
    SQLSTRING =
        // ** SSC-EWI-TS0032 - THE BULK INSERT WAS PART OF A DYNAMIC SQL, WHICH MAKES SOME OF THE TRANSLATED ELEMENTS INVALID UNLESS EXECUTED OUTSIDE DYNAMIC CODE. **
        `CREATE OR REPLACE FILE FORMAT FILE_FORMAT_638923328992788100;

CREATE OR REPLACE STAGE STAGE_638923328992788100
FILE_FORMAT = FILE_FORMAT_638923328992788100;

PUT file://${IMPORTNAME} @STAGE_638923328992788100 AUTO_COMPRESS = FALSE;

COPY INTO ${SOURCEAFFILIATES}
FROM @STAGE_638923328992788100/${IMPORTNAME}`;
    EXEC(`${SQLSTRING}`);
$$;
```

Copy

#### Best Practices[¶](#id77 "Link to this heading")

* Extract the `PUT` command that resulted from the Dynamic `BULK INSERT` statement, and execute it before calling the procedure.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0034[¶](#ssc-ewi-ts0034 "Link to this heading")

RETURNS clause incomplete due to missing symbols

### Severity[¶](#id78 "Link to this heading")

High

#### Description[¶](#id79 "Link to this heading")

This EWI is added to the output code when the `RETURNS TABLE` clause of a `CREATE FUNCTION` could not be properly generated. This happens when the columns that must be specified in the resulting `RETURNS TABLE` clause cannot be inferred by SnowConvert AI, thus leaving the `RETURNS TABLE` clause empty.

#### Code Example[¶](#id80 "Link to this heading")

##### Input Code:[¶](#id81 "Link to this heading")

```
 CREATE FUNCTION Sales.ufn_SalesByStore2()
RETURNS TABLE
AS
RETURN
(
  WITH CTE AS (
  SELECT DepartmentID, Name, GroupName
  FROM HumanResources.Department
  )
  SELECT tab.* FROM CTE tab
);

GO

SELECT * FROM GetDepartmentInfo();
```

Copy

##### Generated Code:[¶](#id82 "Link to this heading")

```
 --** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "HumanResources.Department" **
CREATE OR REPLACE FUNCTION Sales.ufn_SalesByStore2 ()
RETURNS TABLE(
  DepartmentID STRING /*** SSC-FDM-TS0012 - INFORMATION FOR THE COLUMN DepartmentID WAS NOT FOUND. STRING DATATYPE USED TO MATCH CAST AS STRING OPERATION ***/,
  Name STRING /*** SSC-FDM-TS0012 - INFORMATION FOR THE COLUMN Name WAS NOT FOUND. STRING DATATYPE USED TO MATCH CAST AS STRING OPERATION ***/,
  GroupName STRING /*** SSC-FDM-TS0012 - INFORMATION FOR THE COLUMN GroupName WAS NOT FOUND. STRING DATATYPE USED TO MATCH CAST AS STRING OPERATION ***/
)
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/14/2025",  "domain": "no-domain-provided" }}'
AS
$$
  --** SSC-PRF-TS0001 - PERFORMANCE WARNING - RECURSION FOR CTE NOT CHECKED. MIGHT REQUIRE RECURSIVE KEYWORD **
    WITH CTE AS (
    SELECT
      DepartmentID,
      Name,
      GroupName
    FROM
      HumanResources.Department
    )
    SELECT tab.* FROM
    CTE tab
$$;

--** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "GetDepartmentInfo" **

SELECT
    *
FROM
    TABLE(GetDepartmentInfo());
```

Copy

#### Best Practices[¶](#id83 "Link to this heading")

* The causes for this issue may vary. Be sure to include all the objects that your code needs. If the issue persists even though the migration has access to all the necessary objects, please do contact us with information about your specific scenario.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0035[¶](#ssc-ewi-ts0035 "Link to this heading")

Declaring a Cursor Variable that it is never initialized is not supported.

### Severity[¶](#id84 "Link to this heading")

Medium

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id85 "Link to this heading")

Currently, a Cursor Variable that is declared but never initialized is not supported by SnowFlake. Thus, the EWI is added, and the code commented out.

#### Code Example[¶](#id86 "Link to this heading")

##### Input Code:[¶](#id87 "Link to this heading")

```
 CREATE OR ALTER PROCEDURE notInitializedCursorTest
AS
BEGIN
    -- Should be marked with SSC-EWI-TS0035
    DECLARE @MyCursor CURSOR, @MyCursor2 CURSOR;
    -- Should not be marked
    DECLARE cursorVar CURSOR FORWARD_ONLY STATIC READ_ONLY
        FOR
        SELECT someCol
        FROM someTable;
    RETURN 'DONE';
END;
```

Copy

##### Generated Code:[¶](#id88 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE notInitializedCursorTest ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        -- Should be marked with SSC-EWI-TS0035
        !!!RESOLVE EWI!!! /*** SSC-EWI-TS0035 - CURSOR VARIABLE DECLARED BUT NEVER INITIALIZED, THIS IS NOT SUPPORTED IN SNOWFLAKE SCRIPTING ***/!!!
        MYCURSOR CURSOR;
        !!!RESOLVE EWI!!! /*** SSC-EWI-TS0035 - CURSOR VARIABLE DECLARED BUT NEVER INITIALIZED, THIS IS NOT SUPPORTED IN SNOWFLAKE SCRIPTING ***/!!!
        MYCURSOR2 CURSOR;
        -- Should not be marked
        cursorVar CURSOR
        FOR
            SELECT
                someCol
            FROM
                someTable;
    BEGIN
         
         
        RETURN 'DONE';
    END;
$$;
```

Copy

#### Best Practices[¶](#id89 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0036[¶](#ssc-ewi-ts0036 "Link to this heading")

Snowflake Scripting only supports Local Cursors.

### Severity[¶](#id90 "Link to this heading")

Medium

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id91 "Link to this heading")

This EWI is added when Cursors other than Local Cursors are identified. Currently, Snowflake Scripting only supports Local Cursors. Thus, all Cursors are translated as Local Cursors.

#### Code Example[¶](#id92 "Link to this heading")

##### Input Code:[¶](#id93 "Link to this heading")

```
 CREATE OR ALTER PROCEDURE globalCursorTest
AS
BEGIN
    -- Should be marked with SSC-EWI-TS0036
    DECLARE MyCursor CURSOR GLOBAL STATIC READ_ONLY
        FOR
        SELECT *
        FROM exampleTable;
    -- Should not be marked
    DECLARE MyCursor2 CURSOR LOCAL STATIC READ_ONLY
        FOR
        SELECT testCol
        FROM myTable;
    RETURN 'DONE';
END;
```

Copy



```
 CREATE OR REPLACE PROCEDURE globalCursorTest ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        -- Should be marked with SSC-EWI-TS0036
        !!!RESOLVE EWI!!! /*** SSC-EWI-TS0036 - SNOWFLAKE SCRIPTING ONLY SUPPORTS LOCAL CURSORS ***/!!!
        MyCursor CURSOR
        FOR
            SELECT
                *
            FROM
                exampleTable;
        -- Should not be marked
        MyCursor2 CURSOR
        FOR
            SELECT
                testCol
            FROM
                myTable;
    BEGIN
         
         
        RETURN 'DONE';
    END;
$$;
```

Copy

```

```

Copy

#### Best Practices[¶](#id94 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0037[¶](#ssc-ewi-ts0037 "Link to this heading")

Snowflake Scripting Cursors are non-scrollable.

### Severity[¶](#id95 "Link to this heading")

Medium

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id96 "Link to this heading")

Snowflake Scripting Cursors are non-scrollable. Currently, only FETCH NEXT is supported.

#### Code Example[¶](#id97 "Link to this heading")

##### Input Code:[¶](#id98 "Link to this heading")

```
 CREATE OR ALTER PROCEDURE scrollablecursorTest
AS
BEGIN
    -- Should be marked with SSC-EWI-TS0037
    DECLARE CursorVar CURSOR SCROLL STATIC READ_ONLY
	FOR  
	SELECT FirstName
	FROM vEmployee;
    -- Should not be marked
    DECLARE CursorVar2 CURSOR STATIC READ_ONLY
	FOR  
	SELECT FirstName
	FROM vEmployee;
    DECLARE CursorVar3 CURSOR FORWARD_ONLY STATIC READ_ONLY
	FOR  
	SELECT FirstName
	FROM vEmployee;
    RETURN 'DONE';
END;
```

Copy

##### Generated Code:[¶](#id99 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE scrollablecursorTest ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
	DECLARE
		-- Should be marked with SSC-EWI-TS0037
		!!!RESOLVE EWI!!! /*** SSC-EWI-TS0037 - SNOWFLAKE SCRIPTING CURSORS ARE NON-SCROLLABLE, ONLY FETCH NEXT IS SUPPORTED ***/!!!
		CursorVar CURSOR
		FOR
			SELECT
				FirstName
			FROM
				vEmployee;
		-- Should not be marked
		CursorVar2 CURSOR
		FOR
			SELECT
				FirstName
			FROM
				vEmployee;
		CursorVar3 CURSOR
		FOR
			SELECT
				FirstName
			FROM
				vEmployee;
	BEGIN
		 
		 
		 
		RETURN 'DONE';
	END;
$$;
```

Copy

#### Best Practices[¶](#id100 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0039[¶](#ssc-ewi-ts0039 "Link to this heading")

Multiple SET Statements for the same cursor found.

### Severity[¶](#id101 "Link to this heading")

Medium

#### Description[¶](#id102 "Link to this heading")

This EWI is added when multiple SET Statements for the same cursor are found; All additional SET Statements are also commented out. This happens because having multiple SET Statements for the same cursor is not valid in Snowflake Scripting.

#### Example Code:[¶](#id103 "Link to this heading")

##### This EWI is added when multiple SET Statements for the same cursor are found; All additional SET Statements are also commented out. This happens because having multiple SET Statements for the same cursor is not valid in Snowflake Scripting.[¶](#this-ewi-is-added-when-multiple-set-statements-for-the-same-cursor-are-found-all-additional-set-statements-are-also-commented-out-this-happens-because-having-multiple-set-statements-for-the-same-cursor-is-not-valid-in-snowflake-scripting "Link to this heading")

#### Example Code:[¶](#id104 "Link to this heading")

##### Input Code:[¶](#id105 "Link to this heading")

```
 CREATE OR ALTER PROCEDURE multipleSetExample
AS
BEGIN
    DECLARE @MyCursor CURSOR;
    DECLARE @MyCursor2 CURSOR STATIC READ_ONLY
	FOR  
	SELECT FirstName
	FROM vEmployee;
    DECLARE @MyCursor3 CURSOR;
    
    SET @MyCursor = CURSOR STATIC READ_ONLY
        FOR
        SELECT col3
        FROM defaultTable;
        
    SET @MyCursor3 = CURSOR STATIC READ_ONLY
    FOR
    SELECT *
    FROM someTable;
    
    SET @MyCursor = CURSOR DYNAMIC
        FOR
        SELECT col2
        FROM exampleTable;
        
    SET @MyCursor2 = CURSOR STATIC READ_ONLY
        FOR
        SELECT col3
        FROM defaultTable;
        
    RETURN 'DONE';
END;
```

Copy

##### Generated Code:[¶](#id106 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE multipleSetExample ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
	DECLARE
		MYCURSOR CURSOR
		FOR
			SELECT col3
			FROM defaultTable;
		MYCURSOR2 CURSOR
		FOR
			SELECT
				FirstName
			FROM
				vEmployee;
		MYCURSOR3 CURSOR
		FOR
			SELECT *
			FROM someTable;
	BEGIN
		 
		 
		 
		 
		 
		DECLARE
		MYCURSOR CURSOR
		FOR
			SELECT col3
			FROM defaultTable;
		MYCURSOR2 CURSOR
		FOR
			SELECT
				FirstName
			FROM
				vEmployee;
		MYCURSOR3 CURSOR
		FOR
			SELECT *
			FROM someTable;
	BEGIN
		 
		 
		 
		 
		 
		!!!RESOLVE EWI!!! /*** SSC-EWI-0040 - THE 'SET CURSOR' CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!!!!RESOLVE EWI!!! /*** SSC-EWI-TS0039 - CURSOR VARIABLE MYCURSOR SET MULTIPLE TIMES, THIS IS NOT VALID IN SNOWFLAKE SCRIPTING ***/!!!

		SET @MyCursor = CURSOR DYNAMIC
		    FOR
		    SELECT col2
		    FROM exampleTable;
		!!!RESOLVE EWI!!! /*** SSC-EWI-0040 - THE 'SET CURSOR' CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!!!!RESOLVE EWI!!! /*** SSC-EWI-TS0039 - CURSOR VARIABLE MYCURSOR2 SET MULTIPLE TIMES, THIS IS NOT VALID IN SNOWFLAKE SCRIPTING ***/!!!

    SET @MyCursor2 = CURSOR STATIC READ_ONLY
        FOR
        SELECT col3
        FROM defaultTable;
		RETURN 'DONE';
	END;
$$;
```

Copy

#### Best Practices[¶](#id107 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0041[¶](#ssc-ewi-ts0041 "Link to this heading")

XML data type methods are not supported in Snowflake.

### Severity[¶](#id108 "Link to this heading")

Medium

#### Description[¶](#id109 "Link to this heading")

This EWI is added for the following [XML data type methods](https://docs.microsoft.com/en-us/sql/t-sql/xml/xml-data-type-methods?view=sql-server-ver15) that are not supported in Snowflake SQL:

* Value
* Query
* Exist
* Modify
* Nodes

#### Code Example[¶](#id110 "Link to this heading")

##### Input Code:[¶](#id111 "Link to this heading")

```
 CREATE PROCEDURE xml_procedure
    @inUserGroupsXML XML
AS
BEGIN
    SELECT  entities.entity.value('TypeID[1]', 'VARCHAR(100)') AS TypeID
        ,entities.entity.value('Name[1]', 'VARCHAR(100)') AS Name
    INTO  #tmpUserGroups
    FROM  @inUserGroupsXML.nodes('/entities/entity') entities(entity)
END;
```

Copy

##### Generated Code:[¶](#id112 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE xml_procedure (INUSERGROUPSXML TEXT)
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    BEGIN
        CREATE OR REPLACE TEMPORARY TABLE T_tmpUserGroups AS
            SELECT
                XMLGET(entity, '$') :: VARCHAR(100) AS TypeID
                ,
                XMLGET(entity, '$') :: VARCHAR(100) AS Name
            FROM
                !!!RESOLVE EWI!!! /*** SSC-EWI-TS0041 - XML TYPE METHOD nodes IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
                T_inUserGroupsXML('/entities/entity') entities (
                    entity
                );
    END;
$$;
```

Copy

#### Best Practices[¶](#id113 "Link to this heading")

* Consider using UDFs to emulate the behavior of the source code
* You can [check this documentation](https://medium.com/snowflake/working-with-xml-in-snowflake-part-ii-774b4d32399) and review some possible approaches to work with XML datatypes in Snowflake.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0043[¶](#ssc-ewi-ts0043 "Link to this heading")

WITH XMLNAMESPACES is not supported in Snowflake.

### Severity[¶](#id114 "Link to this heading")

Medium

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id115 "Link to this heading")

This EWI is added fort the [WITH XMLNAMESPACES](https://docs.microsoft.com/en-us/sql/relational-databases/xml/add-namespaces-to-queries-with-with-xmlnamespaces?view=sql-server-ver15) clause which is not supported in Snowflake SQL

#### Code Example[¶](#id116 "Link to this heading")

##### Input Code:[¶](#id117 "Link to this heading")

```
 WITH XMLNAMESPACES ('uri' as ns1)
SELECT ProductID as 'ns1:ProductID',
Name      as 'ns1:Name',
Color     as 'ns1:Color'
FROM Production.Product
WHERE ProductID = 316
FOR XML RAW, ELEMENTS XSINIL
```

Copy

##### Generated Code:[¶](#id118 "Link to this heading")

```
 --** SSC-PRF-TS0001 - PERFORMANCE WARNING - RECURSION FOR CTE NOT CHECKED. MIGHT REQUIRE RECURSIVE KEYWORD **
WITH
     !!!RESOLVE EWI!!! /*** SSC-EWI-TS0043 - WITH XMLNAMESPACES IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
 XMLNAMESPACES ('uri' as VARIANT !!!RESOLVE EWI!!! /*** SSC-EWI-TS0015 - DATA TYPE NS1 IS NOT SUPPORTED IN SNOWFLAKE ***/!!! NOT NULL)
SELECT
ProductID AS "ns1:ProductID",
Name AS "ns1:Name",
Color AS "ns1:Color"
FROM
Production.Product
WHERE
ProductID = 316
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0044 - FOR XML RAW CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
FOR XML RAW, ELEMENTS XSINIL;
```

Copy

#### Best Practices[¶](#id119 "Link to this heading")

* Consider using UDFs to emulate the behavior of the source code. The following code provides suggestions of UDFs that can be used to achieve recreating the original behavior:

##### SQL Server[¶](#id120 "Link to this heading")

```
 CREATE  TABLE PRODUCT (ProductID INTEGER, Name VarChar(20), Color VarChar(20));
INSERT INTO PRODUCT(PRODUCTID, NAME, COLOR) VALUES(1,'UMBRELLA','RED');
INSERT INTO PRODUCT(PRODUCTID, NAME, COLOR) VALUES(2,'SHORTS','BLUE');
INSERT INTO PRODUCT(PRODUCTID, NAME, COLOR) VALUES(3,'BALL','YELLOW');

WITH XMLNAMESPACES ('uri' as ns1)  
SELECT ProductID as 'ns1:ProductID',  
       Name      as 'ns1:Name',  
       Color     as 'ns1:Color'  
FROM Product  
FOR XML RAW
```

Copy

##### Snowflake SQL[¶](#snowflake-sql "Link to this heading")

```
 CREATE OR REPLACE TABLE PRODUCT (
       ProductID INTEGER,
       Name VARCHAR(20),
       Color VARCHAR(20))
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/12/2024" }}'
;

INSERT INTO PRODUCT (PRODUCTID, NAME, COLOR) VALUES(1,'UMBRELLA','RED');
INSERT INTO PRODUCT (PRODUCTID, NAME, COLOR) VALUES(2,'SHORTS','BLUE');
INSERT INTO PRODUCT (PRODUCTID, NAME, COLOR) VALUES(3,'BALL','YELLOW');

--** SSC-PRF-TS0001 - PERFORMANCE WARNING - RECURSION FOR CTE NOT CHECKED. MIGHT REQUIRE RECURSIVE KEYWORD **

WITH
     !!!RESOLVE EWI!!! /*** SSC-EWI-TS0043 - WITH XMLNAMESPACES IS NOT SUPPORTED IN SNOWFLAKE ***/!!! XMLNAMESPACES ('uri' as ns1)
SELECT
       ProductID AS "ns1:ProductID",
       Name AS "ns1:Name",
       Color AS "ns1:Color"
FROM
       Product
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0044 - FOR XML RAW CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
FOR XML RAW;
```

Copy

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

### Related EWI[¶](#id121 "Link to this heading")

1. [SSC-PRF-TS0001](../performance-review/sqlServerPRF.html#ssc-prf-ts0001): Performance warning - recursion for CTE not checked. Might require a recursive keyword.
2. [SSC-EWI-TS0044](#ssc-ewi-ts0044): FOR XML clause is not supported in Snowflake.
3. [SSC-EWI-TS0015](#ssc-ewi-ts0015): Data type not supported in Snowflake

## SSC-EWI-TS0044[¶](#ssc-ewi-ts0044 "Link to this heading")

FOR XML clause is not supported in Snowflake.

### Severity[¶](#id122 "Link to this heading")

Critical

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id123 "Link to this heading")

This EWI is added for the [FOR XML](https://docs.microsoft.com/en-us/sql/relational-databases/xml/for-xml-sql-server?view=sql-server-ver15) clause which is not supported in Snowflake SQL

#### Code Example[¶](#id124 "Link to this heading")

##### Input Code:[¶](#id125 "Link to this heading")

```
 SELECT TOP 1 LastName
FROM AdventureWorks2019.Person.Person
FOR XML AUTO;
```

Copy

##### Generated Code:[¶](#id126 "Link to this heading")

```
 SELECT TOP 1
LastName
FROM
AdventureWorks2019.Person.Person
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0044 - FOR XML AUTO CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
FOR XML AUTO;
```

Copy

#### Best Practices[¶](#id127 "Link to this heading")

* Consider using UDFs to emulate the behavior of the source code. The following code provides suggestions of UDFs that can be used to achieve recreating the original behavior:

SQL Server

##### Query[¶](#query "Link to this heading")

```
 CREATE TABLE TEMPTABLE (Ref INT, Des NVARCHAR(100), Qty INT)

INSERT INTO tempTable VALUES (100001, 'Normal', 1), (100002, 'Foobar', 1), (100003, 'Hello World', 2)

GO

-- FOR XML
SELECT *
FROM TempTable
FOR XML AUTO

GO
 
-- FOR XML RAW
SELECT *
FROM TempTable
FOR XML RAW
```

Copy

##### Result[¶](#result "Link to this heading")

```
 -- FOR XML
<TempTable Ref="100001" Des="Normal" Qty="1"/><TempTable Ref="100002" Des="Foobar" Qty="1"/><TempTable Ref="100003" Des="Hello World" Qty="2"/>

-- FOR XML RAW
<row Ref="100001" Des="Normal" Qty="1"/><row Ref="100002" Des="Foobar" Qty="1"/><row Ref="100003" Des="Hello World" Qty="2"/>
```

Copy

##### *Snowflake*[¶](#id128 "Link to this heading")

##### Query[¶](#id129 "Link to this heading")

```
 CREATE OR REPLACE TABLE TEMPTABLE (
Ref INT,
Des VARCHAR(100),
Qty INT
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
;

INSERT INTO tempTable VALUES (100001, 'Normal', 1), (100002, 'Foobar', 1), (100003, 'Hello World', 2);

-- FOR XML
SELECT
*
FROM
TempTable
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0044 - FOR XML AUTO CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
FOR XML AUTO;

-- FOR XML RAW
SELECT
*
FROM
TempTable
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0044 - FOR XML RAW CLAUSE IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
FOR XML RAW;
```

Copy

##### Result[¶](#id130 "Link to this heading")

```
 -- FOR XML
<TempTable DES="Normal" QTY="1" REF="100001"  /><TempTable DES="Foobar" QTY="1" REF="100002"  /><TempTable DES="Hello World" QTY="2" REF="100003"  />

-- FOR XML RAW
<row DES="Normal" QTY="1" REF="100001"  /><row DES="Foobar" QTY="1" REF="100002"  /><row DES="Hello World" QTY="2" REF="100003"  />
```

Copy

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0045[¶](#ssc-ewi-ts0045 "Link to this heading")

Labeled Statement is not supported in Snowflake Scripting.

### Severity[¶](#id131 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id132 "Link to this heading")

This EWI is added for all the LABELS used with the [GOTO](https://docs.microsoft.com/en-us/sql/t-sql/language-elements/goto-transact-sql?view=sql-server-ver15) statement in SQL Server.

#### Code Example[¶](#id133 "Link to this heading")

##### Input Code:[¶](#id134 "Link to this heading")

```
 CREATE PROCEDURE GoToProcedure
AS
BEGIN
DECLARE @TotalMaarks INT
SET @TotalMaarks = 49
IF @TotalMaarks >= 50
    GOTO Pass
IF @TotalMaarks < 50
    GOTO Fail
Pass:
    SELECT 1;
    SELECT * FROM TABLE1;
    RETURN 1;
Fail:
    SELECT 2;
    SELECT * FROM TABLE2;
    RETURN 2;
END
```

Copy

##### Generated Code:[¶](#id135 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE GoToProcedure ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        TOTALMAARKS INT;
    BEGIN
         
        TOTALMAARKS := 49;
        IF (:TOTALMAARKS >= 50) THEN
            !!!RESOLVE EWI!!! /*** SSC-EWI-0073 - PENDING FUNCTIONAL EQUIVALENCE REVIEW FOR 'GOTO' NODE ***/!!!
            GOTO Pass
        END IF;
        IF (:TOTALMAARKS < 50) THEN
            !!!RESOLVE EWI!!! /*** SSC-EWI-0073 - PENDING FUNCTIONAL EQUIVALENCE REVIEW FOR 'GOTO' NODE ***/!!!
            GOTO Fail
        END IF;
        !!!RESOLVE EWI!!! /*** SSC-EWI-TS0045 - LABELED STATEMENT IS NOT SUPPORTED IN SNOWFLAKE SCRIPTING ***/!!!
        Pass:
        SELECT 1;
    SELECT
            *
        FROM
            TABLE1;
        RETURN 1;

        !!!RESOLVE EWI!!! /*** SSC-EWI-TS0045 - LABELED STATEMENT IS NOT SUPPORTED IN SNOWFLAKE SCRIPTING ***/!!!
        Fail:
        SELECT 2;
    SELECT
            *
        FROM
            TABLE2;
        RETURN 2;

    END;
$$;
```

Copy

#### Best Practices[¶](#id136 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

### Related EWI[¶](#id137 "Link to this heading")

1. [SSC-EWI-0073](generalEWI.html#ssc-ewi-0073): Pending Functional Equivalence Review.

## SSC-EWI-TS0046[¶](#ssc-ewi-ts0046 "Link to this heading")

System table is not supported in Snowflake.

### Severity[¶](#id138 "Link to this heading")

Medium

#### Description[¶](#id139 "Link to this heading")

This EWI is added when referencing [SQL Server system tables](https://docs.microsoft.com/en-us/sql/relational-databases/system-catalog-views/object-catalog-views-transact-sql?view=sql-server-ver15) not supported or whithout equivalent in Snowflake SQL. [Click here](../../../../translation-references/transact/transact-system-tables) to see the complete list of supported and not supported system tables.

#### Code Example[¶](#id140 "Link to this heading")

##### Input Code:[¶](#id141 "Link to this heading")

```
 SELECT *
FROM 
    sys.all_sql_modules
WHERE 
    [STATE] = 0; -- state must be ONLINE
```

Copy

##### Generated Code:[¶](#id142 "Link to this heading")

```
 SELECT
    *
FROM
    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0046 - SYSTEM TABLE sys.all_sql_modules IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
    sys.all_sql_modules
WHERE
    STATE = 0; -- state must be ONLINE
```

Copy

#### Best Practices[¶](#id143 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0047[¶](#ssc-ewi-ts0047 "Link to this heading")

RAISERROR Error Message may differ because of the SQL Server string format.

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0019](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0019) documentation

### Severity[¶](#id144 "Link to this heading")

Low

#### Description[¶](#id145 "Link to this heading")

This EWI is added to notify that the RAISERROR Error Message may differ because of the SQL Server string format.

#### Code Example[¶](#id146 "Link to this heading")

##### Input Code:[¶](#id147 "Link to this heading")

```
 CREATE PROCEDURE RAISERROR_PROCEDURE 
AS
BEGIN
RAISERROR ('This is a sample error message with the first parameter %d and the second parameter %*.*s',
           10, 
           1,
           123,
	   7,
	   7,
	   'param2');
END
```

Copy

##### Generated Code:[¶](#id148 "Link to this heading")

```
 CREATE OR REPLACE PROCEDURE RAISERROR_PROCEDURE ()
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
	BEGIN
		!!!RESOLVE EWI!!! /*** SSC-EWI-TS0047 - RAISERROR ERROR MESSAGE MAY DIFFER BECAUSE OF THE SQL SERVER STRING FORMAT ***/!!!
		SELECT
			RAISERROR_UDF('This is a sample error message with the first parameter %d and the second parameter %*.*s',
			10,
			1, array_construct(
			123,
7,
7,
'param2'));
	END;
$$;
```

Copy

#### Best Practices[¶](#id149 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0049[¶](#ssc-ewi-ts0049 "Link to this heading")

Multiple Line If Body translation planned to be delivered in the future.

Note

Some parts in the output code are omitted for clarity reasons.

### Severity[¶](#id150 "Link to this heading")

Medium

#### Description[¶](#id151 "Link to this heading")

Most of the cases in`IF` statements that contain a `Begin ... End` block inside their body are supported. This is a successful scenario (no SSC-EWI-TS0049 generated).

#### Code Example[¶](#id152 "Link to this heading")

##### Input Code:[¶](#id153 "Link to this heading")

```
 CREATE OR ALTER FUNCTION [PURCHASING].[FOO](@status INT)
Returns INT
As
Begin
    declare @result as int = 10;
    SELECT @result = quantity FROM TABLE1 WHERE COL1 = @status;
    IF @result = 3
    BEGIN
        IF @result>0 SELECT @result=0  ELSE SELECT @result=1
        SELECT @result = 1 
    END
    return @result;
End
```

Copy

##### Generated Code:[¶](#id154 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-0068 - USER DEFINED FUNCTION WAS TRANSFORMED TO SNOWFLAKE PROCEDURE ***/!!!
--** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "TABLE1" **
CREATE OR REPLACE PROCEDURE PURCHASING.FOO (STATUS INT)
RETURNS VARCHAR
LANGUAGE SQL
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/14/2025",  "domain": "no-domain-provided" }}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        RESULT INT := 10;
    BEGIN
         
        SELECT
            quantity
        INTO
            :RESULT
        FROM
            TABLE1
        WHERE
            COL1 = :STATUS;
        IF (:RESULT = 3) THEN
            BEGIN
                IF (:RESULT >0) THEN SELECT
                        0
                    INTO
                        :RESULT;
                ELSE
                    SELECT
                        1
                    INTO
                        :RESULT;
                END IF;
        SELECT
                    1
                INTO
                    :RESULT;
            END;
        END IF;
        RETURN :RESULT;
    END;
$$;
```

Copy

Note

In a general code example (Like the on top) the conversion is done successfully. But there are some edge cases where the “IF” statement is not converted and the EWI will be generated.

#### Manual Support[¶](#manual-support "Link to this heading")

##### Case 1: Single Statement[¶](#case-1-single-statement "Link to this heading")

For these cases, the transformation would be straightforward, since the transformed statement would appear in a select clause

```
 IF @result = 0
BEGIN 
    SET @result =1
END
```

Copy

```
 CASE WHEN (SELECT RESULT FROM CTE2)= 0 THEN
( SELECT 1 AS RESULT )
```

Copy

##### Case 2: Multiple Statements[¶](#case-2-multiple-statements "Link to this heading")

For cases in which multiple statements are being transformed, we should transform the N Statement, and use it as the source table for the N+1 Statement.

```
 IF @result = 0
BEGIN 
    Statement1
    Statement2
    Statement3
END
```

Copy

```
 CASE WHEN (SELECT RESULT FROM CTE2)= 0 THEN
(
    SELECT TransformedStatement3
    FROM (
        SELECT TransformedStatement2
        FROM (
            SELECT TransformedStatement1
        ) T1
    ) T2
)
```

Copy

##### Case 3: Multiple set statements[¶](#case-3-multiple-set-statements "Link to this heading")

For these cases, it will be necessary to replicate a transformation for each set statement.

```
 IF @result = 0
BEGIN 
    SET @var1 = 1
    SET @var2 = 3
    SET @var3 = @var2
END
```

Copy

```
 WITH CTE1 AS (
    SELECT 
        CASE WHEN (SELECT
                        RESULT
                    FROM
                        CTE0) = 0 THEN
        (SELECT 1) AS VAR1)
WITH CTE2 AS (
    SELECT
        CASE WHEN (SELECT
                        RESULT
                    FROM
                        CTE0)= 0 THEN
        (SELECT 3) AS VAR2)
WITH CTE3 AS (
    SELECT
        CASE WHEN (SELECT
                        RESULT
                    FROM
                        CTE0)= 0 THEN
        (SELECT T1.VAR2 
        FROM ((SELECT 3) AS VAR2) AS T1) AS VAR3) 
...
```

Copy

#### Best Practices[¶](#id155 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0055[¶](#ssc-ewi-ts0055 "Link to this heading")

Default constraint was commented out and may have been added to a table definition.

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0020](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0020) documentation.

### Severity[¶](#id156 "Link to this heading")

Medium

#### Description[¶](#id157 "Link to this heading")

This EWI is added when the default constraint is present in an Alter Table statement.

Currently, there is no support for that constraint. A workaround available to transform it, is when the table is previously defined to the Alter Table, in this way we identify the references, and the default constraint is unified on the table definition; otherwise, the constraint is only commented out.

#### Code Example[¶](#id158 "Link to this heading")

##### Input Code:[¶](#id159 "Link to this heading")

```
 CREATE TABLE table1(
  col1 integer,
  col2 varchar collate Latin1_General_CS,
  col3 date
);

ALTER TABLE table1
ADD col4 integer,
  CONSTRAINT col1_constraint DEFAULT 50 FOR col1,
  CONSTRAINT col1_constraint DEFAULT 30 FOR col1;
```

Copy

##### Generated Code:[¶](#id160 "Link to this heading")

```
 CREATE OR REPLACE TABLE table1 (
  col1 INTEGER DEFAULT 50,
  col2 VARCHAR COLLATE 'EN-CS',
  col3 DATE
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
;

ALTER TABLE table1
ADD col4 INTEGER,
  CONSTRAINT col1_constraint
                             !!!RESOLVE EWI!!! /*** SSC-EWI-TS0055 - DEFAULT CONSTRAINT MAY HAVE BEEN ADDED TO TABLE DEFINITION ***/!!!
                             DEFAULT 50 FOR col1,
  CONSTRAINT col1_constraint
                             !!!RESOLVE EWI!!! /*** SSC-EWI-TS0055 - DEFAULT CONSTRAINT MAY HAVE BEEN ADDED TO TABLE DEFINITION ***/!!!
                             DEFAULT 30 FOR col1;
```

Copy

Note

If all the content of the Alter Table is invalid, the Alter Table will be commented out.

#### Known Issues[¶](#known-issues "Link to this heading")

When different default constraints are declared over the same column, only the first will be reflected on the Create Table Statement.

#### Best Practices[¶](#id161 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0056[¶](#ssc-ewi-ts0056 "Link to this heading")

A MASKING POLICY was created as a substitute for MASKED WITH.

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0021](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0021) documentation

### Severity[¶](#id162 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id163 "Link to this heading")

This EWI is added when the Alter Table statement contains a MASKED WITH clause. The reason this is added is to inform that an approximate MASKING POLICY was created as a substitute for the MASKED WITH function.

#### Code Example[¶](#id164 "Link to this heading")

##### Input Code:[¶](#id165 "Link to this heading")

```
 ALTER TABLE table_name
ALTER COLUMN column_name
ADD MASKED WITH (FUNCTION = 'default()');
```

Copy

##### Generated Code:[¶](#id166 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0057 - MASKING ROLE MUST BE DEFINED PREVIOUSLY BY THE USER ***/!!!
CREATE OR REPLACE MASKING POLICY "default" AS
(val STRING)
RETURNS STRING ->
CASE
WHEN current_role() IN ('YOUR_DEFINED_ROLE_HERE')
THEN val
ELSE 'xxxxx'
END;

ALTER TABLE IF EXISTS table_name MODIFY COLUMN column_name!!!RESOLVE EWI!!! /*** SSC-EWI-TS0056 - A MASKING POLICY WAS CREATED AS SUBSTITUTE FOR MASKED WITH ***/!!!  SET MASKING POLICY "default";
```

Copy

Note

The MASKING POLICY will be created previous to the ALTER TABLE statement. And it is expected to have and approximate behaviour. Some tweaks might be needed in regards to roles and user privileges. <!– TODO: You can relate to Broken link broken-reference “mention” for further details.>

#### Best Practices[¶](#id167 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0057[¶](#ssc-ewi-ts0057 "Link to this heading")

The user must previously define the masking role.

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0022](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0022) documentation

### Severity[¶](#id168 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id169 "Link to this heading")

This is EWI occurs when a MASKING POLICY is created and a role or privilege must be linked to it so the data masking could work properly.

#### Code Example[¶](#id170 "Link to this heading")

##### Input code[¶](#id171 "Link to this heading")

```
 ALTER TABLE tableName
ALTER COLUMN columnName
ADD MASKED WITH (FUNCTION = 'partial(1, "xxxxx", 1)');
```

Copy

##### Generated Code:[¶](#id172 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0057 - MASKING ROLE MUST BE DEFINED PREVIOUSLY BY THE USER ***/!!!
CREATE OR REPLACE MASKING POLICY "partial_1_xxxxx_1" AS
(val STRING)
RETURNS STRING ->
CASE
WHEN current_role() IN ('YOUR_DEFINED_ROLE_HERE')
THEN val
ELSE LEFT(val, 1) || 'xxxxx' || RIGHT(val, 1)
END;

ALTER TABLE IF EXISTS tableName MODIFY COLUMN columnName!!!RESOLVE EWI!!! /*** SSC-EWI-TS0056 - A MASKING POLICY WAS CREATED AS SUBSTITUTE FOR MASKED WITH ***/!!!  SET MASKING POLICY "partial_1_xxxxx_1";
```

Copy

Note

As shown on line 6, there is a placeholder where the defined roles can be placed. There is room for one or several values separated by commas. Also, here, the use of single qoutes is mandatory for each of the values.

#### Best Practices[¶](#id173 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0060[¶](#ssc-ewi-ts0060 "Link to this heading")

Datetime interval not supported by Snowflake.

### Severity[¶](#id174 "Link to this heading")

Medium

#### Description[¶](#id175 "Link to this heading")

This EWI is added when one of the following time parts is used as a parameter for a date-related function because they are not supported in Snowflake. For more information go to ‘supported date time parts ([Date & Time Functions | Snowflake Documentation](https://docs.snowflake.com/en/sql-reference/functions-date-time#label-supported-date-time-parts)).

#### Code Example[¶](#id176 "Link to this heading")

##### Input code[¶](#id177 "Link to this heading")

```
 SELECT
    -- Supported
    DATEPART(second, getdate()),
    -- Not supported
    DATEPART(millisecond, getdate()),
    DATEPART(microsecond, getdate());
```

Copy

##### Generated Code:[¶](#id178 "Link to this heading")

```
 SELECT
    -- Supported
    DATE_PART(second, CURRENT_TIMESTAMP() :: TIMESTAMP),
    -- Not supported
    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0060 - TIME PART 'millisecond' NOT SUPPORTED AS A FUNCTION PARAMETER ***/!!!
    DATEPART(millisecond, CURRENT_TIMESTAMP() :: TIMESTAMP),
    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0060 - TIME PART 'microsecond' NOT SUPPORTED AS A FUNCTION PARAMETER ***/!!!
    DATEPART(microsecond, CURRENT_TIMESTAMP() :: TIMESTAMP);
```

Copy

#### Best Practices[¶](#id179 "Link to this heading")

* An UDF could be created to manually extract unsupported time parts in Snowflake.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0061[¶](#ssc-ewi-ts0061 "Link to this heading")

ALTER COLUMN not supported

### Severity[¶](#id180 "Link to this heading")

Medium

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id181 "Link to this heading")

This EWI is added whenever there is an unsupported ALTER COLUMN statement

#### Code Example[¶](#id182 "Link to this heading")

##### Input Code:[¶](#id183 "Link to this heading")

```
 ALTER TABLE SampleTable
ALTER COLUMN SampleColumn INT NULL SPARSE;
```

Copy

##### Generated Code:[¶](#id184 "Link to this heading")

```
 ALTER TABLE IF EXISTS SampleTable
ALTER COLUMN SampleColumn
                          !!!RESOLVE EWI!!! /*** SSC-EWI-TS0061 - ALTER COLUMN COMMENTED OUT BECAUSE SPARSE COLUMN IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
                          INT NULL SPARSE;
```

Copy

#### Best Practices[¶](#id185 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0063[¶](#ssc-ewi-ts0063 "Link to this heading")

Time zone not supported in Snowflake.

### Severity[¶](#id186 "Link to this heading")

Critical

#### Description[¶](#id187 "Link to this heading")

This EWI is added when there are Time zones that are not supported in Snowflake

#### Code Example[¶](#id188 "Link to this heading")

##### Input Code:[¶](#id189 "Link to this heading")

```
 SELECT current_timestamp at time zone 'Turks And Caicos Standard Time';
```

Copy

##### Generated Code:[¶](#id190 "Link to this heading")

```
 SELECT
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0063 - TIME ZONE NOT SUPPORTED IN SNOWFLAKE ***/!!!
CURRENT_TIMESTAMP() at time zone 'Turks And Caicos Standard Time'
                                                                 ;
```

Copy

#### Best Practices[¶](#id191 "Link to this heading")

* A user defined function can be created to support multiple timezones.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0067[¶](#ssc-ewi-ts0067 "Link to this heading")

Invalid parameters in OPENXML table-valued function.

### Severity[¶](#id192 "Link to this heading")

Critical

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id193 "Link to this heading")

This EWI is added when there are invalid parameters in the OPENXML, specifically when the XML path cannot be accessed.

To avoid this EWI, please send the explicit node path through the parameters.

##### Input Code:[¶](#id194 "Link to this heading")

```
 SELECT
    *
FROM
    OPENXML (@idoc, @path, 1) WITH (
        CustomerID VARCHAR(10),
        ContactName VARCHAR(20)
    );
```

Copy

##### Generated Code:[¶](#id195 "Link to this heading")

```
 SELECT
    *
FROM
    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0067 - INVALID PARAMETERS IN OPENXML TABLE-VALUED FUNCTION ***/!!!
    OPENXML(@idoc, @path, 1);
```

Copy

##### Input code (Explicit parameter)[¶](#input-code-explicit-parameter "Link to this heading")

```
 SELECT
    *
FROM
    OPENXML (@idoc, '/ROOT/Customer', 1) WITH(
        CustomerID VARCHAR(10),
        ContactName VARCHAR(20)
    );
```

Copy

##### Generated Code (Explicit parameter)[¶](#generated-code-explicit-parameter "Link to this heading")

```
 SELECT
    Left(value:Customer['@CustomerID'], '10') AS 'CustomerID',
    Left(value:Customer['@ContactName'], '20') AS 'ContactName'
FROM
    OPENXML_UDF($idoc, ':ROOT:Customer');
```

Copy

#### Best Practices[¶](#id196 "Link to this heading")

* Try to see if the path can be explicitly passed as a parameter.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0070[¶](#ssc-ewi-ts0070 "Link to this heading")

CURRENT\_TIMESTAMP in At Time Zone statement may have a different behavior in certain cases.

Note

This `EWI` is deprecated, please refer to [SSC-FDM-TS0024](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0024) documentation.

### Description[¶](#id197 "Link to this heading")

This EWI is added when the At Time Zone has the CURRENT\_TIMESTAMP. This is because the result may have different results in some instances.

The main difference is that in SQL Server, CURRENT\_TIMESTAMP returns the current system date and time in the server time zone and in Snowflake CURRENT\_TIMESTAMP returns the current date and time in the UTC (Coordinated Universal Time) time zone.

#### Input Code:[¶](#id198 "Link to this heading")

##### Sql Server[¶](#id199 "Link to this heading")

```
 SELECT current_timestamp at time zone 'Hawaiian Standard Time';
```

Copy

##### Result[¶](#id200 "Link to this heading")

`2024-02-08 16:52:55.317 -10:00`

##### Generated Code:[¶](#id201 "Link to this heading")

##### Snowflake[¶](#id202 "Link to this heading")

```
 SELECT
CONVERT_TIMEZONE('Pacific/Honolulu', CURRENT_TIMESTAMP() !!!RESOLVE EWI!!! /*** SSC-EWI-TS0070 - CURRENT_TIMESTAMP in At Time Zone statement may have a different behavior in certain cases ***/!!!);
```

Copy

##### Result[¶](#id203 "Link to this heading")

`2024-02-08 06:53:46.994 -1000`

#### Best Practices[¶](#id204 "Link to this heading")

This is an example if you want to keep the same format in Snowflake.

##### SQL Server[¶](#id205 "Link to this heading")

```
 SELECT current_timestamp at time zone 'Hawaiian Standard Time';
```

Copy

##### Result[¶](#id206 "Link to this heading")

`2024-02-08 16:33:49.143 -10:00`

In Snowflake you can use [ALTER SESSION](https://docs.snowflake.com/en/sql-reference/sql/alter-session) to change the default time zone. For example:

##### Snowflake[¶](#id207 "Link to this heading")

```
 ALTER SESSION SET TIMEZONE = 'Pacific/Honolulu';

SELECT
CONVERT_TIMEZONE('Pacific/Honolulu', 'UTC', CURRENT_TIMESTAMP());
```

Copy

##### Result[¶](#id208 "Link to this heading")

`2024-02-08 16:33:49.143`

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0072[¶](#ssc-ewi-ts0072 "Link to this heading")

RETURN statement will be ignored due to previous RETURN statement

### Severity[¶](#id209 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id210 "Link to this heading")

This EWI is added when SELECT statements and OUPUT parameters should be returned. In this case, the resultsets from the SELECT statements are prioritized.

##### Input Code:[¶](#id211 "Link to this heading")

```
 CREATE PROCEDURE SOMEPROC(@product_count INT OUTPUT,  @123 INT OUTPUT)
AS
BEGIN
		SELECT * from AdventureWorks.HumanResources.Department;
        SELECT * from AdventureWorks.HumanResources.Employee;
END
```

Copy

##### Generated Code:[¶](#id212 "Link to this heading")

```
--** SSC-FDM-0007 - MISSING DEPENDENT OBJECTS "AdventureWorks.HumanResources.Department", "AdventureWorks.HumanResources.Employee" **
CREATE OR REPLACE PROCEDURE SOMEPROC (PRODUCT_COUNT OUT INT, _123 OUT INT)
RETURNS ARRAY
LANGUAGE SQL
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/16/2025",  "domain": "no-domain-provided" }}'
EXECUTE AS CALLER
AS
$$
	DECLARE
		ProcedureResultSet1 VARCHAR;
		ProcedureResultSet2 VARCHAR;
		return_arr ARRAY := array_construct();
	BEGIN
		ProcedureResultSet1 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
		CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet1) AS
			SELECT
				*
			from
				AdventureWorks.HumanResources.Department;
		return_arr := array_append(return_arr, :ProcedureResultSet1);
		ProcedureResultSet2 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
		CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet2) AS
			SELECT
				*
			from
				AdventureWorks.HumanResources.Employee;
		return_arr := array_append(return_arr, :ProcedureResultSet2);
		--** SSC-FDM-0020 - MULTIPLE RESULT SETS ARE RETURNED IN TEMPORARY TABLES **
		RETURN return_arr;
	END;
$$;
```

Copy

#### Best Practices[¶](#id213 "Link to this heading")

* Remove the RETURN statement that should be ignored.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

### Related EWI[¶](#id214 "Link to this heading")

1. [SSC-FDM-0020](../functional-difference/generalFDM.html#ssc-fdm-0020): Multiple result sets are returned in temporary tables;

## SSC-EWI-TS0073[¶](#ssc-ewi-ts0073 "Link to this heading")

Error message could be different in snowflake

Note

This EWI is deprecated, please refer to [SSC-FDM-TS0023](../functional-difference/sqlServerFDM.html#ssc-fdm-ts0023) documentation

### Severity[¶](#id215 "Link to this heading")

Low

#### Description[¶](#id216 "Link to this heading")

This EWI is added in the transformation of ERROR\_MESSAGE(). The exact message of the error could change in Snowflake.

##### Input Code:[¶](#id217 "Link to this heading")

```
 SET @varErrorMessage = ERROR_MESSAGE()
```

Copy

##### Generated Code[¶](#id218 "Link to this heading")

```
 BEGIN
VARERRORMESSAGE := SQLERRM !!!RESOLVE EWI!!! /*** SSC-EWI-TS0073 - ERROR MESSAGE COULD BE DIFFERENT IN SNOWFLAKE ***/!!!;
END;
```

Copy

#### Recommendation[¶](#recommendation "Link to this heading")

If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com).

## SSC-EWI-TS0074[¶](#ssc-ewi-ts0074 "Link to this heading")

Cast result may be different from TRY\_CAST/TRY\_CONVERT function due to missing dependencies

### Severity[¶](#id219 "Link to this heading")

Low

Note

Some parts of the output code are omitted for clarity reasons.

#### Description[¶](#id220 "Link to this heading")

This EWI is added in the transformation of TRY\_CAST and TRY\_CONVERT functions. The exact result of these functions may change in Snowflake due to missing dependencies (SnowConvert AI couldn’t resolve some data types). This could be because the dependency was not in the source code.

##### Input Code:[¶](#id221 "Link to this heading")

```
 SELECT TRY_CONVERT( INT, col1) FROM TABLE1;

SELECT TRY_CAST(COL1 AS FLOAT) FROM TABLE1
```

Copy

##### Generated Code[¶](#id222 "Link to this heading")

```
 SELECT
CAST(col1 AS INT) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/!!!RESOLVE EWI!!! /*** SSC-EWI-TS0074 - CAST RESULT MAY BE DIFFERENT FROM TRY_CONVERT FUNCTION DUE TO MISSING DEPENDENCIES ***/!!!
FROM
TABLE1;

SELECT
CAST(COL1 AS FLOAT) /*** SSC-FDM-TS0005 - TRY_CONVERT/TRY_CAST COULD NOT BE CONVERTED TO TRY_CAST ***/!!!RESOLVE EWI!!! /*** SSC-EWI-TS0074 - CAST RESULT MAY BE DIFFERENT FROM TRY_CAST FUNCTION DUE TO MISSING DEPENDENCIES ***/!!!
FROM
TABLE1;
```

Copy

#### Recommendation[¶](#id223 "Link to this heading")

If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com).

## SSC-EWI-TS0075[¶](#ssc-ewi-ts0075 "Link to this heading")

Built In Procedure Not Supported

### Severity[¶](#id224 "Link to this heading")

Medium

#### Description[¶](#id225 "Link to this heading")

Translation for built-in procedures is not currently supported.

#### Example Code[¶](#id226 "Link to this heading")

##### Input Code:[¶](#id227 "Link to this heading")

```
 EXEC sp_column_privileges_rowset_rmt 'Caption';
```

Copy

##### Generated Code:[¶](#id228 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0075 - TRANSLATION FOR BUILT-IN PROCEDURE 'sp_column_privileges_rowset_rmt' IS NOT CURRENTLY SUPPORTED. ***/!!!
EXEC sp_column_privileges_rowset_rmt 'Caption';
```

Copy

#### Best Practices[¶](#id229 "Link to this heading")

* No end-user actions are required.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0076[¶](#ssc-ewi-ts0076 "Link to this heading")

Default Parameters May Need To Be Reordered

Note

This EWI is deprecated, please refer to [SSC-EWI-0002](generalEWI.html#ssc-ewi-0002) documentation

### Severity[¶](#id230 "Link to this heading")

Medium

#### Description[¶](#id231 "Link to this heading")

Default parameters may need to be reordered. Snowflake only supports default parameters at the end of the parameters declarations.

#### Example Code[¶](#id232 "Link to this heading")

##### Input Code:[¶](#id233 "Link to this heading")

```
 CREATE PROCEDURE MySampleProc
    @Param1 NVARCHAR(50) = NULL,
    @Param2 NVARCHAR(10),
    @Param3 NVARCHAR(10) = NULL,
    @Param4 NVARCHAR(10)
AS   
    SELECT 1;
```

Copy

##### Generated Code:[¶](#id234 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0076 - DEFAULT PARAMETERS MAY NEED TO BE REORDERED. SNOWFLAKE ONLY SUPPORTS DEFAULT PARAMETERS AT THE END OF THE PARAMETERS DECLARATIONS. ***/!!!
CREATE OR REPLACE PROCEDURE MySampleProc (PARAM1 STRING DEFAULT NULL, PARAM2 STRING, PARAM3 STRING DEFAULT NULL, PARAM4 STRING)
RETURNS TABLE()
LANGUAGE SQL
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},{"attributes":{"component":"transact"}}'
EXECUTE AS CALLER
AS
$$
    DECLARE
        ProcedureResultSet RESULTSET;
    BEGIN
        ProcedureResultSet := (
        SELECT 1);
        RETURN TABLE(ProcedureResultSet);
    END;
$$;
```

Copy

#### Best Practices[¶](#id235 "Link to this heading")

* No end-user actions are required.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0077[¶](#ssc-ewi-ts0077 "Link to this heading")

Collation Not Supported

### Severity[¶](#id236 "Link to this heading")

Low

#### Description[¶](#id237 "Link to this heading")

This message is shown when there is a collate clause that is not supported in Snowflake.

#### Code example[¶](#id238 "Link to this heading")

##### Input Code:[¶](#id239 "Link to this heading")

```
 SELECT 'a' COLLATE Albanian_BIN;

SELECT 'a' COLLATE Albanian_CI_AI;

CREATE TABLE ExampleTable (
    ID INT,
    Name VARCHAR(50) COLLATE collateName
);
```

Copy

##### Generated Code:[¶](#id240 "Link to this heading")

```
 SELECT 'a'
--           !!!RESOLVE EWI!!! /*** SSC-EWI-TS0077 - COLLATION Albanian_BIN NOT SUPPORTED ***/!!!
-- COLLATE Albanian_BIN
                     ;

SELECT 'a'
--           !!!RESOLVE EWI!!! /*** SSC-EWI-TS0077 - COLLATION Albanian_CI_AI NOT SUPPORTED ***/!!!
-- COLLATE Albanian_CI_AI
                       ;

CREATE OR REPLACE TABLE ExampleTable (
    ID INT,
    Name VARCHAR(50)
--                     !!!RESOLVE EWI!!! /*** SSC-EWI-TS0077 - COLLATION collateName NOT SUPPORTED ***/!!!
-- COLLATE collateName
)
COMMENT = '{"origin":"sf_sc","name":"snowconvert","version":{"major":1, "minor":0},"attributes":{"component":"transact"}}'
;
```

Copy

#### Best Practices[¶](#id241 "Link to this heading")

* No additional user actions are required.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0078[¶](#ssc-ewi-ts0078 "Link to this heading")

Default value not allowed in Snowflake.

### Severity[¶](#id242 "Link to this heading")

Medium

#### Description[¶](#id243 "Link to this heading")

This error is added to the code when expressions like function calls, variable names, or named constants follow the default option.

Snowflake only supports explicit constants like numbers or strings.

#### Code Example[¶](#id244 "Link to this heading")

##### Input Code:[¶](#id245 "Link to this heading")

```
 ALTER TABLE
    T_ALTERTABLETEST
ADD
    COLUMN COL10 INTEGER DEFAULT RANDOM(10);
```

Copy

##### Generated Code:[¶](#id246 "Link to this heading")

```
 --** SSC-FDM-0007 - MISSING DEPENDENT OBJECTS "T_ALTERTABLETEST", "RANDOM" **
ALTER TABLE IF EXISTS T_ALTERTABLETEST
ADD
    COLUMN COL10 INTEGER
                         !!!RESOLVE EWI!!! /*** SSC-EWI-TS0078 - DEFAULT OPTION NOT ALLOWED IN SNOWFLAKE ***/!!!
                         DEFAULT RANDOM(10);
```

Copy

##### [¶](#id247 "Link to this heading")

#### Best Practices[¶](#id248 "Link to this heading")

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0079[¶](#ssc-ewi-ts0079 "Link to this heading")

Database console command is not supported

### Severity[¶](#id249 "Link to this heading")

Medium

#### Description[¶](#id250 "Link to this heading")

This EWI is added when SnowConvert AI finds a DBCC statement inside the input code.  
Most DBCC statements are not supported in Snowflake.

#### Code Example[¶](#id251 "Link to this heading")

##### Input Code:[¶](#id252 "Link to this heading")

```
 DBCC CHECKIDENT(@a, RESEED, @b) WITH NO_INFOMSGS
```

Copy

##### Generated Code:[¶](#id253 "Link to this heading")

```
 !!!RESOLVE EWI!!! /*** SSC-EWI-TS0079 - DATABASE CONSOLE COMMAND 'CHECKIDENT' IS NOT SUPPORTED. ***/!!!
DBCC CHECKIDENT(@a, RESEED, @b) WITH NO_INFOMSGS;
```

Copy

#### Best Practices[¶](#id254 "Link to this heading")

* No additional user actions are required; it is just informative.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0080[¶](#ssc-ewi-ts0080 "Link to this heading")

Changing the execution context at runtime is not supported in Snowflake

### Severity[¶](#id255 "Link to this heading")

High

#### Description[¶](#id256 "Link to this heading")

Users in SQL Server can use the command `EXECUTE AS` to temporarily change the execution context, this modifies the execution privileges and affects the results of context-dependent functions like `USER_NAME()`. The `REVERT` command can be used to restore the context previous to the last `EXECUTE AS`.

Snowflake only supports the definition of an execution context in procedures, using either the `CREATE PROCEDURE` or `ALTER PROCEDURE` statements. Changing the context at runtime is not supported.

#### Code Example[¶](#id257 "Link to this heading")

Input Code:

```
 CREATE PROCEDURE proc1()
WITH EXECUTE AS OWNER
AS
BEGIN
	SELECT USER_NAME();
	EXECUTE AS CALLER;
	SELECT USER_NAME();
	REVERT;
	SELECT USER_NAME();
END

GO
```

Copy

Output Code:

```
 CREATE OR REPLACE PROCEDURE proc1 ()
RETURNS ARRAY
LANGUAGE SQL
COMMENT = '{ "origin": "sf_sc", "name": "snowconvert", "version": {  "major": 0,  "minor": 0,  "patch": "0" }, "attributes": {  "component": "transact",  "convertedOn": "07/05/2024" }}'
EXECUTE AS OWNER
AS
$$
	DECLARE
		ProcedureResultSet1 VARCHAR;
		ProcedureResultSet2 VARCHAR;
		ProcedureResultSet3 VARCHAR;
		return_arr ARRAY := array_construct();
	BEGIN
		ProcedureResultSet1 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
		CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet1) AS
			SELECT
				CURRENT_USER();
		return_arr := array_append(return_arr, :ProcedureResultSet1);
		!!!RESOLVE EWI!!! /*** SSC-EWI-TS0080 - CHANGING THE EXECUTION CONTEXT AT RUNTIME IS NOT SUPPORTED IN SNOWFLAKE. ***/!!!
	EXECUTE AS CALLER;
		ProcedureResultSet2 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
		CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet2) AS
			SELECT
				CURRENT_USER();
		return_arr := array_append(return_arr, :ProcedureResultSet2);
		!!!RESOLVE EWI!!! /*** SSC-EWI-TS0080 - CHANGING THE EXECUTION CONTEXT AT RUNTIME IS NOT SUPPORTED IN SNOWFLAKE. ***/!!!
	REVERT;
		ProcedureResultSet3 := 'RESULTSET_' || REPLACE(UPPER(UUID_STRING()), '-', '_');
		CREATE OR REPLACE TEMPORARY TABLE IDENTIFIER(:ProcedureResultSet3) AS
			SELECT
				CURRENT_USER();
		return_arr := array_append(return_arr, :ProcedureResultSet3);
		--** SSC-FDM-0020 - MULTIPLE RESULT SETS ARE RETURNED IN TEMPORARY TABLES **
		RETURN return_arr;
	END;
$$;
```

Copy

#### Best Practices[¶](#id258 "Link to this heading")

* Refactor the code so it works without having to switch the context.
* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0081[¶](#ssc-ewi-ts0081 "Link to this heading")

Using a full join in a delete statement is not supported

### Description[¶](#id259 "Link to this heading")

When transforming the DELETE statement, SnowConvert AI extracts the table references found in the FROM clause of the statement and moves them to the USING clause of the Snowflake delete statement.

In order to preserve the LEFT and RIGHT JOINs used in the original code, outer join syntax (+) is added to the conditions to indicate such behavior. However, [the (+) syntax can not be used to indicate FULL JOINs](https://docs.snowflake.com/en/sql-reference/constructs/where#joins-in-the-where-clause) in Snowflake, this EWI is used to warn the user about this limitation.

#### Example code[¶](#id260 "Link to this heading")

##### Input Code :[¶](#id261 "Link to this heading")

```
DELETE Employees
FROM Employees FULL OUTER JOIN Departments
ON Employees.DepartmentID = Departments.DepartmentID
WHERE Departments.DepartmentID IS NULL;
```

Copy

##### Generated Code:[¶](#id262 "Link to this heading")

```
!!!RESOLVE EWI!!! /*** SSC-EWI-TS0081 - USING A FULL JOIN IN A DELETE STATEMENT IS NOT SUPPORTED IN SNOWFLAKE ***/!!!
DELETE FROM
Employees
USING Departments
WHERE
Departments.DepartmentID IS NULL
AND Employees.DepartmentID = Departments.DepartmentID;
```

Copy

#### Best Practices[¶](#id263 "Link to this heading")

* Check the logic of your FULL JOIN, it might be possible to rewrite it as other type of JOIN. For example, the code included in the example code is essentially the same as a LEFT JOIN:

Input:

```
DELETE Employees
FROM Employees LEFT OUTER JOIN Departments
ON Employees.DepartmentID = Departments.DepartmentID
WHERE Departments.DepartmentID IS NULL;
```

Copy

Output:

```
 DELETE FROM
    Employees
USING Departments
WHERE
    Departments.DepartmentID IS NULL
    AND Employees.DepartmentID = Departments.DepartmentID(+);
```

Copy

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0082[¶](#ssc-ewi-ts0082 "Link to this heading")

CROSS APPLY has been converted to LEFT OUTER JOIN and requires manual validation.

### Description[¶](#id264 "Link to this heading")

Manual validation is required because the conversion from CROSS APPLY to LEFT OUTER JOIN can lead to incorrect results or unexpected behavior in Snowflake. While the two functions might seem similar, they handle certain situations differently, especially when the subquery has no matches or the subquery is correlated with the outer table.

#### Example code[¶](#id265 "Link to this heading")

##### Setup Data[¶](#setup-data "Link to this heading")

```
-- Create a table to store monthly sales or metric data
CREATE TABLE sales_metrics (
    metric_id INT PRIMARY KEY,
    january_value VARCHAR(35),
    february_value VARCHAR(35),
    march_value VARCHAR(35)
);

-- Insert sample data
INSERT INTO sales_metrics (metric_id, january_value, february_value, march_value) VALUES
(1, 'sales-jan-1', 'sales-feb-1', 'sales-march-1'),
(2, 'sales-jan-2', 'sales-feb-2', 'sales-march-2');
```

Copy

##### Input Code :[¶](#id266 "Link to this heading")

```
SELECT
    m.metric_id,
    monthly_data.metric_value,
    monthly_data.month_number
FROM
    sales_metrics m
CROSS APPLY (
    SELECT m.january_value AS metric_value, '01' AS month_number
    UNION ALL
    SELECT m.february_value AS metric_value, '02' AS month_number
    UNION ALL
    SELECT m.march_value AS metric_value, '03' AS month_number
) AS monthly_data;
```

Copy

##### Generated Code:[¶](#id267 "Link to this heading")

```
SELECT
    m.metric_id,
    monthly_data.metric_value,
    monthly_data.month_number
FROM
    sales_metrics m
    !!!RESOLVE EWI!!! /*** SSC-EWI-TS0082 - CROSS APPLY HAS BEEN CONVERTED TO LEFT OUTER JOIN AND REQUIRES MANUAL VALIDATION. ***/!!!
    LEFT OUTER JOIN
        (
               SELECT
                m.january_value AS metric_value, '01' AS month_number
               UNION ALL
               SELECT
                m.february_value AS metric_value, '02' AS month_number
               UNION ALL
               SELECT
                m.march_value AS metric_value, '03' AS month_number
           ) AS monthly_data;
```

Copy

#### Best Practices[¶](#id268 "Link to this heading")

### Key Scenarios Where LEFT OUTER JOIN May Fail[¶](#key-scenarios-where-left-outer-join-may-fail "Link to this heading")

* **Filtering Behavior:** If the original `CROSS APPLY` was intended to filter out rows from the main table that have no matches in the subquery, a `LEFT OUTER JOIN` will not replicate this behavior. Instead, it will include those rows with `NULL` values for the joined columns, which may not be the intended result.
* **Correlated Subqueries:** `CROSS APPLY` is specifically designed to support correlated subqueries, where the subquery references columns from the outer query. A standard `LEFT OUTER JOIN` does not support this pattern in the same way. Attempting to convert a correlated `CROSS APPLY` to a `LEFT OUTER JOIN` can lead to syntax errors, Cartesian products (duplicate rows), or logically incorrect results.
* **Result Set Differences:** The semantics of `CROSS APPLY` and `LEFT OUTER JOIN` differ, especially when the subquery returns no rows. `CROSS APPLY` will exclude such rows from the result, while `LEFT OUTER JOIN` will include them with `NULL` values.

**Recommendation:** Always review and test the output of queries where `CROSS APPLY` has been converted to `LEFT OUTER JOIN` to ensure correctness.

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

## SSC-EWI-TS0083[¶](#ssc-ewi-ts0083 "Link to this heading")

### Error Message[¶](#error-message "Link to this heading")

**ROLLBACK TRANSACTION requires the appropriate setup to work as intended.**

### Severity[¶](#id269 "Link to this heading")

**Low**

### Description[¶](#id270 "Link to this heading")

This EWI is generated when a `ROLLBACK TRANSACTION` statement is encountered, indicating that SnowConvert has successfully transformed the statement into a Snowflake-compatible format. However, the transformation requires manual verification because Snowflake’s transaction rollback behavior differs significantly from SQL Server’s `ROLLBACK TRANSACTION` functionality.

### Example Code[¶](#id271 "Link to this heading")

#### Input (SQL Server):[¶](#input-sql-server "Link to this heading")

```
BEGIN TRANSACTION MyTransaction;

    -- Some operations
    INSERT INTO Employees (Name, Department) VALUES ('Alice', 'Engineering');

    IF @@ERROR <> 0
    BEGIN
        ROLLBACK TRANSACTION MyTransaction;  -- Named transaction rollback
    END
    ELSE
    BEGIN
        COMMIT TRANSACTION MyTransaction;
    END
```

Copy

#### Output (Snowflake Scripting):[¶](#output-snowflake-scripting "Link to this heading")

```
BEGIN
    !!!RESOLVE EWI!!! /*** SSC-EWI-0073 - PENDING FUNCTIONAL EQUIVALENCE REVIEW FOR 'BeginTransaction' NODE ***/!!!
    BEGIN TRANSACTION MyTransaction;

        -- Some operations
    --** SSC-FDM-0007 - MISSING DEPENDENT OBJECT "Employees" **
        INSERT INTO Employees (Name, Department) VALUES ('Alice', 'Engineering');
    IF (:ERROR <> 0) THEN
        BEGIN
            !!!RESOLVE EWI!!! /*** SSC-EWI-TS0083 - ROLLBACK TRANSACTION REQUIRES THE APPROPRIATE SETUP TO WORK AS INTENDED. ***/!!!
            ROLLBACK TRANSACTION MyTransaction;  -- Named transaction rollback

        END;
    ELSE
        BEGIN
            COMMIT;
        END;
    END IF;
END;
```

Copy

* If you need more support, you can email us at [snowconvert-support@snowflake.com](mailto:snowconvert-support%40snowflake.com)

Was this page helpful?

YesNo

[Visit Snowflake](https://www.snowflake.com)

[Join the conversation](https://community.snowflake.com/s/)

[Develop with Snowflake](https://developers.snowflake.com)

[Share your feedback](/feedback)

[Read the latest on our blog](https://www.snowflake.com/blog/)

[Get your own certification](https://learn.snowflake.com)

[Privacy Notice](https://www.snowflake.com/privacy-policy/)[Site Terms](https://www.snowflake.com/legal/snowflake-site-terms/)Cookies Settings© 2026 Snowflake, Inc. All Rights Reserved.

Terms of Use

The SnowConvert AI tool is subject to the [Conversion Software Terms of Use](https://www.snowflake.com/en/legal/technical-services-and-education/conversion-software-terms/).

On this page

1. [SSC-EWI-TS0001](#ssc-ewi-ts0001)
2. [SSC-EWI-TS0002](#ssc-ewi-ts0002)
3. [SSC-EWI-TS0003](#ssc-ewi-ts0003)
4. [SSC-EWI-TS0009](#ssc-ewi-ts0009)
5. [SSC-EWI-TS0010](#ssc-ewi-ts0010)
6. [SSC-EWI-TS0013](#ssc-ewi-ts0013)
7. [SSC-EWI-TS0015](#ssc-ewi-ts0015)
8. [SSC-EWI-TS0016](#ssc-ewi-ts0016)
9. [SSC-EWI-TS0017](#ssc-ewi-ts0017)
10. [SSC-EWI-TS0023](#ssc-ewi-ts0023)
11. [SSC-EWI-TS0024](#ssc-ewi-ts0024)
12. [SSC-EWI-TS0025](#ssc-ewi-ts0025)
13. [SSC-EWI-TS0026](#ssc-ewi-ts0026)
14. [SSC-EWI-TS0032](#ssc-ewi-ts0032)
15. [SSC-EWI-TS0034](#ssc-ewi-ts0034)
16. [SSC-EWI-TS0035](#ssc-ewi-ts0035)
17. [SSC-EWI-TS0036](#ssc-ewi-ts0036)
18. [SSC-EWI-TS0037](#ssc-ewi-ts0037)
19. [SSC-EWI-TS0039](#ssc-ewi-ts0039)
20. [SSC-EWI-TS0041](#ssc-ewi-ts0041)
21. [SSC-EWI-TS0043](#ssc-ewi-ts0043)
22. [SSC-EWI-TS0044](#ssc-ewi-ts0044)
23. [SSC-EWI-TS0045](#ssc-ewi-ts0045)
24. [SSC-EWI-TS0046](#ssc-ewi-ts0046)
25. [SSC-EWI-TS0047](#ssc-ewi-ts0047)
26. [SSC-EWI-TS0049](#ssc-ewi-ts0049)
27. [SSC-EWI-TS0055](#ssc-ewi-ts0055)
28. [SSC-EWI-TS0056](#ssc-ewi-ts0056)
29. [SSC-EWI-TS0057](#ssc-ewi-ts0057)
30. [SSC-EWI-TS0060](#ssc-ewi-ts0060)
31. [SSC-EWI-TS0061](#ssc-ewi-ts0061)
32. [SSC-EWI-TS0063](#ssc-ewi-ts0063)
33. [SSC-EWI-TS0067](#ssc-ewi-ts0067)
34. [SSC-EWI-TS0070](#ssc-ewi-ts0070)
35. [SSC-EWI-TS0072](#ssc-ewi-ts0072)
36. [SSC-EWI-TS0073](#ssc-ewi-ts0073)
37. [SSC-EWI-TS0074](#ssc-ewi-ts0074)
38. [SSC-EWI-TS0075](#ssc-ewi-ts0075)
39. [SSC-EWI-TS0076](#ssc-ewi-ts0076)
40. [SSC-EWI-TS0077](#ssc-ewi-ts0077)
41. [SSC-EWI-TS0078](#ssc-ewi-ts0078)
42. [SSC-EWI-TS0079](#ssc-ewi-ts0079)
43. [SSC-EWI-TS0080](#ssc-ewi-ts0080)
44. [SSC-EWI-TS0081](#ssc-ewi-ts0081)
45. [SSC-EWI-TS0082](#ssc-ewi-ts0082)
46. [SSC-EWI-TS0083](#ssc-ewi-ts0083)